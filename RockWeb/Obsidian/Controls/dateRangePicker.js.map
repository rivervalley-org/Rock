{"version":3,"file":"dateRangePicker.js","sources":["../../../Framework/Controls/dateRangePicker.ts"],"sourcesContent":["// <copyright>\r\n// Copyright by the Spark Development Network\r\n//\r\n// Licensed under the Rock Community License (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n// http://www.rockrms.com/license\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n// </copyright>\r\n//\r\nimport { computed, defineComponent, PropType, ref, watch } from \"vue\";\r\nimport RockFormField from \"./rockFormField\";\r\nimport DatePickerBase from \"./datePickerBase.obs\";\r\n\r\nexport type DateRangeParts = {\r\n    lowerValue?: string | null,\r\n    upperValue?: string | null\r\n};\r\n\r\nexport default defineComponent({\r\n    name: \"DateRangePicker\",\r\n    components: {\r\n        RockFormField,\r\n        DatePickerBase\r\n    },\r\n\r\n    props: {\r\n        modelValue: {\r\n            type: Object as PropType<DateRangeParts>,\r\n            default: {}\r\n        },\r\n\r\n        /** Whether or not the user should be able to select dates in the past. NOT Reactive */\r\n        disallowPastDateSelection: {\r\n            type: Boolean as PropType<boolean>,\r\n            default: false\r\n        },\r\n    },\r\n\r\n    setup(props, { emit }) {\r\n        const lowerValue = ref(props.modelValue.lowerValue ?? \"\");\r\n        const upperValue = ref(props.modelValue.upperValue ?? \"\");\r\n\r\n        const internalValue = computed(() => {\r\n            if (lowerValue.value === \"\" && upperValue.value === \"\") {\r\n                return \"\";\r\n            }\r\n\r\n            return `{lowerValue.value},{upperValue.value}`;\r\n        });\r\n\r\n        const basePickerProps = computed(() => {\r\n            return {\r\n                disallowPastDateSelection: props.disallowPastDateSelection\r\n            };\r\n        });\r\n\r\n        watch(() => props.modelValue, () => {\r\n            lowerValue.value = props.modelValue.lowerValue ?? \"\";\r\n            upperValue.value = props.modelValue.upperValue ?? \"\";\r\n        });\r\n\r\n        watch(() => [lowerValue.value, upperValue.value], () => {\r\n            emit(\"update:modelValue\", {\r\n                lowerValue: lowerValue.value,\r\n                upperValue: upperValue.value\r\n            } as DateRangeParts);\r\n        });\r\n\r\n        return {\r\n            internalValue,\r\n            lowerValue,\r\n            upperValue,\r\n            basePickerProps\r\n        };\r\n    },\r\n\r\n    template: `\r\n<RockFormField formGroupClasses=\"date-range-picker\" #default=\"{uniqueId}\" name=\"daterangepicker\" v-model.lazy=\"internalValue\">\r\n    <div class=\"control-wrapper\">\r\n        <div class=\"picker-daterange\">\r\n            <div class=\"form-control-group\">\r\n                <DatePickerBase v-model=\"lowerValue\" v-bind=\"basePickerProps\" />\r\n                <div class=\"input-group form-control-static\"> to </div>\r\n                <DatePickerBase v-model=\"upperValue\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</RockFormField>`\r\n});\r\n"],"names":["defineComponent","name","components","RockFormField","DatePickerBase","props","modelValue","type","Object","default","disallowPastDateSelection","Boolean","setup","_ref","_props$modelValue$low","_props$modelValue$upp","emit","lowerValue","ref","upperValue","internalValue","computed","value","basePickerProps","watch","_props$modelValue$low2","_props$modelValue$upp2","template"],"mappings":";;;;;;;;;;;;;;;;AAyBA,qDAAeA,eAAe,CAAC;YAC3BC,EAAAA,IAAI,EAAE,iBAAiB;YACvBC,EAAAA,UAAU,EAAE;gBACRC,aAAa;YACbC,IAAAA,cAAAA;eACH;YAEDC,EAAAA,KAAK,EAAE;YACHC,IAAAA,UAAU,EAAE;YACRC,MAAAA,IAAI,EAAEC,MAAkC;YACxCC,MAAAA,OAAO,EAAE,EAAC;iBACb;YAGDC,IAAAA,yBAAyB,EAAE;YACvBH,MAAAA,IAAI,EAAEI,OAA4B;YAClCF,MAAAA,OAAO,EAAE,KAAA;YACb,KAAA;eACH;YAEDG,EAAAA,KAAKA,CAACP,KAAK,EAAAQ,IAAA,EAAY;gBAAA,IAAAC,qBAAA,EAAAC,qBAAA,CAAA;YAAA,IAAA,IAARC,IAAI,GAAAH,IAAA,CAAJG,IAAI,CAAA;YACf,IAAA,IAAMC,UAAU,GAAGC,GAAG,CAAAJ,CAAAA,qBAAA,GAACT,KAAK,CAACC,UAAU,CAACW,UAAU,MAAAH,IAAAA,IAAAA,qBAAA,cAAAA,qBAAA,GAAI,EAAE,CAAC,CAAA;YACzD,IAAA,IAAMK,UAAU,GAAGD,GAAG,CAAAH,CAAAA,qBAAA,GAACV,KAAK,CAACC,UAAU,CAACa,UAAU,MAAAJ,IAAAA,IAAAA,qBAAA,cAAAA,qBAAA,GAAI,EAAE,CAAC,CAAA;YAEzD,IAAA,IAAMK,aAAa,GAAGC,QAAQ,CAAC,MAAM;kBACjC,IAAIJ,UAAU,CAACK,KAAK,KAAK,EAAE,IAAIH,UAAU,CAACG,KAAK,KAAK,EAAE,EAAE;YACpD,QAAA,OAAO,EAAE,CAAA;YACb,OAAA;YAEA,MAAA,OAAA,uCAAA,CAAA;YACJ,KAAC,CAAC,CAAA;YAEF,IAAA,IAAMC,eAAe,GAAGF,QAAQ,CAAC,MAAM;kBACnC,OAAO;oBACHX,yBAAyB,EAAEL,KAAK,CAACK,yBAAAA;mBACpC,CAAA;YACL,KAAC,CAAC,CAAA;YAEFc,IAAAA,KAAK,CAAC,MAAMnB,KAAK,CAACC,UAAU,EAAE,MAAM;kBAAA,IAAAmB,sBAAA,EAAAC,sBAAA,CAAA;YAChCT,MAAAA,UAAU,CAACK,KAAK,GAAAG,CAAAA,sBAAA,GAAGpB,KAAK,CAACC,UAAU,CAACW,UAAU,MAAAQ,IAAAA,IAAAA,sBAAA,KAAAA,KAAAA,CAAAA,GAAAA,sBAAA,GAAI,EAAE,CAAA;YACpDN,MAAAA,UAAU,CAACG,KAAK,GAAAI,CAAAA,sBAAA,GAAGrB,KAAK,CAACC,UAAU,CAACa,UAAU,MAAAO,IAAAA,IAAAA,sBAAA,KAAAA,KAAAA,CAAAA,GAAAA,sBAAA,GAAI,EAAE,CAAA;YACxD,KAAC,CAAC,CAAA;YAEFF,IAAAA,KAAK,CAAC,MAAM,CAACP,UAAU,CAACK,KAAK,EAAEH,UAAU,CAACG,KAAK,CAAC,EAAE,MAAM;kBACpDN,IAAI,CAAC,mBAAmB,EAAE;oBACtBC,UAAU,EAAEA,UAAU,CAACK,KAAK;oBAC5BH,UAAU,EAAEA,UAAU,CAACG,KAAAA;YAC3B,OAAC,CAAmB,CAAA;YACxB,KAAC,CAAC,CAAA;gBAEF,OAAO;kBACHF,aAAa;kBACbH,UAAU;kBACVE,UAAU;YACVI,MAAAA,eAAAA;iBACH,CAAA;eACJ;cAEDI,QAAQ,EAAA,uiBAAA;YAYZ,CAAC,EAAC;;;;;;;;"}