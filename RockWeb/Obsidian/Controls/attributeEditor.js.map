{"version":3,"file":"attributeEditor.js","sources":["../../../Framework/Controls/attributeEditor.ts"],"sourcesContent":["// <copyright>\r\n// Copyright by the Spark Development Network\r\n//\r\n// Licensed under the Rock Community License (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n// http://www.rockrms.com/license\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n// </copyright>\r\n//\r\n\r\nimport { Guid } from \"@Obsidian/Types\";\r\nimport { computed, defineComponent, PropType, ref, watch } from \"vue\";\r\nimport CheckBox from \"./checkBox\";\r\nimport TextBox from \"./textBox\";\r\nimport { FieldTypeEditorUpdateAttributeConfigurationOptionsBag } from \"@Obsidian/ViewModels/Controls/fieldTypeEditorUpdateAttributeConfigurationOptionsBag\";\r\nimport { PublicEditableAttributeBag } from \"@Obsidian/ViewModels/Utility/publicEditableAttributeBag\";\r\nimport CategoryPicker from \"./categoryPicker\";\r\nimport FieldTypeEditor from \"./fieldTypeEditor\";\r\nimport StaticFormControl from \"./staticFormControl\";\r\nimport PanelWidget from \"./panelWidget\";\r\nimport { EntityType } from \"@Obsidian/SystemGuids/entityType\";\r\n\r\nexport default defineComponent({\r\n    name: \"AttributeEditor\",\r\n\r\n    components: {\r\n        CategoryPicker,\r\n        CheckBox,\r\n        FieldTypeEditor,\r\n        PanelWidget,\r\n        StaticFormControl,\r\n        TextBox\r\n    },\r\n\r\n    props: {\r\n        modelValue: {\r\n            type: Object as PropType<PublicEditableAttributeBag | null>,\r\n            default: null\r\n        },\r\n\r\n        /** test */\r\n        attributeEntityTypeGuid: {\r\n            type: String as PropType<Guid>,\r\n            default: \"\"\r\n        },\r\n\r\n        isAnalyticsVisible: {\r\n            type: Boolean as PropType<boolean>,\r\n            default: false\r\n        },\r\n\r\n        isShowInGridVisible: {\r\n            type: Boolean as PropType<boolean>,\r\n            default: true\r\n        },\r\n\r\n        isShowOnBulkVisible: {\r\n            type: Boolean as PropType<boolean>,\r\n            default: true\r\n        },\r\n\r\n        isAllowSearchVisible: {\r\n            type: Boolean as PropType<boolean>,\r\n            default: false\r\n        },\r\n\r\n        isIndexingEnabledVisible: {\r\n            type: Boolean as PropType<boolean>,\r\n            default: false\r\n        },\r\n\r\n        reservedKeyNames: {\r\n            type: Array as PropType<string[]>,\r\n            default: []\r\n        }\r\n    },\r\n\r\n    setup(props, { emit }) {\r\n        const attributeName = ref(props.modelValue?.name ?? \"\");\r\n        const abbreviatedName = ref(props.modelValue?.abbreviatedName ?? \"\");\r\n        const attributeKey = ref(props.modelValue?.key ?? \"\");\r\n        const description = ref(props.modelValue?.description ?? \"\");\r\n        const isSystem = ref(props.modelValue?.isSystem ?? false);\r\n        const isActive = ref(props.modelValue?.isActive ?? true);\r\n        const isPublic = ref(props.modelValue?.isPublic ?? false);\r\n        const isRequired = ref(props.modelValue?.isRequired ?? false);\r\n        const isShowOnBulk = ref(props.modelValue?.isShowOnBulk ?? false);\r\n        const isShowInGrid = ref(props.modelValue?.isShowInGrid ?? false);\r\n        const isHistoryEnabled = ref(props.modelValue?.isEnableHistory ?? false);\r\n        const isAllowSearch = ref(props.modelValue?.isAllowSearch ?? false);\r\n        const isIndexingEnabled = ref(props.modelValue?.isIndexEnabled ?? false);\r\n        const isAnalyticsEnabled = ref(props.modelValue?.isAnalytic ?? false);\r\n        const isAnalyticsHistoryEnabled = ref(props.modelValue?.isAnalyticHistory ?? false);\r\n        const preHtml = ref(props.modelValue?.preHtml ?? \"\");\r\n        const postHtml = ref(props.modelValue?.postHtml ?? \"\");\r\n        const categories = ref([...(props.modelValue?.categories ?? [])]);\r\n        const fieldTypeValue = ref<FieldTypeEditorUpdateAttributeConfigurationOptionsBag>({\r\n            fieldTypeGuid: props.modelValue?.fieldTypeGuid ?? \"\",\r\n            configurationValues: { ...(props.modelValue?.configurationValues ?? {}) },\r\n            defaultValue: props.modelValue?.defaultValue ?? \"\"\r\n        });\r\n\r\n        const categoryQualifierValue = computed((): string => {\r\n            if (props.attributeEntityTypeGuid) {\r\n                return `{EL:${EntityType.EntityType}:${props.attributeEntityTypeGuid}}`;\r\n            }\r\n            else {\r\n                return \"\";\r\n            }\r\n        });\r\n\r\n        const isFieldTypeReadOnly = computed((): boolean => !!props.modelValue?.guid);\r\n\r\n        watch([\r\n            attributeName,\r\n            abbreviatedName,\r\n            attributeKey,\r\n            description,\r\n            isActive,\r\n            isPublic,\r\n            isRequired,\r\n            isShowOnBulk,\r\n            isShowInGrid,\r\n            isAllowSearch,\r\n            isAnalyticsHistoryEnabled,\r\n            isAnalyticsHistoryEnabled,\r\n            isHistoryEnabled,\r\n            isIndexingEnabled,\r\n            preHtml,\r\n            postHtml,\r\n            categories,\r\n            fieldTypeValue],\r\n            () => {\r\n                const newModelValue: PublicEditableAttributeBag = {\r\n                    ...(props.modelValue ?? { isSystem: false }),\r\n                    name: attributeName.value,\r\n                    abbreviatedName: abbreviatedName.value,\r\n                    key: attributeKey.value,\r\n                    description: description.value,\r\n                    isActive: isActive.value,\r\n                    isPublic: isPublic.value,\r\n                    isRequired: isRequired.value,\r\n                    isShowOnBulk: isShowOnBulk.value,\r\n                    isShowInGrid: isShowInGrid.value,\r\n                    isAllowSearch: isAllowSearch.value,\r\n                    isAnalytic: isAnalyticsEnabled.value,\r\n                    isAnalyticHistory: isAnalyticsHistoryEnabled.value,\r\n                    isEnableHistory: isHistoryEnabled.value,\r\n                    isIndexEnabled: isIndexingEnabled.value,\r\n                    preHtml: preHtml.value,\r\n                    postHtml: postHtml.value,\r\n                    categories: [...categories.value],\r\n                    fieldTypeGuid: fieldTypeValue.value.fieldTypeGuid,\r\n                    configurationValues: { ...fieldTypeValue.value.configurationValues },\r\n                    defaultValue: fieldTypeValue.value.defaultValue\r\n                };\r\n\r\n                emit(\"update:modelValue\", newModelValue);\r\n            });\r\n\r\n        return {\r\n            abbreviatedName,\r\n            attributeEntityTypeGuid: EntityType.Attribute,\r\n            attributeName,\r\n            attributeKey,\r\n            categoryQualifierValue,\r\n            description,\r\n            categories,\r\n            fieldTypeValue,\r\n            isActive,\r\n            isAllowSearch,\r\n            isAnalyticsEnabled,\r\n            isAnalyticsHistoryEnabled,\r\n            isFieldTypeReadOnly,\r\n            isHistoryEnabled,\r\n            isIndexingEnabled,\r\n            isPublic,\r\n            isRequired,\r\n            isShowInGrid,\r\n            isShowOnBulk,\r\n            isSystem,\r\n            preHtml,\r\n            postHtml\r\n        };\r\n    },\r\n\r\n    template: `\r\n<fieldset>\r\n    <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n            <TextBox v-model=\"attributeName\"\r\n                label=\"Name\"\r\n                rules=\"required\" />\r\n        </div>\r\n\r\n        <div class=\"col-md-6\">\r\n            <CheckBox v-model=\"isActive\"\r\n                label=\"Active\"\r\n                help=\"Set to Inactive to exclude this attribute from Edit and Display UIs.\"\r\n                text=\"Yes\" />\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n            <TextBox v-model=\"abbreviatedName\"\r\n                label=\"Abbreviated Name\" />\r\n        </div>\r\n\r\n        <div class=\"col-md-6\">\r\n            <CheckBox v-model=\"isPublic\"\r\n                label=\"Public\"\r\n                help=\"Set to public if you want this attribute to be displayed in public contexts.\"\r\n                text=\"Yes\" />\r\n        </div>\r\n    </div>\r\n\r\n    <TextBox v-model=\"description\"\r\n        label=\"Description\"\r\n        textMode=\"multiline\" />\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n            <CategoryPicker v-model=\"categories\"\r\n                label=\"Categories\"\r\n                :entityTypeGuid=\"attributeEntityTypeGuid\"\r\n                entityTypeQualifierColumn=\"EntityTypeId\"\r\n                :entityTypeQualifierValue=\"categoryQualifierValue\"\r\n                multiple />\r\n\r\n            <StaticFormControl v-if=\"isSystem\" v-model=\"attributeKey\" label=\"Key\" />\r\n            <TextBox v-else v-model=\"attributeKey\" label=\"Key\" rules=\"required\" :disabled=\"keyDisabledAttr\" />\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-6\">\r\n                    <CheckBox v-model=\"isRequired\"\r\n                        label=\"Required\"\r\n                        text=\"Yes\" />\r\n                </div>\r\n\r\n                <div class=\"col-sm-6\">\r\n                    <CheckBox v-if=\"isShowOnBulkVisible\"\r\n                        v-model=\"isShowOnBulk\"\r\n                        label=\"Show on Bulk\"\r\n                        help=\"If selected, this attribute will be shown with bulk update attributes.\"\r\n                        text=\"Yes\" />\r\n                </div>\r\n\r\n                <div class=\"col-sm-6\">\r\n                    <CheckBox v-if=\"isShowInGridVisible\"\r\n                        v-model=\"isShowInGrid\"\r\n                        label=\"Show in Grid\"\r\n                        help=\"If selected, this attribute will be included in a grid.\"\r\n                        text=\"Yes\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"col-md-6\">\r\n            <FieldTypeEditor v-model=\"fieldTypeValue\" :isFieldTypeReadOnly=\"isFieldTypeReadOnly\" />\r\n        </div>\r\n    </div>\r\n\r\n    <PanelWidget>\r\n        <template #header>Advanced Settings</template>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n                <CheckBox label=\"Enable History\"\r\n                    v-model=\"isHistoryEnabled\"\r\n                    help=\"If selected, changes to the value of this attribute will be stored in attribute value history.\"\r\n                    text=\"Yes\" />\r\n\r\n                <CheckBox v-if=\"isAllowSearchVisible\"\r\n                    label=\"Allow Search\"\r\n                    v-model=\"isAllowSearch\"\r\n                    help=\"If selected, this attribute can be searched on.\"\r\n                    text=\"Yes\" />\r\n\r\n                <CheckBox v-if=\"isIndexingEnabledVisible\"\r\n                    label=\"Indexing Enabled\"\r\n                    v-model=\"isIndexingEnabled\"\r\n                    help=\"If selected, this attribute can be used when indexing for universal search.\"\r\n                    text=\"Yes\" />\r\n            </div>\r\n\r\n            <div class=\"col-md-6\">\r\n                <CheckBox v-if=\"isAnalyticsVisible\"\r\n                    label=\"Analytics Enabled\"\r\n                    v-model=\"isAnalyticHistory\"\r\n                    help=\"If selected, this attribute will be made available as an Analytic.\"\r\n                    text=\"Yes\" />\r\n\r\n                <CheckBox v-if=\"isAnalyticsVisible\"\r\n                    label=\"Analytics History Enabled\"\r\n                    v-model=\"isAnalyticsHistoryEnabled\"\r\n                    help=\"If selected, changes to the value of this attribute will cause Analytics to create a history record. Note that this requires that 'Analytics Enabled' is also enabled.\"\r\n                    text=\"Yes\" />\r\n            </div>\r\n        </div>\r\n\r\n        <TextBox v-model=\"preHtml\"\r\n            label=\"Pre-HTML\"\r\n            help=\"HTML that should be rendered before the attribute's edit control.\"\r\n            textMode=\"multiline\" />\r\n\r\n        <TextBox v-model=\"postHtml\"\r\n            label=\"Post-HTML\"\r\n            help=\"HTML that should be rendered before the attribute's edit control.\"\r\n            textMode=\"multiline\" />\r\n    </PanelWidget>\r\n</fieldset>\r\n`\r\n});\r\n"],"names":["defineComponent","name","components","CategoryPicker","CheckBox","FieldTypeEditor","PanelWidget","StaticFormControl","TextBox","props","modelValue","type","Object","default","attributeEntityTypeGuid","String","isAnalyticsVisible","Boolean","isShowInGridVisible","isShowOnBulkVisible","isAllowSearchVisible","isIndexingEnabledVisible","reservedKeyNames","Array","setup","_ref","_props$modelValue$nam","_props$modelValue","_props$modelValue$abb","_props$modelValue2","_props$modelValue$key","_props$modelValue3","_props$modelValue$des","_props$modelValue4","_props$modelValue$isS","_props$modelValue5","_props$modelValue$isA","_props$modelValue6","_props$modelValue$isP","_props$modelValue7","_props$modelValue$isR","_props$modelValue8","_props$modelValue$isS2","_props$modelValue9","_props$modelValue$isS3","_props$modelValue10","_props$modelValue$isE","_props$modelValue11","_props$modelValue$isA2","_props$modelValue12","_props$modelValue$isI","_props$modelValue13","_props$modelValue$isA3","_props$modelValue14","_props$modelValue$isA4","_props$modelValue15","_props$modelValue$pre","_props$modelValue16","_props$modelValue$pos","_props$modelValue17","_props$modelValue$cat","_props$modelValue18","_props$modelValue$fie","_props$modelValue19","_props$modelValue$con","_props$modelValue20","_props$modelValue$def","_props$modelValue21","emit","attributeName","ref","abbreviatedName","attributeKey","key","description","isSystem","isActive","isPublic","isRequired","isShowOnBulk","isShowInGrid","isHistoryEnabled","isEnableHistory","isAllowSearch","isIndexingEnabled","isIndexEnabled","isAnalyticsEnabled","isAnalytic","isAnalyticsHistoryEnabled","isAnalyticHistory","preHtml","postHtml","categories","fieldTypeValue","fieldTypeGuid","configurationValues","_objectSpread","defaultValue","categoryQualifierValue","computed","concat","EntityType","isFieldTypeReadOnly","_props$modelValue22","guid","watch","_props$modelValue23","newModelValue","value","Attribute","template"],"mappings":"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"}