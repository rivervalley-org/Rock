{"version":3,"file":"slidingDateRangePicker.obs.js","sources":["../../../Framework/Controls/slidingDateRangePicker.obs"],"sourcesContent":["<!-- Copyright by the Spark Development Network; Licensed under the Rock Community License -->\r\n<template>\r\n    <RockFormField :modelValue=\"internalValue\" formGroupClasses=\"slidingdaterange\" name=\"slidingdaterange\">\r\n        <template #besideLabel v-if=\"previewLocation == 'Top' && isTimeUnit\">\r\n            <div class=\"label label-info js-slidingdaterange-info slidingdaterange-info\">{{ dateRangeText }}</div>\r\n        </template>\r\n        <template #default=\"{ uniqueId }\">\r\n            <div :id=\"uniqueId\" class=\"form-control-group\">\r\n                <DropDownList v-model=\"rangeType\" :items=\"computedRangeTypeOptions\" showBlankItem class=\"input-width-md slidingdaterange-select\" />\r\n\r\n                <input v-if=\"isNumberVisible\" v-model=\"timeValue\" class=\"form-control input-width-sm slidingdaterange-number\" type=\"text\" pattern=\"[0-9]*\" inputmode=\"numeric\" />\r\n\r\n                <template v-if=\"isTimeUnit\">\r\n                    <DropDownList v-model=\"timeUnit\" :items=\"computedTimeUnitOptions\" class=\"form-control input-width-md slidingdaterange-timeunits-plural\" :showBlankItem=\"false\" />\r\n\r\n                    <div v-if=\"previewLocation == 'Right'\" class=\"label label-info js-slidingdaterange-info slidingdaterange-info\">{{ dateRangeText }}</div>\r\n                </template>\r\n\r\n                <div v-if=\"isDateRange\" class=\"picker-daterange slidingdaterange-daterange pull-left\">\r\n                    <div class=\"input-group input-group-lower input-width-md date\">\r\n                        <DatePicker v-model=\"lowDate\" />\r\n                    </div>\r\n\r\n                    <div class=\"input-group form-control-static\">to</div>\r\n\r\n                    <div class=\"input-group input-group-lower input-width-md date\">\r\n                        <DatePicker v-model=\"highDate\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </template>\r\n    </RockFormField>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n    import { computed, PropType, ref, watch } from \"vue\";\r\n    import RockFormField from \"./rockFormField\";\r\n    import DropDownList from \"./dropDownList\";\r\n    import DatePicker from \"./datePicker.obs\";\r\n    import { ListItemBag } from \"@Obsidian/ViewModels/Utility/listItemBag\";\r\n    import { toNumber, toNumberOrNull } from \"@Obsidian/Utility/numberUtils\";\r\n    import { useHttp } from \"@Obsidian/Utility/http\";\r\n    import { SlidingDateRange, rangeTypeOptions, timeUnitOptions, TimeUnit, RangeType } from \"@Obsidian/Utility/slidingDateRange\";\r\n\r\n    const props = defineProps({\r\n        modelValue: {\r\n            type: Object as PropType<SlidingDateRange | null>,\r\n            required: true\r\n        },\r\n\r\n        enabledSlidingDateRangeUnits: {\r\n            type: Array as PropType<RangeType[] | null>,\r\n            default: null\r\n        },\r\n\r\n        enabledTimeUnits: {\r\n            type: Array as PropType<TimeUnit[] | null>,\r\n            default: null\r\n        },\r\n\r\n        previewLocation: {\r\n            type: String as PropType<\"Right\" | \"Top\" | \"None\">,\r\n            default: \"Right\"\r\n        }\r\n    });\r\n\r\n    const emit = defineEmits<{\r\n        (e: \"update:modelValue\", v: SlidingDateRange | null): void\r\n    }>();\r\n\r\n    const internalValue = ref(props.modelValue);\r\n    const http = useHttp();\r\n\r\n    const rangeType = ref(internalValue.value?.rangeType?.toString() ?? \"\");\r\n    const timeValue = ref(internalValue.value?.timeValue?.toString() ?? \"\");\r\n    const timeUnit = ref(internalValue.value?.timeUnit?.toString() ?? \"0\");\r\n    const lowDate = ref(internalValue.value?.lowerDate ?? \"\");\r\n    const highDate = ref(internalValue.value?.upperDate ?? \"\");\r\n\r\n    /** Contains the text that describes the currently selected range. */\r\n    const dateRangeText = ref(\"\");\r\n\r\n    /** True if the selected range type is two dates that make up the range. */\r\n    const isDateRange = computed((): boolean => {\r\n        return rangeType.value === \"2\";\r\n    });\r\n\r\n    /** True if the selected range type is one based on time units. */\r\n    const isTimeUnit = computed((): boolean => {\r\n        return rangeType.value === \"0\" || rangeType.value === \"1\" || rangeType.value === \"4\" || rangeType.value === \"8\" || rangeType.value === \"16\";\r\n    });\r\n\r\n    /** True if the selected range type is one that takes a numerical value. */\r\n    const isNumberVisible = computed((): boolean => {\r\n        return rangeType.value === \"0\" || rangeType.value === \"4\" || rangeType.value === \"8\" || rangeType.value === \"16\";\r\n    });\r\n\r\n    /** The time unit options that will be made available to the user. */\r\n    const computedTimeUnitOptions = computed((): ListItemBag[] => {\r\n        const units = timeUnitOptions\r\n            .filter(tu => !props.enabledTimeUnits || props.enabledTimeUnits.includes(toNumber(tu.value) as TimeUnit));\r\n\r\n        if (!isNumberVisible.value || toNumber(timeValue.value) === 1) {\r\n            return units;\r\n        }\r\n\r\n        // Pluralize the time unit options if the time value isn't singular.\r\n        return units.map(o => {\r\n            return {\r\n                value: o.value,\r\n                text: `${o.text}s`\r\n            };\r\n        });\r\n    });\r\n\r\n    /** Convert the enabledSlidingDateRangeUnits props to strings for simpler comparison */\r\n    const enabledSlidingDateRangeUnits = computed(() => props.enabledSlidingDateRangeUnits?.map(v => v.toString()));\r\n\r\n    /** The range type options that will be made available to the user */\r\n    const computedRangeTypeOptions = computed((): ListItemBag[] => {\r\n        if (!props.enabledSlidingDateRangeUnits || props.enabledSlidingDateRangeUnits.length < 1) {\r\n            return rangeTypeOptions;\r\n        }\r\n\r\n        return rangeTypeOptions.filter((rt) => enabledSlidingDateRangeUnits.value?.includes(rt.value as string));\r\n    });\r\n\r\n    /**\r\n     * Updates the dateRangeText value to reflect the current selections\r\n     * made by the user.\r\n     */\r\n    const updateDateRangeText = async (): Promise<void> => {\r\n        const parameters: Record<string, string> = {\r\n            slidingDateRangeType: rangeType.value || \"0\",\r\n            timeUnitType: timeUnit.value || \"0\",\r\n            number: timeValue.value || \"1\"\r\n        };\r\n\r\n        if (lowDate.value && highDate.value) {\r\n            parameters[\"startDate\"] = lowDate.value;\r\n            parameters[\"endDate\"] = highDate.value;\r\n        }\r\n\r\n        const result = await http.get<string>(\"/api/Utility/CalculateSlidingDateRange\", parameters);\r\n\r\n        if (result.isSuccess && result.data) {\r\n            dateRangeText.value = result.data;\r\n        }\r\n        else {\r\n            dateRangeText.value = \"\";\r\n        }\r\n    };\r\n\r\n    watch(rangeType, () => {\r\n        if ([\"0\", \"4\", \"8\", \"16\"].includes(rangeType.value) && internalValue.value) {\r\n            timeValue.value = toNumberOrNull(timeValue.value)?.toString() ?? \"1\";\r\n        }\r\n    });\r\n\r\n    // Watch for changes in our user interface values and update our internal\r\n    // value with the computed information.\r\n    watch([rangeType, timeUnit, timeValue, lowDate, highDate], () => {\r\n        updateDateRangeText();\r\n\r\n        const internalRangeType = toNumberOrNull(rangeType.value);\r\n\r\n        if (internalRangeType === null) {\r\n            internalValue.value = null;\r\n            return;\r\n        }\r\n\r\n        const newValue: SlidingDateRange = {\r\n            rangeType: internalRangeType\r\n        };\r\n\r\n        // These two checks could probably use isTimeUnit and isNumberVisible,\r\n        // but I'm not sure if watch() runs before or after computed().\r\n        if ([\"0\", \"1\", \"4\", \"8\", \"16\"].includes(rangeType.value)) {\r\n            newValue.timeUnit = toNumberOrNull(timeUnit.value) as TimeUnit ?? undefined;\r\n        }\r\n\r\n        if ([\"0\", \"4\", \"8\", \"16\"].includes(rangeType.value)) {\r\n            newValue.timeValue = toNumberOrNull(timeValue.value) ?? undefined;\r\n        }\r\n\r\n        if (rangeType.value == \"2\") {\r\n            newValue.lowerDate = lowDate.value;\r\n            newValue.upperDate = highDate.value;\r\n        }\r\n\r\n        internalValue.value = newValue;\r\n    });\r\n\r\n    // Watch for changes in the model value and update our internal values.\r\n    watch(() => props.modelValue, () => {\r\n        internalValue.value = props.modelValue;\r\n        rangeType.value = internalValue.value?.rangeType?.toString() ?? \"\";\r\n        timeValue.value = internalValue.value?.timeValue?.toString() ?? \"\";\r\n        timeUnit.value = internalValue.value?.timeUnit?.toString() ?? \"\";\r\n        lowDate.value = internalValue.value?.lowerDate ?? \"\";\r\n        highDate.value = internalValue.value?.upperDate ?? \"\";\r\n    });\r\n\r\n    // Watch for changes in our internal value and update the model value.\r\n    watch(internalValue, () => {\r\n        emit(\"update:modelValue\", internalValue.value);\r\n    });\r\n\r\n    // Set the initial date range text on load.\r\n    updateDateRangeText();\r\n</script>"],"names":["internalValue","ref","props","modelValue","http","useHttp","rangeType","_internalValue$value$","_internalValue$value","value","_internalValue$value$2","toString","timeValue","_internalValue$value$3","_internalValue$value2","_internalValue$value3","timeUnit","_internalValue$value$4","_internalValue$value4","_internalValue$value5","lowDate","_internalValue$value$5","_internalValue$value6","lowerDate","highDate","_internalValue$value$6","_internalValue$value7","upperDate","dateRangeText","isDateRange","computed","isTimeUnit","isNumberVisible","computedTimeUnitOptions","units","timeUnitOptions","filter","tu","enabledTimeUnits","includes","toNumber","map","o","text","concat","enabledSlidingDateRangeUnits","_props$enabledSliding","v","computedRangeTypeOptions","length","rangeTypeOptions","rt","_enabledSlidingDateRa","updateDateRangeText","_ref2","_asyncToGenerator","parameters","slidingDateRangeType","timeUnitType","number","result","get","isSuccess","data","apply","arguments","watch","_toNumberOrNull$toStr","_toNumberOrNull","toNumberOrNull","internalRangeType","newValue","_ref3","undefined","_toNumberOrNull2","_internalValue$value$7","_internalValue$value8","_internalValue$value9","_internalValue$value$8","_internalValue$value10","_internalValue$value11","_internalValue$value$9","_internalValue$value12","_internalValue$value13","_internalValue$value$10","_internalValue$value14","_internalValue$value$11","_internalValue$value15","emit"],"mappings":"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"}