{"version":3,"file":"colorPicker.js","sources":["../../../Framework/Controls/colorPicker.ts"],"sourcesContent":["ï»¿// <copyright>\r\n// Copyright by the Spark Development Network\r\n//\r\n// Licensed under the Rock Community License (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n// http://www.rockrms.com/license\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n// </copyright>\r\n//\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport RockFormField from \"./rockFormField\";\r\n\r\n// TODO: This should be replaced with a version that does not require jQuery.\r\nexport default defineComponent({\r\n    name: \"ColorPicker\",\r\n    components: {\r\n        RockFormField\r\n    },\r\n    props: {\r\n        modelValue: {\r\n            type: String as PropType<string>,\r\n            required: true\r\n        },\r\n        placeholder: {\r\n            type: String as PropType<string>,\r\n            default: \"\"\r\n        }\r\n    },\r\n    emits: [\r\n        \"update:modelValue\"\r\n    ],\r\n    data: function () {\r\n        return {\r\n            internalValue: this.modelValue\r\n        };\r\n    },\r\n    mounted(): void {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const $colorPicker = (<any>window[<any>\"$\"])(this.$refs.colorPicker);\r\n\r\n        $colorPicker.colorpicker();\r\n\r\n        // Vue will not detect the change if it happens from jQuery, so we need\r\n        // to detect the change and make sure Vue knows.\r\n        $colorPicker.find(\"> input\").on(\"change\", () => {\r\n            this.internalValue = <string>$colorPicker.find(\"> input\").val();\r\n        });\r\n    },\r\n    computed: {\r\n    },\r\n    watch: {\r\n        internalValue() {\r\n            this.$emit(\"update:modelValue\", this.internalValue);\r\n        },\r\n        modelValue() {\r\n            this.internalValue = this.modelValue;\r\n        }\r\n    },\r\n    template: `\r\n<RockFormField\r\n    v-model=\"internalValue\"\r\n    formGroupClasses=\"rock-color-picker\"\r\n    name=\"colorpicker\">\r\n    <template #default=\"{uniqueId, field}\">\r\n        <div class=\"control-wrapper\">\r\n            <div ref=\"colorPicker\" class=\"input-group input-width-lg\">\r\n                <input v-model=\"internalValue\" :id=\"uniqueId\" type=\"text\" class=\"form-control\" v-bind=\"field\" :placeholder=\"placeholder\" />\r\n                <span class=\"input-group-addon\">\r\n                    <i></i>\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </template>\r\n</RockFormField>`\r\n});\r\n"],"names":["defineComponent","name","components","RockFormField","props","modelValue","type","String","required","placeholder","default","emits","data","internalValue","mounted","$colorPicker","window","$refs","colorPicker","colorpicker","find","on","val","computed","watch","$emit","template"],"mappings":";;;;;;;;;;;AAoBA,iDAAeA,eAAe,CAAC;YAC3BC,EAAAA,IAAI,EAAE,aAAa;YACnBC,EAAAA,UAAU,EAAE;YACRC,IAAAA,aAAAA;eACH;YACDC,EAAAA,KAAK,EAAE;YACHC,IAAAA,UAAU,EAAE;YACRC,MAAAA,IAAI,EAAEC,MAA0B;YAChCC,MAAAA,QAAQ,EAAE,IAAA;iBACb;YACDC,IAAAA,WAAW,EAAE;YACTH,MAAAA,IAAI,EAAEC,MAA0B;YAChCG,MAAAA,OAAO,EAAE,EAAA;YACb,KAAA;eACH;cACDC,KAAK,EAAE,CACH,mBAAmB,CACtB;cACDC,IAAI,EAAE,SAAAA,IAAAA,GAAY;gBACd,OAAO;kBACHC,aAAa,EAAE,IAAI,CAACR,UAAAA;iBACvB,CAAA;eACJ;YACDS,EAAAA,OAAOA,GAAS;YAEZ,IAAA,IAAMC,YAAY,GAASC,MAAM,CAAM,GAAG,CAAC,CAAE,IAAI,CAACC,KAAK,CAACC,WAAW,CAAC,CAAA;gBAEpEH,YAAY,CAACI,WAAW,EAAE,CAAA;gBAI1BJ,YAAY,CAACK,IAAI,CAAC,SAAS,CAAC,CAACC,EAAE,CAAC,QAAQ,EAAE,MAAM;kBAC5C,IAAI,CAACR,aAAa,GAAWE,YAAY,CAACK,IAAI,CAAC,SAAS,CAAC,CAACE,GAAG,EAAE,CAAA;YACnE,KAAC,CAAC,CAAA;eACL;cACDC,QAAQ,EAAE,EACT;YACDC,EAAAA,KAAK,EAAE;YACHX,IAAAA,aAAaA,GAAG;kBACZ,IAAI,CAACY,KAAK,CAAC,mBAAmB,EAAE,IAAI,CAACZ,aAAa,CAAC,CAAA;iBACtD;YACDR,IAAAA,UAAUA,GAAG;YACT,MAAA,IAAI,CAACQ,aAAa,GAAG,IAAI,CAACR,UAAU,CAAA;YACxC,KAAA;eACH;cACDqB,QAAQ,EAAA,smBAAA;YAgBZ,CAAC,EAAC;;;;;;;;"}