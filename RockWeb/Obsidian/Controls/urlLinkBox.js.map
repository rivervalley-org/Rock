{"version":3,"file":"urlLinkBox.js","sources":["../../../Framework/Controls/urlLinkBox.ts"],"sourcesContent":["ï»¿// <copyright>\r\n// Copyright by the Spark Development Network\r\n//\r\n// Licensed under the Rock Community License (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n// http://www.rockrms.com/license\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n// </copyright>\r\n//\r\nimport { normalizeRules, rulesPropType, ValidationRule } from \"@Obsidian/ValidationRules\";\r\nimport { useVModelPassthrough } from \"@Obsidian/Utility/component\";\r\nimport { defineComponent, PropType, computed } from \"vue\";\r\nimport RockFormField from \"./rockFormField\";\r\n\r\nexport default defineComponent({\r\n    name: \"UrlLinkBox\",\r\n\r\n    components: {\r\n        RockFormField\r\n    },\r\n\r\n    props: {\r\n        modelValue: {\r\n            type: String as PropType<string>,\r\n            required: true\r\n        },\r\n        rules: rulesPropType,\r\n        requiresTrailingSlash: {\r\n            type: Boolean as PropType<boolean>,\r\n            default: false\r\n        }\r\n    },\r\n\r\n    emits: [\r\n        \"update:modelValue\"\r\n    ],\r\n\r\n    setup(props, { emit }) {\r\n        const value = useVModelPassthrough(props, \"modelValue\", emit);\r\n\r\n        const computedRules = computed((): ValidationRule[] => {\r\n            const rules = normalizeRules(props.rules);\r\n\r\n            if (rules.indexOf(\"url\") === -1) {\r\n                rules.push(\"url\");\r\n            }\r\n\r\n            if (props.requiresTrailingSlash) {\r\n                rules.push({\r\n                    name: \"endswith\",\r\n                    params: [\"/\"]\r\n                });\r\n            }\r\n\r\n            return rules;\r\n        });\r\n\r\n        return {\r\n            computedRules,\r\n            value\r\n        };\r\n    },\r\n\r\n    template: `\r\n<RockFormField\r\n    :modelValue=\"value\"\r\n    formGroupClasses=\"url-link-box\"\r\n    name=\"urlbox\"\r\n    :rules=\"computedRules\">\r\n    <template #default=\"{uniqueId, field}\">\r\n        <div class=\"control-wrapper\">\r\n            <div class=\"input-group\">\r\n                <span class=\"input-group-addon\">\r\n                    <i class=\"fa fa-link\"></i>\r\n                </span>\r\n                <input v-model=\"value\" :id=\"uniqueId\" class=\"form-control\" v-bind=\"field\" type=\"url\" />\r\n            </div>\r\n        </div>\r\n    </template>\r\n</RockFormField>`\r\n});\r\n"],"names":["defineComponent","name","components","RockFormField","props","modelValue","type","String","required","rules","rulesPropType","requiresTrailingSlash","Boolean","default","emits","setup","_ref","emit","value","useVModelPassthrough","computedRules","computed","normalizeRules","indexOf","push","params","template"],"mappings":";;;;;;;;;;;;;;;;;AAqBA,gDAAeA,eAAe,CAAC;YAC3BC,EAAAA,IAAI,EAAE,YAAY;YAElBC,EAAAA,UAAU,EAAE;YACRC,IAAAA,aAAAA;eACH;YAEDC,EAAAA,KAAK,EAAE;YACHC,IAAAA,UAAU,EAAE;YACRC,MAAAA,IAAI,EAAEC,MAA0B;YAChCC,MAAAA,QAAQ,EAAE,IAAA;iBACb;YACDC,IAAAA,KAAK,EAAEC,aAAa;YACpBC,IAAAA,qBAAqB,EAAE;YACnBL,MAAAA,IAAI,EAAEM,OAA4B;YAClCC,MAAAA,OAAO,EAAE,KAAA;YACb,KAAA;eACH;cAEDC,KAAK,EAAE,CACH,mBAAmB,CACtB;YAEDC,EAAAA,KAAKA,CAACX,KAAK,EAAAY,IAAA,EAAY;YAAA,IAAA,IAARC,IAAI,GAAAD,IAAA,CAAJC,IAAI,CAAA;gBACf,IAAMC,KAAK,GAAGC,oBAAoB,CAACf,KAAK,EAAE,YAAY,EAAEa,IAAI,CAAC,CAAA;YAE7D,IAAA,IAAMG,aAAa,GAAGC,QAAQ,CAAC,MAAwB;YACnD,MAAA,IAAMZ,KAAK,GAAGa,cAAc,CAAClB,KAAK,CAACK,KAAK,CAAC,CAAA;kBAEzC,IAAIA,KAAK,CAACc,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;YAC7Bd,QAAAA,KAAK,CAACe,IAAI,CAAC,KAAK,CAAC,CAAA;YACrB,OAAA;kBAEA,IAAIpB,KAAK,CAACO,qBAAqB,EAAE;oBAC7BF,KAAK,CAACe,IAAI,CAAC;YACPvB,UAAAA,IAAI,EAAE,UAAU;sBAChBwB,MAAM,EAAE,CAAC,GAAG,CAAA;YAChB,SAAC,CAAC,CAAA;YACN,OAAA;YAEA,MAAA,OAAOhB,KAAK,CAAA;YAChB,KAAC,CAAC,CAAA;gBAEF,OAAO;kBACHW,aAAa;YACbF,MAAAA,KAAAA;iBACH,CAAA;eACJ;cAEDQ,QAAQ,EAAA,kkBAAA;YAiBZ,CAAC,EAAC;;;;;;;;"}