{"version":3,"file":"tabbedContent.js","sources":["../../../Framework/Controls/tabbedContent.ts"],"sourcesContent":["// <copyright>\r\n// Copyright by the Spark Development Network\r\n//\r\n// Licensed under the Rock Community License (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n// http://www.rockrms.com/license\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n// </copyright>\r\n//\r\nimport { defineComponent, PropType, ref, watch } from \"vue\";\r\n\r\nexport default defineComponent({\r\n    name: \"TabbedContent\",\r\n\r\n    props: {\r\n        tabList: {\r\n            type: Array as PropType<any[]>, // eslint-disable-line @typescript-eslint/no-explicit-any\r\n            required: true\r\n        }\r\n    },\r\n\r\n    setup(props) {\r\n        const active = ref(0);\r\n        const classes = ref<string[]>([]);\r\n        let timeout: NodeJS.Timeout;\r\n\r\n        watch(() => props.tabList, () => {\r\n            active.value = 0;\r\n\r\n            classes.value = props.tabList.map((item, i) => {\r\n                let list = \"tab-pane fade\";\r\n\r\n                if (i == active.value) {\r\n                    list += \" active in\";\r\n                }\r\n\r\n                return list;\r\n            });\r\n        }, {immediate: true});\r\n\r\n        watch(active, (current, previous) => {\r\n            classes.value[previous] = \"tab-pane fade active\";\r\n\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(() => {\r\n                classes.value[previous] = \"tab-pane fade\";\r\n                classes.value[current] = \"tab-pane fade active in\";\r\n            }, 150);\r\n        });\r\n\r\n        return {\r\n            active,\r\n            classes\r\n        };\r\n    },\r\n\r\n    template: `\r\n<div>\r\n    <ul class=\"nav nav-tabs margin-b-lg\">\r\n        <li v-for=\"(item, i) in tabList\" :key=\"i\" @click.prevent=\"active = i\" :class=\"{active: active == i}\">\r\n            <a href=\"#\" :aria-expanded=\"active == i\">\r\n                <slot name=\"tab\" :item=\"item\" />\r\n            </a>\r\n        </li>\r\n    </ul>\r\n\r\n    <div class=\"tab-content\">\r\n        <div v-for=\"(item, i) in tabList\" :key=\"i\" :class=\"classes[i]\">\r\n            <slot name=\"tabpane\" :item=\"item\" />\r\n        </div>\r\n    </div>\r\n</div>\r\n`\r\n});\r\n"],"names":["defineComponent","name","props","tabList","type","Array","required","setup","active","ref","classes","timeout","watch","value","map","item","i","list","immediate","current","previous","clearTimeout","setTimeout","template"],"mappings":";;;;;;;;;;;AAkBA,mDAAeA,eAAe,CAAC;YAC3BC,EAAAA,IAAI,EAAE,eAAe;YAErBC,EAAAA,KAAK,EAAE;YACHC,IAAAA,OAAO,EAAE;YACLC,MAAAA,IAAI,EAAEC,KAAwB;YAC9BC,MAAAA,QAAQ,EAAE,IAAA;YACd,KAAA;eACH;cAEDC,KAAKA,CAACL,KAAK,EAAE;YACT,IAAA,IAAMM,MAAM,GAAGC,GAAG,CAAC,CAAC,CAAC,CAAA;YACrB,IAAA,IAAMC,OAAO,GAAGD,GAAG,CAAW,EAAE,CAAC,CAAA;YACjC,IAAA,IAAIE,OAAuB,CAAA;YAE3BC,IAAAA,KAAK,CAAC,MAAMV,KAAK,CAACC,OAAO,EAAE,MAAM;kBAC7BK,MAAM,CAACK,KAAK,GAAG,CAAC,CAAA;YAEhBH,MAAAA,OAAO,CAACG,KAAK,GAAGX,KAAK,CAACC,OAAO,CAACW,GAAG,CAAC,CAACC,IAAI,EAAEC,CAAC,KAAK;oBAC3C,IAAIC,IAAI,GAAG,eAAe,CAAA;YAE1B,QAAA,IAAID,CAAC,IAAIR,MAAM,CAACK,KAAK,EAAE;YACnBI,UAAAA,IAAI,IAAI,YAAY,CAAA;YACxB,SAAA;YAEA,QAAA,OAAOA,IAAI,CAAA;YACf,OAAC,CAAC,CAAA;YACN,KAAC,EAAE;YAACC,MAAAA,SAAS,EAAE,IAAA;YAAI,KAAC,CAAC,CAAA;YAErBN,IAAAA,KAAK,CAACJ,MAAM,EAAE,CAACW,OAAO,EAAEC,QAAQ,KAAK;YACjCV,MAAAA,OAAO,CAACG,KAAK,CAACO,QAAQ,CAAC,GAAG,sBAAsB,CAAA;kBAEhDC,YAAY,CAACV,OAAO,CAAC,CAAA;kBACrBA,OAAO,GAAGW,UAAU,CAAC,MAAM;YACvBZ,QAAAA,OAAO,CAACG,KAAK,CAACO,QAAQ,CAAC,GAAG,eAAe,CAAA;YACzCV,QAAAA,OAAO,CAACG,KAAK,CAACM,OAAO,CAAC,GAAG,yBAAyB,CAAA;mBACrD,EAAE,GAAG,CAAC,CAAA;YACX,KAAC,CAAC,CAAA;gBAEF,OAAO;kBACHX,MAAM;YACNE,MAAAA,OAAAA;iBACH,CAAA;eACJ;cAEDa,QAAQ,EAAA,whBAAA;YAiBZ,CAAC,EAAC;;;;;;;;"}