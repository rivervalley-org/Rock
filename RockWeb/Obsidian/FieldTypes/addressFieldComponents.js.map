{"version":3,"file":"addressFieldComponents.js","sources":["../../../Framework/FieldTypes/addressFieldComponents.ts"],"sourcesContent":["// <copyright>\r\n// Copyright by the Spark Development Network\r\n//\r\n// Licensed under the Rock Community License (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n// http://www.rockrms.com/license\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n// </copyright>\r\n//\r\nimport { defineComponent, ref, watch } from \"vue\";\r\nimport { getFieldEditorProps } from \"./utils\";\r\nimport AddressControl from \"@Obsidian/Controls/addressControl.obs\";\r\nimport { AddressFieldValue } from \"./addressField.partial\";\r\n\r\nexport const EditComponent = defineComponent({\r\n    name: \"AddressField.Edit\",\r\n\r\n    components: {\r\n        AddressControl\r\n    },\r\n\r\n    props: getFieldEditorProps(),\r\n\r\n    setup(props, { emit }) {\r\n        const internalValue = ref({} as AddressFieldValue);\r\n\r\n        watch(() => props.modelValue, () => {\r\n            try {\r\n                internalValue.value = JSON.parse(props.modelValue || \"{}\");\r\n            }\r\n            catch {\r\n                internalValue.value = {};\r\n            }\r\n        }, { immediate: true });\r\n\r\n        watch(() => internalValue.value, () => {\r\n            emit(\"update:modelValue\", JSON.stringify(internalValue.value));\r\n        }, { deep: true });\r\n\r\n        return {\r\n            internalValue\r\n        };\r\n    },\r\n\r\n    template: `\r\n<AddressControl v-model=\"internalValue\" />\r\n`\r\n});\r\n\r\n\r\nexport const ConfigurationComponent = defineComponent({\r\n    name: \"AddressField.Configuration\",\r\n\r\n    template: ``\r\n});\r\n"],"names":["EditComponent","defineComponent","name","components","AddressControl","props","getFieldEditorProps","setup","_ref","emit","internalValue","ref","watch","modelValue","value","JSON","parse","_unused","immediate","stringify","deep","template","ConfigurationComponent"],"mappings":";;;;;;;;;;;;;;;AAqBaA,gBAAAA,aAAa,4BAAGC,eAAe,CAAC;YACzCC,EAAAA,IAAI,EAAE,mBAAmB;YAEzBC,EAAAA,UAAU,EAAE;YACRC,IAAAA,cAAAA;eACH;cAEDC,KAAK,EAAEC,mBAAmB,EAAE;YAE5BC,EAAAA,KAAKA,CAACF,KAAK,EAAAG,IAAA,EAAY;YAAA,IAAA,IAARC,IAAI,GAAAD,IAAA,CAAJC,IAAI,CAAA;YACf,IAAA,IAAMC,aAAa,GAAGC,GAAG,CAAC,EAAE,CAAsB,CAAA;YAElDC,IAAAA,KAAK,CAAC,MAAMP,KAAK,CAACQ,UAAU,EAAE,MAAM;kBAChC,IAAI;YACAH,QAAAA,aAAa,CAACI,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACX,KAAK,CAACQ,UAAU,IAAI,IAAI,CAAC,CAAA;mBAC7D,CACD,OAAAI,OAAA,EAAM;YACFP,QAAAA,aAAa,CAACI,KAAK,GAAG,EAAE,CAAA;YAC5B,OAAA;YACJ,KAAC,EAAE;YAAEI,MAAAA,SAAS,EAAE,IAAA;YAAK,KAAC,CAAC,CAAA;YAEvBN,IAAAA,KAAK,CAAC,MAAMF,aAAa,CAACI,KAAK,EAAE,MAAM;kBACnCL,IAAI,CAAC,mBAAmB,EAAEM,IAAI,CAACI,SAAS,CAACT,aAAa,CAACI,KAAK,CAAC,CAAC,CAAA;YAClE,KAAC,EAAE;YAAEM,MAAAA,IAAI,EAAE,IAAA;YAAK,KAAC,CAAC,CAAA;gBAElB,OAAO;YACHV,MAAAA,aAAAA;iBACH,CAAA;eACJ;cAEDW,QAAQ,EAAA,kDAAA;YAGZ,CAAC,GAAC;AAGWC,gBAAAA,sBAAsB,qCAAGrB,eAAe,CAAC;YAClDC,EAAAA,IAAI,EAAE,4BAA4B;cAElCmB,QAAQ,EAAA,EAAA;YACZ,CAAC;;;;;;;;"}