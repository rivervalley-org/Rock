{"version":3,"file":"monthDayFieldComponents.js","sources":["../../../Framework/FieldTypes/monthDayFieldComponents.ts"],"sourcesContent":["// <copyright>\r\n// Copyright by the Spark Development Network\r\n//\r\n// Licensed under the Rock Community License (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n// http://www.rockrms.com/license\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n// </copyright>\r\n//\r\nimport { defineComponent, computed } from \"vue\";\r\nimport { getFieldEditorProps } from \"./utils\";\r\nimport { toNumber } from \"@Obsidian/Utility/numberUtils\";\r\nimport { MonthDayValue } from \"@Obsidian/ViewModels/Controls/monthDayValue\";\r\nimport MonthDayPicker from \"@Obsidian/Controls/monthDayPicker.obs\";\r\n\r\nexport const EditComponent = defineComponent({\r\n    name: \"MonthDayField.Edit\",\r\n\r\n    components: {\r\n        MonthDayPicker\r\n    },\r\n\r\n    props: getFieldEditorProps(),\r\n\r\n    emit: {\r\n        \"update:modelValue\": (_value: string) => true\r\n    },\r\n\r\n    setup(props, { emit }) {\r\n        const internalValue = computed<MonthDayValue>({\r\n            get() {\r\n                const components = (props.modelValue || \"\").split(\"/\");\r\n\r\n                if (components.length == 2) {\r\n                    return {\r\n                        month: toNumber(components[0]),\r\n                        day: toNumber(components[1])\r\n                    };\r\n                }\r\n                else {\r\n                    return {\r\n                        month: 0,\r\n                        day: 0\r\n                    };\r\n                }\r\n            },\r\n            set(newVal: MonthDayValue) {\r\n                const value = newVal.month !== 0 && newVal.day !== 0\r\n                    ? `${newVal.month}/${newVal.day}`\r\n                    : \"\";\r\n\r\n                emit(\"update:modelValue\", value);\r\n            }\r\n        });\r\n\r\n        return { internalValue };\r\n    },\r\n\r\n    template: `\r\n<MonthDayPicker v-model=\"internalValue\" :showYear=\"false\" />\r\n`\r\n});\r\n\r\nexport const ConfigurationComponent = defineComponent({\r\n    name: \"MonthDayField.Configuration\",\r\n\r\n    template: ``\r\n});"],"names":["EditComponent","defineComponent","name","components","MonthDayPicker","props","getFieldEditorProps","emit","_value","setup","_ref","internalValue","computed","get","modelValue","split","length","month","toNumber","day","set","newVal","value","concat","template","ConfigurationComponent"],"mappings":";;;;;;;;;;;;;;;;AAsBaA,gBAAAA,aAAa,4BAAGC,eAAe,CAAC;YACzCC,EAAAA,IAAI,EAAE,oBAAoB;YAE1BC,EAAAA,UAAU,EAAE;YACRC,IAAAA,cAAAA;eACH;cAEDC,KAAK,EAAEC,mBAAmB,EAAE;YAE5BC,EAAAA,IAAI,EAAE;gBACF,mBAAmB,EAAGC,MAAc,IAAK,IAAA;eAC5C;YAEDC,EAAAA,KAAKA,CAACJ,KAAK,EAAAK,IAAA,EAAY;YAAA,IAAA,IAARH,IAAI,GAAAG,IAAA,CAAJH,IAAI,CAAA;gBACf,IAAMI,aAAa,GAAGC,QAAQ,CAAgB;YAC1CC,MAAAA,GAAGA,GAAG;YACF,QAAA,IAAMV,UAAU,GAAG,CAACE,KAAK,CAACS,UAAU,IAAI,EAAE,EAAEC,KAAK,CAAC,GAAG,CAAC,CAAA;YAEtD,QAAA,IAAIZ,UAAU,CAACa,MAAM,IAAI,CAAC,EAAE;sBACxB,OAAO;YACHC,YAAAA,KAAK,EAAEC,QAAQ,CAACf,UAAU,CAAC,CAAC,CAAC,CAAC;YAC9BgB,YAAAA,GAAG,EAAED,QAAQ,CAACf,UAAU,CAAC,CAAC,CAAC,CAAA;uBAC9B,CAAA;YACL,SAAC,MACI;sBACD,OAAO;YACHc,YAAAA,KAAK,EAAE,CAAC;YACRE,YAAAA,GAAG,EAAE,CAAA;uBACR,CAAA;YACL,SAAA;mBACH;kBACDC,GAAGA,CAACC,MAAqB,EAAE;oBACvB,IAAMC,KAAK,GAAGD,MAAM,CAACJ,KAAK,KAAK,CAAC,IAAII,MAAM,CAACF,GAAG,KAAK,CAAC,MAAAI,MAAA,CAC3CF,MAAM,CAACJ,KAAK,EAAA,GAAA,CAAA,CAAAM,MAAA,CAAIF,MAAM,CAACF,GAAG,CAAA,GAC7B,EAAE,CAAA;YAERZ,QAAAA,IAAI,CAAC,mBAAmB,EAAEe,KAAK,CAAC,CAAA;YACpC,OAAA;YACJ,KAAC,CAAC,CAAA;gBAEF,OAAO;YAAEX,MAAAA,aAAAA;iBAAe,CAAA;eAC3B;cAEDa,QAAQ,EAAA,sEAAA;YAGZ,CAAC,GAAC;AAEWC,gBAAAA,sBAAsB,qCAAGxB,eAAe,CAAC;YAClDC,EAAAA,IAAI,EAAE,6BAA6B;cAEnCsB,QAAQ,EAAA,EAAA;YACZ,CAAC;;;;;;;;"}