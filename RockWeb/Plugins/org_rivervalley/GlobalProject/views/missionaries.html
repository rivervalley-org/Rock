
<div class="tb-container" ng-cloak>

	<div class="tb-nav">
		<div class="items lfloat">
			<a href="teams"><span>TEAMS</span></a>
			<a href="missionaries" ng-class="{selected: true}"><span>MISSIONARIES</span></a>
			<a href="organizations"><span>ORGANIZATIONS</span></a>
		</div>
		<div class="clear"></div>
	</div>
	
    <div class="content missions">
        <div class="filter" style="width: 100%">
            <div class="filter-search lfloat">
                <div class="box">
                    <img ng-src="{{RVC.GlobalProject.resourcePath}}images/search.png" alt="m" class="lfloat" />
					<div class="lfloat">
                        <input type="text" ng-model="searchStr" ng-model-options="{ updateOn: 'default blur', debounce: { default: 500, blur: 0 } }" ng-enter="" />
					</div>
                    <div class="clear"></div>
                </div>
            </div>
            <div class="filter-regions rfloat">
				<strong>REGION</strong>&nbsp;
				<select ng-model="selectedRegion" ng-change="regionChanged()" ng-options="region as (region.Description + (region.Key !== 'unlisted' ? (' (' + region.Count + ')') : '') + '&nbsp;') for region in regions track by region.Key">
					<option value=''>All</option>
				</select>
            </div>
        </div>
        <div class="results-pane lfloat">
            <div class="criteria" ng-show="missionsFilters.length > 0">
                <span class="lfloat">Search Results -</span>
                <ul class="keywords lfloat">
                    <li ng-repeat="mf in missionsFilters">
						<span>{{mf.description}}</span>
						<a href="" ng-click="removeMissionsFilter(mf)">X</a>
					</li>
                </ul>
                <div class="clear"></div>
            </div>
            <div class="pagination">
                <dir-pagination-controls></dir-pagination-controls>
                
                <div class="clear"></div>
            </div>
			
            <ul class="results">
				<li dir-paginate="m in filteredMissionaries | itemsPerPage: 10" ng-class="{featured: m.Featured}">
					<div class="pic">
						<img ng-src="{{m.Picture}}" alt="{{m.Name}}" ng-show="m.Picture" />
						<img ng-src="{{RVC.GlobalProject.resourcePath}}images/default-avatar.png" alt="{{m.Name}}" ng-hide="m.Picture" />
					</div>
					<div class="details">
						<div class="identity">
							<span class="name">
								<a href="missionaries/{{m.Id}}" ng-hide="m.HideDetails">{{m.Name}}</a>
								<span ng-show="m.HideDetails">{{m.Name}}</span>
							</span>
							<span class="location">{{m.CountryName}}</span>
						</div>
						<div class="description ellipsis">
							{{m.Description}}
						</div>
						<ul class="footer-actions lfloat">
							<li ng-hide="m.HideDetails">
								<a class="btn btn-link" href="missionaries/{{m.Id}}">
									More Information
								</a>
							</li>
							<li ng-show="m.DonateLink">
								<a class="btn btn-primary" href="{{m.DonateLink}}">Donate</a>
							</li>
							<!--
							<li>
								<a href="#">
									Prayer Partner&nbsp;(<span class="partners">2</span>)
								</a>
							</li>
							-->
						</ul>
						<div class="clear"></div>
					</div>
				</li>
            </ul>
			
            <div class="disclaimer">
				PLEASE NOTE THAT DUE TO SECURITY AND SAFETY CONCERNS MANY OF THOSE WE SUPPORT ARE NOT LISTED.<br />
				<a href="https://myrock.rivervalley.org/page/3181">Please click here</a> in order to give to all missionaries River Valley supports.
				For questions email <a href="mailto:globalproject@rivervalley.org">globalproject@rivervalley.org</a>.
            </div>
        </div>
        <div class="clear"></div>
    </div>
</div>
