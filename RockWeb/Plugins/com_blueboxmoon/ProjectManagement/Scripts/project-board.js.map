{"version":3,"file":"project-board.js","mappings":"+GAAA,IAAIA,EAAS,CAAC,SAAU,MAAO,KAAM,KAC1BC,EAAwB,WACjC,IAAK,IAAIC,EAAI,EAAGC,EAAQH,EAAOI,OAAQF,EAAIC,IAAUE,OAAOJ,wBAAyBC,EACnFG,OAAOJ,sBAAwBI,OAAOL,EAAOE,GAAK,yBAGpD,IAAKG,OAAOJ,sBAAuB,CACjC,IAAIK,EAAW,EAEfD,OAAOJ,sBAAwB,SAAUM,GACvC,IAAIC,GAAM,IAAIC,MAAOC,UACjBC,EAAMC,KAAKC,IAAI,EAAG,GAAKL,EAAMF,GAC7BQ,EAAQT,OAAOU,YAAW,WAC5B,OAAOR,EAASC,EAAMG,KACrBA,GAEH,OADAL,EAAWE,EAAMG,EACVG,GAIX,OAAOT,OAAOJ,sBAAsBe,KAAKX,QAnBR,GAqBxBY,EAAuB,WAChC,IAAK,IAAIf,EAAI,EAAGC,EAAQH,EAAOI,OAAQF,EAAIC,IAAUE,OAAOY,uBAAwBf,EAClFG,OAAOY,qBAAuBZ,OAAOL,EAAOE,GAAK,yBAA2BG,OAAOL,EAAOE,GAAK,+BASjG,OANKG,OAAOY,uBACVZ,OAAOY,qBAAuB,SAAUH,GACtCT,OAAOa,aAAaJ,KAIjBT,OAAOY,qBAAqBD,KAAKX,QAXR,I,aCtBlCc,EAAOC,QAAiC,mBAAfC,MAAMC,KAC7BD,MAAMC,KACN,EAAQ,M,QCAO,IACXC,EASAC,EACAC,EAIAC,EAiBAC,EAiBAC,EAjDNT,EAAOC,SACDG,EAAa,SAASM,GACxB,MAAqB,mBAAPA,GAQZL,EAAiBZ,KAAKkB,IAAI,EAAG,IAAM,EACnCL,EAAW,SAAUM,GACvB,IAAIC,EARU,SAAUD,GACxB,IAAIE,EAASC,OAAOH,GACpB,OAAII,MAAMF,GAAkB,EACb,IAAXA,GAAiBG,SAASH,IACtBA,EAAS,EAAI,GAAK,GAAKrB,KAAKyB,MAAMzB,KAAK0B,IAAIL,IADHA,EAKtCM,CAAUR,GACpB,OAAOnB,KAAK4B,IAAI5B,KAAKC,IAAImB,EAAK,GAAIR,IAEhCE,EAAe,SAASK,GAC1B,GAAY,MAATA,EAAe,CAChB,GAAG,CAAC,SAAS,SAAS,UAAU,UAAUU,eAAeV,IAAU,EACjE,OAAOW,OAAOC,SACT,GACc,oBAAXD,QACP,aAAcA,QACdA,OAAOC,YAAYZ,EAEpB,OAAOW,OAAOC,SAGX,GAAI,eAAgBZ,EACvB,MAAO,eAITJ,EAAY,SAASiB,EAAGC,GAE1B,GAAS,MAALD,GAAkB,MAALC,EAAW,CAE1B,IAAIC,EAAOF,EAAEC,GAGb,GAAW,MAARC,EACD,OAGF,IAAKvB,EAAWuB,GACd,MAAM,IAAIC,UAAUD,EAAO,sBAE7B,OAAOA,IAGPlB,EAAe,SAASe,GAG1B,IAAIK,EAASL,EAASM,OAKtB,OAFWC,QAAQF,EAAOG,OAMnBH,GAIF,SAAcI,GACnB,aAGA,IAKIC,EAkBAC,EAAGC,EAvBHC,EAAIC,KAGJC,EAAQC,UAAUvD,OAAS,EAAIuD,UAAU,QAAK,EAGlD,QAAqB,IAAVD,EAAuB,CAGhC,IAAKnC,EAAWmC,GACd,MAAM,IAAIX,UACR,qEAMAY,UAAUvD,OAAS,IACrBiD,EAAIM,UAAU,IASlB,IAAIC,EAAgBjC,EAAUyB,EAAO1B,EAAa0B,IAGlD,QAAsB,IAAlBQ,EAA0B,CAQ5BN,EAAI/B,EAAWiC,GAAKK,OAAO,IAAIL,GAAO,GAGtC,IAaIP,EAAMa,EAbNnB,EAAWiB,EAAcG,KAAKX,GAGlC,GAAgB,MAAZT,EACF,MAAM,IAAII,UACR,wDASJ,IAJAQ,EAAI,IAIS,CAOX,KAHAN,EAAOrB,EAAae,IAUlB,OAHAW,EAAElD,OAASmD,EAGJD,EAITQ,EAAYb,EAAKlB,MAafuB,EAAEC,GADAG,EACKA,EAAMK,KAAKV,EAAGS,EAAWP,GAGzBO,EAGTP,SAIG,CAGL,IAAIS,EAAYH,OAAOT,GAGvB,GAAa,MAATA,EACF,MAAM,IAAIL,UACR,oEAMJ,IAYIkB,EAZAjC,EAAMP,EAASuC,EAAU5D,QAa7B,IANAkD,EAAI/B,EAAWiC,GAAKK,OAAO,IAAIL,EAAExB,IAAQ,IAAIX,MAAMW,GAGnDuB,EAAI,EAGGA,EAAIvB,GACTiC,EAASD,EAAUT,GAEjBD,EAAEC,GADAG,EACKA,EAAMK,KAAKV,EAAGY,EAAQV,GAGtBU,EAETV,IAIFD,EAAElD,OAAS4B,EAGb,OAAOsB,K,QCjNXnC,EAAOC,QAAU,SAAe8C,EAAGC,GAAK,OAAO9C,MAAM+C,UAAUC,MAAMN,KAAKG,EAAGC,K,2BCE7E,IAAIG,EAAQ,EAAQ,KAEpBnD,EAAOC,QAAU,SAAmBS,EAAI0C,EAAMC,GACvC3C,GACLyC,GAAM,WACJzC,EAAG4C,MAAMD,GAAO,KAAMD,GAAQ,S,2BCLlC,IAAIG,EAAO,EAAQ,KACfC,EAAW,EAAQ,KAEvBxD,EAAOC,QAAU,SAAkBwD,EAAOC,GACxC,IAAIC,EAAOD,GAAW,GAClBE,EAAM,GA6CV,YA5CcC,IAAVJ,IAAuBA,EAAQ,IACnCA,EAAMK,GAAK,SAAUC,EAAMrD,GAMzB,OALKkD,EAAIG,GAGPH,EAAIG,GAAMC,KAAKtD,GAFfkD,EAAIG,GAAQ,CAACrD,GAIR+C,GAETA,EAAMQ,KAAO,SAAUF,EAAMrD,GAG3B,OAFAA,EAAGwD,OAAQ,EACXT,EAAMK,GAAGC,EAAMrD,GACR+C,GAETA,EAAMU,IAAM,SAAUJ,EAAMrD,GAC1B,IAAI0D,EAAI5B,UAAUvD,OAClB,GAAU,IAANmF,SACKR,EAAIG,QACN,GAAU,IAANK,EACTR,EAAM,OACD,CACL,IAAIS,EAAKT,EAAIG,GACb,IAAKM,EAAM,OAAOZ,EAClBY,EAAGC,OAAOD,EAAG/C,QAAQZ,GAAK,GAE5B,OAAO+C,GAETA,EAAMc,KAAO,WACX,IAAInB,EAAOG,EAAKf,WAChB,OAAOiB,EAAMe,gBAAgBpB,EAAKqB,SAASnB,MAAMhB,KAAMc,IAEzDK,EAAMe,gBAAkB,SAAUT,GAChC,IAAIM,GAAMT,EAAIG,IAAS,IAAIb,MAAM,GACjC,OAAO,WACL,IAAIE,EAAOG,EAAKf,WACZa,EAAMf,MAAQmB,EAClB,GAAa,UAATM,IAAoC,IAAhBJ,EAAKe,SAAqBL,EAAGpF,OAAU,MAAsB,IAAhBmE,EAAKnE,OAAemE,EAAK,GAAKA,EAKnG,OAJAiB,EAAGM,SAAQ,SAAkBC,GACvBjB,EAAKkB,MAASrB,EAASoB,EAAQxB,EAAMC,GAAeuB,EAAOtB,MAAMD,EAAKD,GACtEwB,EAAOV,OAAST,EAAMU,IAAIJ,EAAMa,MAE/BnB,IAGJA,I,2BClDT,IAAIqB,EAAW,EAAQ,KAwFvB9E,EAAOC,QAtFP,SAAuB8E,EAAQrB,GAY3BA,EAAUA,GAAW,GAErB,IAAIsB,EAAcF,EAASG,QAAQvB,EAAQsB,aAAa,GAQxD,OAAO,SAAiBE,GAOpB,GALAA,EAAQA,GAAShG,OAAOgG,MACxBH,EAAOI,OAASD,EAAMC,QAAUD,EAAME,YAAcF,EAAMG,eAC1DN,EAAOO,QAAUhD,KACjByC,EAAOhB,KAAOmB,EAAMnB,KAEfiB,EAAYE,GAAjB,CAOA,GAAIA,EAAMK,cACNR,EAAOS,EAAIN,EAAMK,cAAc,GAAGE,QAClCV,EAAOW,EAAIR,EAAMK,cAAc,GAAGI,QAClCZ,EAAOa,MAAQV,EAAMK,cAAc,GAAGK,MACtCb,EAAOc,MAAQX,EAAMK,cAAc,GAAGM,MACtCd,EAAOe,QAAUZ,EAAMK,cAAc,GAAGO,QACxCf,EAAOgB,QAAUb,EAAMK,cAAc,GAAGQ,YACrC,CAOH,GAAoB,OAAhBb,EAAMU,OAAoC,OAAlBV,EAAMO,QAAkB,CAChD,IAAIO,EAAWd,EAAMC,QAAUD,EAAMC,OAAOc,eAAiBC,SACzDC,EAAMH,EAASI,gBACfC,EAAOL,EAASK,KAEpBtB,EAAOa,MAAQV,EAAMO,SAAWU,GAAOA,EAAIG,YAAcD,GAAQA,EAAKC,YAAc,IAAMH,GAAOA,EAAII,YAAcF,GAAQA,EAAKE,YAAc,GAC9IxB,EAAOc,MAAQX,EAAMS,SAAWQ,GAAOA,EAAIK,WAAaH,GAAQA,EAAKG,WAAa,IAAML,GAAOA,EAAIM,WAAaJ,GAAQA,EAAKI,WAAa,QAE1I1B,EAAOa,MAAQV,EAAMU,MACrBb,EAAOc,MAAQX,EAAMW,MAQzBd,EAAOS,EAAIN,EAAMO,QACjBV,EAAOW,EAAIR,EAAMS,QAEjBZ,EAAOe,QAAUZ,EAAMY,QACvBf,EAAOgB,QAAUb,EAAMa,QAG3BhB,EAAOU,QAAUV,EAAOS,EACxBT,EAAOY,QAAUZ,EAAOW,M,2BC7EhC,IAAIgB,EAAc,EAAQ,KACtBC,EAAW,EAAQ,KACnBR,EAAM,EAAAS,EAAOV,SACbW,EAeJ,SAAuBC,EAAI/C,EAAMrD,EAAIqG,GACnC,OAAOD,EAAGE,iBAAiBjD,EAAMrD,EAAIqG,IAfnCE,EAsBJ,SAA0BH,EAAI/C,EAAMrD,EAAIqG,GACtC,OAAOD,EAAGI,oBAAoBnD,EAAMrD,EAAIqG,IAtBtCI,EAAY,GA4EhB,SAASC,EAAQN,EAAI/C,EAAMrD,GACzB,IAAI3B,EAQN,SAAe+H,EAAI/C,EAAMrD,GACvB,IAAI3B,EAAGsI,EACP,IAAKtI,EAAI,EAAGA,EAAIoI,EAAUlI,OAAQF,IAEhC,IADAsI,EAAOF,EAAUpI,IACRuG,UAAYwB,GAAMO,EAAKtD,OAASA,GAAQsD,EAAK3G,KAAOA,EAC3D,OAAO3B,EAbHuI,CAAKR,EAAI/C,EAAMrD,GACvB,GAAI3B,EAAG,CACL,IAAIwI,EAAUJ,EAAUpI,GAAGwI,QAE3B,OADAJ,EAAU7C,OAAOvF,EAAG,GACbwI,GA/EN,EAAAX,EAAOI,mBACVH,EAcF,SAAuBC,EAAI/C,EAAMrD,GAC/B,OAAOoG,EAAGU,YAAY,KAAOzD,EA+C/B,SAAe+C,EAAI/C,EAAMrD,GACvB,IAAI6G,EAAUH,EAAON,EAAI/C,EAAMrD,IAZjC,SAAyBoG,EAAI/C,EAAMrD,GACjC,OAAO,SAAkB+G,GACvB,IAAIC,EAAID,GAAiB,EAAAb,EAAO1B,MAChCwC,EAAEvC,OAASuC,EAAEvC,QAAUuC,EAAEtC,WACzBsC,EAAEC,eAAiBD,EAAEC,gBAAkB,WAA6BD,EAAEE,aAAc,GACpFF,EAAEG,gBAAkBH,EAAEG,iBAAmB,WAA8BH,EAAEI,cAAe,GACxFJ,EAAEK,MAAQL,EAAEK,OAASL,EAAEM,QACvBtH,EAAGkC,KAAKkE,EAAIY,IAKwBO,CAAenB,EAAI/C,EAAMrD,GAO/D,OANAyG,EAAUnD,KAAK,CACbuD,QAASA,EACTjC,QAASwB,EACT/C,KAAMA,EACNrD,GAAIA,IAEC6G,EAvD4BW,CAAKpB,EAAI/C,EAAMrD,KAdlDuG,EAqBF,SAA0BH,EAAI/C,EAAMrD,GAClC,IAAIyH,EAAWf,EAAON,EAAI/C,EAAMrD,GAChC,GAAIyH,EACF,OAAOrB,EAAGsB,YAAY,KAAOrE,EAAMoE,KArBvCnI,EAAOC,QAAU,CACfoI,IAAKxB,EACLyB,OAAQrB,EACRsB,UAsBF,SAAyBzB,EAAI/C,EAAMyE,GACjC,IAAId,GAAgC,IAA5Bf,EAASrF,QAAQyC,GAiBhB,IAAI2C,EAAY3C,EAAM,CAAE0E,OAAQD,IAXzC,WACE,IAAId,EACAvB,EAAIuC,aACNhB,EAAIvB,EAAIuC,YAAY,UAClBC,UAAU5E,GAAM,GAAM,GACfoC,EAAIyC,oBACblB,EAAIvB,EAAIyC,qBAEV,OAAOlB,EAdmDmB,GACxD/B,EAAGgC,cACLhC,EAAGgC,cAAcpB,GAEjBZ,EAAGiC,UAAU,KAAOhF,EAAM2D,M,2BC1C9B,IAAIf,EAAW,GACXqC,EAAY,GACZC,EAAM,MAEV,IAAKD,KAAa,EAAApC,EACZqC,EAAIC,KAAKF,IACXrC,EAAS3C,KAAKgF,EAAU9F,MAAM,IAIlClD,EAAOC,QAAU0G,G,cCXjB,IAAIwC,EAAoB,EAAAvC,EAAOwC,YAmB/BpJ,EAAOC,QAjBP,WACE,IACE,IAAIoJ,EAAI,IAAIF,EAAkB,MAAO,CAAEV,OAAQ,CAAEa,IAAK,SACtD,MAAQ,QAAUD,EAAEtF,MAAQ,QAAUsF,EAAEZ,OAAOa,IAC/C,MAAO5B,IAET,OAAO,EAWQ6B,GAAcJ,EAG/B,oBAAuBjD,UAAY,mBAAsBA,SAASwC,YAAc,SAAsB3E,EAAMyF,GAC1G,IAAI9B,EAAIxB,SAASwC,YAAY,eAM7B,OALIc,EACF9B,EAAE+B,gBAAgB1F,EAAMyF,EAAOE,QAASF,EAAOG,WAAYH,EAAOf,QAElEf,EAAE+B,gBAAgB1F,GAAM,GAAO,OAAO,GAEjC2D,GAIT,SAAsB3D,EAAMyF,GAC1B,IAAI9B,EAAIxB,SAAS0C,oBAWjB,OAVAlB,EAAE3D,KAAOA,EACLyF,GACF9B,EAAEgC,QAAU3H,QAAQyH,EAAOE,SAC3BhC,EAAEiC,WAAa5H,QAAQyH,EAAOG,YAC9BjC,EAAEe,OAASe,EAAOf,SAElBf,EAAEgC,SAAU,EACZhC,EAAEiC,YAAa,EACfjC,EAAEe,YAAS,GAENf,I,2BC1CT,IAF0BkC,EAEtB9E,EAAW,EAAQ,KACnB+E,EAAyB,EAAQ,KACjCC,EAAS,EAAQ,KACjBC,EAAW,EAAQ,KACnBC,GANsBJ,EAMgB,EAAQ,OANW,iBAAPA,GAAoB,YAAaA,EAAMA,EAAY,QAAIA,EAQ7G,SAASK,EAAaC,EAAUxG,QACX,IAAZA,IAAqBA,EAAU,IAEpC,IAAIyG,EAAO7H,KACP8H,EAAW,EAAGC,GAAY,EAE9B/H,KAAKgI,OAAS5G,EAAQ4G,SAAW,EAEjChI,KAAKiI,kBAAoB7G,EAAQ6G,oBAAqB,EAEtD,IAAIC,EAAQ,GACRC,EAAUV,EAASW,cAAcF,GACjCG,EAAaX,IACbY,GAAO,EAEX1L,OAAO8H,iBAAiB,YAAayD,GAAS,GAC9CvL,OAAO8H,iBAAiB,YAAayD,GAAS,GAE1CzJ,MAAM0C,EAAQ0G,YACdA,EAAW1G,EAAQ0G,UAGvB9H,KAAKuI,WAAa/F,EAASG,QAAQvB,EAAQmH,YAC3CvI,KAAKwI,SAAWhG,EAASG,QAAQvB,EAAQoH,UAAU,GAEnDxI,KAAKyI,QAAU,SAASC,GACpB9L,OAAOgI,oBAAoB,YAAauD,GAAS,GACjDvL,OAAOgI,oBAAoB,YAAauD,GAAS,GACjDvL,OAAOgI,oBAAoB,YAAa+D,GAAQ,GAChD/L,OAAOgI,oBAAoB,aAAc+D,GAAQ,GACjD/L,OAAOgI,oBAAoB,UAAWgE,GAAM,GAC5ChM,OAAOgI,oBAAoB,WAAYgE,GAAM,GAC7ChM,OAAOgI,oBAAoB,YAAagE,GAAM,GAC9ChM,OAAOgI,oBAAoB,aAAciE,GAAY,GAErDjM,OAAOgI,oBAAoB,YAAakE,GAAQ,GAChDlM,OAAOgI,oBAAoB,YAAakE,GAAQ,GAEhDlM,OAAOgI,oBAAoB,SAAUmE,GAAW,GAChDnB,EAAW,GACRc,GACDM,KAINhJ,KAAK+F,IAAM,WAEP,IADA,IAAI/C,EAAU,GAAIzE,EAAM2B,UAAUvD,OAC1B4B,KAAQyE,EAASzE,GAAQ2B,UAAW3B,GAG5C,OADAiJ,EAAOyB,YAAYjI,WAAM,EAAQ,CAAE4G,GAAWsB,OAAQlG,IAC/ChD,MAGXA,KAAKgG,OAAS,WAEV,IADA,IAAIhD,EAAU,GAAIzE,EAAM2B,UAAUvD,OAC1B4B,KAAQyE,EAASzE,GAAQ2B,UAAW3B,GAE5C,OAAOiJ,EAAO2B,eAAenI,WAAM,EAAQ,CAAE4G,GAAWsB,OAAQlG,KAGpE,IAAsBoG,EAMZC,EANNC,EAAY,KAEgC,mBAA7ClJ,OAAOO,UAAU4I,SAASjJ,KAAKsH,KAC9BA,EAAW,CAACA,IAGNyB,EASRzB,EAREA,EAAW,GACXyB,EAAKhH,SAAQ,SAASW,GACfA,IAAYpG,OACX0M,EAAY1M,OAEZiL,EAAK9B,IAAI/C,MAKrB5C,OAAOoJ,iBAAiBxJ,KAAM,CAC1BsI,KAAM,CACFmB,IAAK,WAAY,OAAOnB,IAE5BR,SAAU,CACN2B,IAAK,WAAY,OAAO3B,IAE5BI,MAAO,CACHuB,IAAK,WAAY,OAAOvB,IAE5BH,UAAW,CACP0B,IAAK,WAAY,OAAO1B,MAIhC,IAA2B2B,EAAhBC,EAAU,KAsBrB,SAASZ,EAAU3D,GAEf,IAAI,IAAI3I,EAAE,EAAGA,EAAEmL,EAASjL,OAAQF,IAC5B,GAAGmL,EAASnL,KAAO2I,EAAEvC,OAAO,CACxBkF,GAAY,EACZ,MAILA,GACCR,EAAuB/K,uBAAsB,WAAa,OAAOuL,GAAY,KAIrF,SAASY,IACLL,GAAO,EAGX,SAASM,IACLN,GAAO,EACPU,IAEJ,SAASA,IACPzB,EAAuB/J,qBAAqBkM,GAC5CnC,EAAuB/J,qBAAqB4L,GAE9C,SAASP,IACLP,GAAO,EAyBX,SAASsB,IAGL,IAFA,IAAIC,EAAa,KAETpN,EAAE,EAAGA,EAAEmL,EAASjL,OAAQF,IACzBqN,EAAO5B,EAAON,EAASnL,MACtBoN,EAAajC,EAASnL,IAI9B,OAAOoN,EAIX,SAASf,EAAOlG,GAEZ,GAAIiF,EAAKU,eAEN3F,EAAkB,WAArB,CAEA,IAAIC,EAASD,EAAMC,OAAQkB,EAAOH,SAASG,KAExC4F,IAAYG,EAAO5B,EAAOyB,KACrB9B,EAAKI,oBACL0B,EAAU,OAIf9G,GAAUA,EAAOkH,aAAehG,EAE/BlB,EAAS+G,KAET/G,EArDR,SAAmBA,GACf,IAAIA,EACA,OAAO,KAGX,GAAG8G,IAAY9G,EACX,OAAOA,EAGX,GAAG2E,EAAOwC,WAAWpC,EAAU/E,GAC3B,OAAOA,EAGX,KAAMA,EAASA,EAAOkH,YAClB,GAAGvC,EAAOwC,WAAWpC,EAAU/E,GAC3B,OAAOA,EAIf,OAAO,KAkCMoH,CAAUpH,MAGfA,EAAS+G,KAKd/G,GAAUA,IAAW8G,IACpBA,EAAU9G,GAGXyG,IACC/B,EAAuB/J,qBAAqB4L,GAC5CA,EAAuB7B,EAAuB/K,sBAAsB0N,IAIpEP,IAIJpC,EAAuB/J,qBAAqBkM,GAC5CA,EAAiBnC,EAAuB/K,sBAAsB2N,KAGlE,SAASD,IACL3B,EAAWe,GAEX/B,EAAuB/J,qBAAqB4L,GAC5CA,EAAuB7B,EAAuB/K,sBAAsB0N,GAGxE,SAASC,IAEDR,IAIJpB,EAAWoB,GAEXpC,EAAuB/J,qBAAqBkM,GAC5CA,EAAiBnC,EAAuB/K,sBAAsB2N,IAKlE,SAAS5B,EAAW/D,GAChB,IAAuC4F,EAASC,EAA5CC,EAAO7C,EAAS8C,cAAc/F,GAG9B4F,EADDlC,EAAMhF,EAAIoH,EAAKE,KAAO3C,EAAKG,OAChB7K,KAAKyB,MACXzB,KAAKC,KAAK,GAAI8K,EAAMhF,EAAIoH,EAAKE,MAAQ3C,EAAKG,OAAS,GAAKH,EAAKC,UAE5DI,EAAMhF,EAAIoH,EAAKG,MAAQ5C,EAAKG,OACvB7K,KAAKuN,KACXvN,KAAK4B,IAAI,GAAImJ,EAAMhF,EAAIoH,EAAKG,OAAS5C,EAAKG,OAAS,GAAKH,EAAKC,UAGvD,EAIVuC,EADDnC,EAAM9E,EAAIkH,EAAKK,IAAM9C,EAAKG,OACf7K,KAAKyB,MACXzB,KAAKC,KAAK,GAAI8K,EAAM9E,EAAIkH,EAAKK,KAAO9C,EAAKG,OAAS,GAAKH,EAAKC,UAE3DI,EAAM9E,EAAIkH,EAAKM,OAAS/C,EAAKG,OACxB7K,KAAKuN,KACXvN,KAAK4B,IAAI,GAAImJ,EAAM9E,EAAIkH,EAAKM,QAAU/C,EAAKG,OAAS,GAAKH,EAAKC,UAGxD,EAGXD,EAAKW,YAOJH,EAAWwC,SAASrG,EAAI,CACpBlB,MAAO4E,EAAM5E,MAAQ8G,EACrB7G,MAAO2E,EAAM3E,MAAQ8G,EACrBlH,QAAS+E,EAAMhF,EAAIkH,EACnB/G,QAAS6E,EAAM9E,EAAIiH,IAI3B/M,YAAW,WAEJ+M,GAWX,SAAiB7F,EAAIsG,GACdtG,IAAO5H,OACNA,OAAOmO,SAASvG,EAAGwG,YAAaxG,EAAGyG,YAAcH,GAEjDtG,EAAGN,WAAa4G,EAdZI,CAAQ1G,EAAI6F,GAGbD,GAeX,SAAiB5F,EAAIsG,GACdtG,IAAO5H,OACNA,OAAOmO,SAASvG,EAAGwG,YAAcF,EAAQtG,EAAGyG,aAE5CzG,EAAGR,YAAc8G,EAlBbK,CAAQ3G,EAAI4F,MAvMxBxN,OAAO8H,iBAAiB,YAAaiE,GAAQ,GAC7C/L,OAAO8H,iBAAiB,aAAciE,GAAQ,GAC9C/L,OAAO8H,iBAAiB,UAAWkE,GAAM,GACzChM,OAAO8H,iBAAiB,WAAYkE,GAAM,GAQ1ChM,OAAO8H,iBAAiB,YAAakE,GAAM,GAE3ChM,OAAO8H,iBAAiB,YAAaoE,GAAQ,GAC7ClM,OAAO8H,iBAAiB,YAAaoE,GAAQ,GAE7ClM,OAAO8H,iBAAiB,aAAcmE,GAAY,GAElDjM,OAAO8H,iBAAiB,SAAUqE,GAAW,GAiNjD,SAASe,EAAO5B,EAAO1D,EAAI8F,GACvB,OAAIA,EAGQpC,EAAM9E,EAAIkH,EAAKK,KAAOzC,EAAM9E,EAAIkH,EAAKM,QACrC1C,EAAMhF,EAAIoH,EAAKE,MAAQtC,EAAMhF,EAAIoH,EAAKG,MAHvChD,EAAS2D,YAAYlD,EAAO1D,GAY3C9G,EAAOC,QAlBP,SAA6BqF,EAAS5B,GAClC,OAAO,IAAIuG,EAAa3E,EAAS5B,K,qBCtUrC,IAGQiK,EAHJC,OAAe,EACS,mBAAjBlL,OAAOmL,QAEVF,EAAO,aADbC,EAES,SAAU3K,EAAW6K,GAC1B,GAAI7K,IAAcP,OAAOO,IAA4B,OAAdA,EACrC,MAAMrB,UAAU,uCAElB+L,EAAK1K,UAAYA,GAAa,GAC9B,IAAIpB,EAAS,IAAI8L,EAUjB,OATAA,EAAK1K,UAAY,UARN,IASP6K,GACFpL,OAAOoJ,iBAAiBjK,EAAQiM,GAIhB,OAAd7K,IACFpB,EAAOkM,UAAY,MAEdlM,IAIX+L,EAAelL,OAAOmL,OAGxB,IAAIG,EAAiBJ,EAEjBK,EAAkB,CAAC,SAAU,SAAU,UAAW,UAAW,UAAW,UAAW,UAAW,YAAa,YAAa,UAAW,UAAW,QAAS,QAAS,SAAU,gBAAiB,UAAW,UAAW,WAAY,QAAS,IAAK,KA4F/O,SAASC,EAAeC,EAAiBC,GACrCA,EAAWA,GAAY,GAEvB,IADA,IAAIC,EAAWL,EAAeG,GACrBpP,EAAI,EAAGA,EAAIkP,EAAgBhP,OAAQF,SACH8E,IAAjCuK,EAASH,EAAgBlP,MAAmBsP,EAASJ,EAAgBlP,IAAMqP,EAASH,EAAgBlP,KAG5G,OAAOsP,EAGX,SAASC,EAAW5G,EAAG6G,GACnBC,QAAQC,IAAI,QAASF,GACrB7G,EAAE6G,KAAOA,GAAQ,GACjB7G,EAAEgH,WAAa,YAOnB1O,EAAOC,QA9GP,SAA0BqF,GAEtB,IAAI6I,EAAkB,CAClBrI,QAAS,EACTC,QAAS,EACTN,QAAS,EACTE,QAAS,EACTgJ,SAAS,EACTC,UAAU,EACVC,QAAQ,EACRC,SAAS,EACTC,OAAQ,EACRC,QAAS,EACTC,cAAe,KACfC,OAAQ,MAOZ,SAAS9D,EAAO1D,GACZ,IAAK,IAAI3I,EAAI,EAAGA,EAAIkP,EAAgBhP,OAAQF,IACxCoP,EAAgBF,EAAgBlP,IAAM2I,EAAEuG,EAAgBlP,IA6DhE,YAnEgB8E,IAAZyB,GACAA,EAAQ0B,iBAAiB,YAAaoE,GAkEnC,CACHL,QANJ,WACQzF,GAASA,EAAQ4B,oBAAoB,YAAakE,GAAQ,GAC9D+C,EAAkB,MAKlBhB,SA1DIgC,WACO,SAAY7J,EAAS8I,EAAUG,GAClC,IAAI3K,EAAM,IAAIuL,WAAW,YAAajB,EAAeC,EAAiBC,IAKtE,OAFAE,EAAW1K,EAAK2K,GAETjJ,EAAQwD,cAAclF,IAEM,mBAAzBsC,SAASwC,YAChB,SAAYpD,EAAS8I,EAAUG,GAClC,IAAIF,EAAWH,EAAeC,EAAiBC,GAC3CxK,EAAMsC,SAASwC,YAAY,eAqB/B,OAnBA9E,EAAIwL,eAAe,aAAa,GAChC,EACAlQ,OACA,EACAmP,EAASvI,QACTuI,EAAStI,QACTsI,EAAS5I,QACT4I,EAAS1I,QACT0I,EAASM,QACTN,EAASQ,OACTR,EAASO,SACTP,EAASS,QACTT,EAASU,OACTV,EAASY,eAITX,EAAW1K,EAAK2K,GAETjJ,EAAQwD,cAAclF,IAEY,mBAA/BsC,SAAS0C,kBAChB,SAAYtD,EAAS8I,EAAUG,GAClC,IAAI3K,EAAMsC,SAAS0C,oBACfyF,EAAWH,EAAeC,EAAiBC,GAC/C,IAAK,IAAIiB,KAAQhB,EACbzK,EAAIyL,GAAQhB,EAASgB,GAMzB,OAFAf,EAAW1K,EAAK2K,GAETjJ,EAAQwD,cAAclF,SAX9B,K,2BC7FflB,OAAO4M,eAAerP,EAAS,aAA/B,CAA+CW,OAAO,IAItD,IAF0BgJ,EAEtB2F,GAFsB3F,EAEU,EAAQ,OAFiB,iBAAPA,GAAoB,YAAaA,EAAMA,EAAY,QAAIA,EAyB7G,SAASiD,EAAc/F,GACnB,GAAIA,IAAO5H,OACP,OAvBR,WACI,IAAIsQ,EAAQ,CACRvC,IAAK,CAAErM,MAAO,EAAG6O,YAAY,GAC7B3C,KAAM,CAAElM,MAAO,EAAG6O,YAAY,GAC9B1C,MAAO,CAAEnM,MAAO1B,OAAOwQ,WAAYD,YAAY,GAC/CvC,OAAQ,CAAEtM,MAAO1B,OAAOyQ,YAAaF,YAAY,GACjDG,MAAO,CAAEhP,MAAO1B,OAAOwQ,WAAYD,YAAY,GAC/CI,OAAQ,CAAEjP,MAAO1B,OAAOyQ,YAAaF,YAAY,GACjDjK,EAAG,CAAE5E,MAAO,EAAG6O,YAAY,GAC3B/J,EAAG,CAAE9E,MAAO,EAAG6O,YAAY,IAG/B,GAAI/M,OAAOmL,OACP,OAAOnL,OAAOmL,OAAO,GAAI2B,GAEzB,IAAI5C,EAAO,GAEX,OADAlK,OAAOoJ,iBAAiBc,EAAM4C,GACvB5C,EAMAkD,GAEP,IACI,IAAIlD,EAAO9F,EAAGiJ,wBAKd,YAJelM,IAAX+I,EAAKpH,IACLoH,EAAKpH,EAAIoH,EAAKE,KACdF,EAAKlH,EAAIkH,EAAKK,KAEXL,EACT,MAAOlF,GACL,MAAM,IAAI9F,UAAU,uCAAyCkF,IAUzE7G,EAAQyK,cAAgB6E,EACxBtP,EAAQ4M,cAAgBA,EACxB5M,EAAQyN,YAPR,SAAqBlD,EAAO1D,GACxB,IAAI8F,EAAOC,EAAc/F,GACzB,OAAO0D,EAAM9E,EAAIkH,EAAKK,KAAOzC,EAAM9E,EAAIkH,EAAKM,QAAU1C,EAAMhF,EAAIoH,EAAKE,MAAQtC,EAAMhF,EAAIoH,EAAKG,Q,2BC5ChG,SAASiD,EAAiBpG,GAAM,OAAQA,GAAqB,iBAAPA,GAAoB,YAAaA,EAAMA,EAAY,QAAIA,EAF7GlH,OAAO4M,eAAerP,EAAS,aAA/B,CAA+CW,OAAO,IAItD,IAAIqP,EAAYD,EAAgB,EAAQ,KACpCE,EAAUF,EAAgB,EAAQ,MAClCG,EAAYH,EAAgB,EAAQ,MAEpCI,EAA4B,mBAAX7O,QAAoD,iBAApBA,OAAOC,SAAwB,SAAU6O,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAyB,mBAAX9O,QAAyB8O,EAAIC,cAAgB/O,OAAS,gBAAkB8O,GAQtOE,EAAc,SAAUC,GAC1B,OAAgB,MAATA,GAAmF,iBAAhD,IAAVA,EAAwB,YAAcJ,EAAQI,KAA2C,IAAnBA,EAAMC,UAA2C,WAAzBL,EAAQI,EAAME,QAAwD,WAAjCN,EAAQI,EAAMvK,gBAGnL,SAAS0K,EAAOC,GACZ,GAAuB,iBAAbA,EACN,IACI,OAAO1K,SAAS2K,cAAcD,GACjC,MAAMlJ,GACH,MAAMA,OAER,GAAGyI,EAAUS,GACf,OAAOA,EAgBf,SAASE,EAAe5G,EAAU5E,GAE9B,GADAA,EAAUyL,EAAezL,GAAS,IAC9BiL,EAAYjL,GAAY,OAAQ,EACpC,IAAI,IAAIvG,EAAE,EAAGA,EAAEmL,EAASjL,OAAQF,IAC5B,GAAGmL,EAASnL,KAAOuG,EACf,OAAOvG,EAGf,OAAQ,EAGZ,SAASuN,EAAWpC,EAAU5E,GAC1B,OAAQ,IAAMwL,EAAe5G,EAAU5E,GAG3C,SAAS0L,EAAUC,GAEf,IAAIA,EAAO,MAAO,GAElB,IACI,MAAkB,iBAARA,EACChB,EAAU/J,SAASgL,iBAAiBD,IACtCf,EAAQe,GACNA,EAAIE,IAAIJ,QAEU,IAAfE,EAAIhS,OACH,CAAC8R,EAAeE,IAGpBhB,EAAUgB,EAAKF,GAG7B,MAAMrJ,GACH,MAAM,IAAI0J,MAAM1J,IAcxB,SAAS2J,EAAanH,EAAUoH,GAE5B,IAAI,IAAIvS,EAAE,EAAGA,EAAEuS,EAAMrS,OAAQF,IACrBuN,EAAWpC,EAAUoH,EAAMvS,KACzBmL,EAASlG,KAAKsN,EAAMvS,IAG9B,OAAOuS,EAyBX,SAASP,EAAezL,EAASiM,GAC7B,GAAsB,iBAAZjM,EACN,IACI,OAAOY,SAAS2K,cAAcvL,GACjC,MAAMoC,GACH,MAAMA,EAKd,IAAI6I,EAAYjL,KAAaiM,EACzB,MAAM,IAAI3P,UAAW0D,EAAU,0BAEnC,OAAOA,EAGXrF,EAAQ6Q,eAAiBA,EACzB7Q,EAAQqM,WAAaA,EACrBrM,EAAQ+Q,UAAYA,EACpB/Q,EAAQuR,mBA5DR,WAEI,IADA,IAAIC,EAAQ,GAAI5Q,EAAM2B,UAAUvD,OACxB4B,KAAQ4Q,EAAO5Q,GAAQ2B,UAAW3B,GAE1C,OAAO4Q,EAAMC,QAAO,SAAUC,EAAMC,GAChC,OAAOA,EAAK3S,OAAS0S,EAAOA,EAAKnG,OAAOwF,EAAUY,MACnD,KAuDP3R,EAAQsL,YA1CR,SAAqBrB,GAEjB,IADA,IAAIoH,EAAQ,GAAIzQ,EAAM2B,UAAUvD,OAAS,EACjC4B,KAAQ,GAAIyQ,EAAOzQ,GAAQ2B,UAAW3B,EAAM,GAGpD,OAAOwQ,EAAanH,EADpBoH,EAAQA,EAAMH,IAAIJ,KAuCtB9Q,EAAQwL,eAnCR,SAAwBvB,GAEpB,IADA,IAAI2H,EAAW,GAAIhR,EAAM2B,UAAUvD,OAAS,EACpC4B,KAAQ,GAAIgR,EAAUhR,GAAQ2B,UAAW3B,EAAM,GAEvD,OAAOgR,EAASV,IAAIJ,GAAgBW,QAAO,SAAUC,EAAMjK,GAEvD,IAAIoK,EAAQhB,EAAe5G,EAAUxC,GAErC,OAAc,IAAXoK,EACUH,EAAKnG,OAAOtB,EAAS5F,OAAOwN,EAAO,IACzCH,IACR,KAyBP1R,EAAQ8Q,eAAiBA,EACzB9Q,EAAQ0Q,OAASA,EACjB1Q,EAAQ8R,UAnHR,SAAmBnB,GACf,MAAuB,iBAAbA,EACC1Q,MAAM+C,UAAUC,MAAMI,MACzB4C,SAASgL,iBAAiBN,IAEzBV,EAAQU,GACNA,EAASO,IAAIR,GACf,WAAYC,EACVX,EAAUW,GAAUO,IAAIR,QAD7B,I,qBCvCV,IAAIqB,EAAQ,GAIZ,SAASC,EAAaC,GACpB,IAAIC,EAASH,EAAME,GAMnB,OALIC,EACFA,EAAOC,UAAY,EAEnBJ,EAAME,GAAaC,EAAS,IAAIE,OARxB,YAQuCH,EAPzC,YAO0D,KAE3DC,EAgBTnS,EAAOC,QAAU,CACfoI,IAdF,SAAmBvB,EAAIoL,GACrB,IAAIjG,EAAUnF,EAAGoL,UACZjG,EAAQhN,OAEDgT,EAAYC,GAAWhJ,KAAK+C,KACtCnF,EAAGoL,WAAa,IAAMA,GAFtBpL,EAAGoL,UAAYA,GAYjBI,GANF,SAAkBxL,EAAIoL,GACpBpL,EAAGoL,UAAYpL,EAAGoL,UAAUK,QAAQN,EAAYC,GAAY,KAAKM,U,2BCxBnE,IAAIC,EAAU,EAAQ,KAClBC,EAAY,EAAQ,KACpBC,EAAU,EAAQ,KAClBxM,EAAMD,SACNE,EAAkBD,EAAIC,gBA2e1B,SAASwM,EAAQ9L,EAAI+L,EAAI9O,EAAMrD,GAgBzB,EAAAkG,EAAOkM,UAAUC,eACnBL,EAAUG,GAAI/L,EAXD,CACbkM,QAAS,YACTC,UAAW,cACXC,UAAW,eAQgBnP,GAAOrD,GACzB,EAAAkG,EAAOkM,UAAUK,iBAC1BT,EAAUG,GAAI/L,EARA,CACdkM,QAAS,cACTC,UAAW,gBACXC,UAAW,iBAKiBnP,GAAOrD,IAEnCgS,EAAUG,GAAI/L,EApBJ,CACVkM,QAAS,WACTC,UAAW,aACXC,UAAW,aAiBanP,GAAOrD,GAC/BgS,EAAUG,GAAI/L,EAAI/C,EAAMrD,IAI5B,SAAS0S,EAAkB1L,GACzB,QAAkB,IAAdA,EAAE2L,QAAsB,OAAO3L,EAAE2L,QAAQpU,OAC7C,QAAgB,IAAZyI,EAAEK,OAAgC,IAAZL,EAAEK,MAAe,OAAOL,EAAEK,MACpD,QAAkB,IAAdL,EAAEsH,QAAsB,OAAOtH,EAAEsH,QACrC,IAAID,EAASrH,EAAEqH,OACf,YAAe,IAAXA,EACc,EAATA,EAAa,EAAa,EAATA,EAAa,EAAc,EAATA,EAAa,EAAI,OAD7D,EAKF,SAASuE,EAAWxM,GAClB,IAAI8F,EAAO9F,EAAGiJ,wBACd,MAAO,CACLjD,KAAMF,EAAKE,KAAOyG,EAAU,aAAc,eAC1CtG,IAAKL,EAAKK,IAAMsG,EAAU,YAAa,gBAI3C,SAASA,EAAWC,EAAYC,GAC9B,YAAkC,IAAvB,EAAA7M,EAAO6M,GACT,EAAA7M,EAAO6M,GAEZrN,EAAgBsN,aACXtN,EAAgBoN,GAElBrN,EAAIE,KAAKmN,GAGlB,SAASG,EAAuBnJ,EAAOhF,EAAGE,GAExC,IACIoB,EADA8M,GADJpJ,EAAQA,GAAS,IACC0H,WAAa,GAK/B,OAHA1H,EAAM0H,WAAa,WACnBpL,EAAKX,EAAI0N,iBAAiBrO,EAAGE,GAC7B8E,EAAM0H,UAAY0B,EACX9M,EAGT,SAASgN,IAAW,OAAO,EAC3B,SAASC,IAAY,OAAO,EAC5B,SAASC,EAAcpH,GAAQ,OAAOA,EAAKgD,OAAUhD,EAAKG,MAAQH,EAAKE,KACvE,SAASmH,EAAerH,GAAQ,OAAOA,EAAKiD,QAAWjD,EAAKM,OAASN,EAAKK,IAC1E,SAASiH,EAAWpN,GAAM,OAAOA,EAAGuF,aAAelG,EAAM,KAAOW,EAAGuF,WACnE,SAAS8H,EAASrN,GAAM,MAAsB,UAAfA,EAAGsN,SAAsC,aAAftN,EAAGsN,SAAyC,WAAftN,EAAGsN,SAAwBC,EAAWvN,GAC5H,SAASuN,EAAYvN,GACnB,QAAKA,IACsB,UAAvBA,EAAGwN,kBACoB,SAAvBxN,EAAGwN,iBACAD,EAAWH,EAAUpN,MAG9B,SAASyN,EAAQzN,GACf,OAAOA,EAAG0N,oBACV,WACE,IAAIC,EAAU3N,EACd,GACE2N,EAAUA,EAAQC,kBACXD,GAAgC,IAArBA,EAAQhE,UAC5B,OAAOgE,EANuBE,GAuBlC,SAASC,EAAUC,EAAOnN,GACxB,IAAIoN,EAdN,SAAuBpN,GAIrB,OAAIA,EAAEnC,eAAiBmC,EAAEnC,cAActG,OAC9ByI,EAAEnC,cAAc,GAErBmC,EAAEqN,gBAAkBrN,EAAEqN,eAAe9V,OAChCyI,EAAEqN,eAAe,GAEnBrN,EAIIsN,CAAatN,GACpBuN,EAAU,CACZrP,MAAO,UACPC,MAAO,WAKT,OAHIgP,KAASI,KAAaJ,KAASC,IAASG,EAAQJ,KAAUC,IAC5DD,EAAQI,EAAQJ,IAEXC,EAAKD,GAGd7U,EAAOC,QA1lBP,SAAkBiV,EAAmBxR,GACnC,IAKIyR,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAfAhV,EAAM2B,UAAUvD,OACR,IAAR4B,IAAkD,IAArCX,MAAMgQ,QAAQgF,KAC7BxR,EAAUwR,EACVA,EAAoB,IAatB,IACIY,EADAC,EAAkB,KAGlBC,EAAItS,GAAW,QACH,IAAZsS,EAAEC,QAAoBD,EAAEC,MAAQlC,QAClB,IAAdiC,EAAEE,UAAsBF,EAAEE,QAAUnC,QACtB,IAAdiC,EAAEG,UAAsBH,EAAEG,QAAUC,QACnB,IAAjBJ,EAAEK,aAAyBL,EAAEK,WAAanB,GAAqB,SAC7C,IAAlBc,EAAEM,cAA0BN,EAAEM,YAAcxC,QACjC,IAAXkC,EAAEO,OAAmBP,EAAEO,MAAO,QACT,IAArBP,EAAEQ,iBAA6BR,EAAEQ,gBAAiB,QAC9B,IAApBR,EAAES,gBAA4BT,EAAES,eAAgB,QAC5B,IAApBT,EAAEU,gBAA4BV,EAAEU,eAAgB,QAChC,IAAhBV,EAAEW,YAAwBX,EAAEW,UAAY,iBACT,IAA/BX,EAAEY,2BAAuCZ,EAAEY,0BAA2B,QAChD,IAAtBZ,EAAEa,kBAA8Bb,EAAEa,gBAAkB1Q,EAAIE,MAE5D,IAAIyQ,EAAQrE,EAAQ,CAClB4D,WAAYL,EAAEK,WACdU,MAAOC,EACPC,IAAKA,EACLC,OAAQA,EACR5O,OAAQA,EACRyC,QAASA,EACToM,QAASA,EACTC,UAAU,IASZ,OANwB,IAApBpB,EAAEU,eACJI,EAAMhT,GAAG,OAAQuT,IAAWvT,GAAG,MAAOwT,IAGxCC,IAEOT,EAEP,SAASR,EAAaxP,GACpB,OAAyC,IAAlCgQ,EAAMT,WAAW/U,QAAQwF,IAAckP,EAAEM,YAAYxP,GAG9D,SAASyQ,EAAQjP,GACf,IAAIuK,EAAKvK,EAAS,SAAW,MAC7BsK,EAAOxM,EAAiByM,EAAI,YAAa2E,GACzC5E,EAAOxM,EAAiByM,EAAI,UAAW4E,GAGzC,SAASC,EAAmBpP,GAE1BsK,EAAOxM,EADEkC,EAAS,SAAW,MACD,YAAaqP,GAG3C,SAASC,EAAWtP,GAClB,IAAIuK,EAAKvK,EAAS,SAAW,MAC7BoK,EAAUG,GAAIzM,EAAiB,cAAeyR,GAC9CnF,EAAUG,GAAIzM,EAAiB,QAASyR,GAG1C,SAAS9M,IACPwM,GAAO,GACPE,EAAQ,IAGV,SAASI,EAAgBnQ,GACnBoO,GACFpO,EAAEC,iBAIN,SAAS6P,EAAM9P,GAKb,GAJA8N,EAAS9N,EAAEjC,QACXgQ,EAAS/N,EAAE/B,UAE0B,IAAxByN,EAAiB1L,IAAYA,EAAEoH,SAAWpH,EAAEiH,SACzD,CAGA,IAAItH,EAAOK,EAAEvC,OACT2S,EAAUC,EAAS1Q,GAClByQ,IAGLhC,EAAWgC,EACXJ,IACe,cAAXhQ,EAAE3D,OACAoQ,EAAQ9M,GACVA,EAAK2Q,QAELtQ,EAAEC,oBAKR,SAASgQ,EAAwBjQ,GAC/B,GAAKoO,EAGL,GAA4B,IAAxB1C,EAAiB1L,IAMrB,UAAmB,IAAdA,EAAEjC,SAAsBhG,KAAK0B,IAAIuG,EAAEjC,QAAU+P,KAAYQ,EAAEiC,cAAgB,SAC/D,IAAdvQ,EAAE/B,SAAsBlG,KAAK0B,IAAIuG,EAAE/B,QAAU8P,KAAYO,EAAEkC,cAAgB,IAD9E,CAKA,GAAIlC,EAAEY,yBAA0B,CAC9B,IAAInR,EAAUmP,EAAS,UAAWlN,IAAM,EACpC/B,EAAUiP,EAAS,UAAWlN,IAAM,EAExC,GAAIyM,EADsBhO,EAAI0N,iBAAiBpO,EAASE,IAEtD,OAIJ,IAAIwS,EAAUrC,EACd4B,GAAkB,GAClBE,IACAX,IACAF,EAAMoB,GAEN,IAAIC,EAAS9E,EAAU+B,GACvBC,EAAWV,EAAS,QAASlN,GAAK0Q,EAAOtL,KACzCyI,EAAWX,EAAS,QAASlN,GAAK0Q,EAAOnL,IAEzC0F,EAAQtK,IAAIuN,GAASP,EAAO,cAC5BgD,KACAC,GAAK5Q,SA/BH+P,EAAQ,IAkCZ,SAASM,EAAU1Q,GACjB,KAAIyP,EAAMM,UAAYjC,GAGlBmB,EAAYjP,IAAhB,CAIA,IADA,IAAIkR,EAASlR,EACN6M,EAAU7M,KAA0C,IAAjCiP,EAAYpC,EAAU7M,KAAkB,CAChE,GAAI2O,EAAEG,QAAQ9O,EAAMkR,GAClB,OAGF,KADAlR,EAAO6M,EAAU7M,IAEf,OAGJ,IAAImR,EAAStE,EAAU7M,GACvB,GAAKmR,EAGL,IAAIxC,EAAEG,QAAQ9O,EAAMkR,GAKpB,GADcvC,EAAEC,MAAM5O,EAAMmR,EAAQD,EAAQhE,EAAOlN,IAKnD,MAAO,CACLA,KAAMA,EACNmR,OAAQA,IAIZ,SAASrB,EAAS9P,GAChB,QAAS0Q,EAAS1Q,GAGpB,SAAS2P,EAAa3P,GACpB,IAAIyQ,EAAUC,EAAS1Q,GACnByQ,GACFf,EAAMe,GAIV,SAASf,EAAOe,GACVW,GAAOX,EAAQzQ,KAAMyQ,EAAQU,UAC/B5C,EAAQkC,EAAQzQ,KAAKqR,WAAU,GAC/B5B,EAAMvS,KAAK,SAAUqR,EAAOkC,EAAQzQ,KAAM,SAG5C+N,EAAU0C,EAAQU,OAClBnD,EAAQyC,EAAQzQ,KAChBqO,EAAkBC,EAAkBpB,EAAOuD,EAAQzQ,MAEnDyP,EAAMM,UAAW,EACjBN,EAAMvS,KAAK,OAAQ8Q,EAAOD,GAG5B,SAASgB,IACP,OAAO,EAGT,SAASa,IACP,GAAKH,EAAMM,SAAX,CAGA,IAAI/P,EAAOuO,GAASP,EACpBsD,EAAKtR,EAAM6M,EAAU7M,KAGvB,SAASuR,IACP9C,GAAW,EACX4B,GAAkB,GAClBE,GAAU,GAGZ,SAASH,EAAS/P,GAGhB,GAFAkR,IAEK9B,EAAMM,SAAX,CAGA,IAAI/P,EAAOuO,GAASP,EAChB5P,EAAUmP,EAAS,UAAWlN,IAAM,EACpC/B,EAAUiP,EAAS,UAAWlN,IAAM,EAEpCmR,EAAaC,GADSnF,EAAsBwB,EAAS1P,EAASE,GACbF,EAASE,GAC1DkT,IAAgBjD,GAASI,EAAEQ,iBAAqBZ,GAASiD,IAAezD,GAC1EuD,EAAKtR,EAAMwR,GACF7C,EAAEU,cACXpO,IAEA4O,KAIJ,SAASyB,EAAMtR,EAAMlC,GACnB,IAAI4T,EAAS7E,EAAU7M,GACnBuO,GAASI,EAAEQ,gBAAkBrR,IAAWiQ,GAC1C2D,EAAOC,YAAY3D,GAEjB4D,GAAmB9T,GACrB2R,EAAMvS,KAAK,SAAU8C,EAAM+N,EAASA,GAEpC0B,EAAMvS,KAAK,OAAQ8C,EAAMlC,EAAQiQ,EAASO,GAE5CuD,KAGF,SAAS5Q,IACP,GAAKwO,EAAMM,SAAX,CAGA,IAAI/P,EAAOuO,GAASP,EAChB0D,EAAS7E,EAAU7M,GACnB0R,GACFA,EAAOC,YAAY3R,GAErByP,EAAMvS,KAAKqR,EAAQ,SAAW,SAAUvO,EAAM0R,EAAQ3D,GACtD8D,MAGF,SAAShC,EAAQiC,GACf,GAAKrC,EAAMM,SAAX,CAGA,IAAIgC,EAAU5W,UAAUvD,OAAS,EAAIka,EAASnD,EAAES,cAC5CpP,EAAOuO,GAASP,EAChB0D,EAAS7E,EAAU7M,GACnBgS,EAAUJ,GAAmBF,IACjB,IAAZM,GAAqBD,IACnBxD,EACEmD,GACFA,EAAOC,YAAYpD,GAGrBR,EAAQkE,aAAajS,EAAMqO,IAG3B2D,GAAWD,EACbtC,EAAMvS,KAAK,SAAU8C,EAAM+N,EAASA,GAEpC0B,EAAMvS,KAAK,OAAQ8C,EAAM0R,EAAQ3D,EAASO,GAE5CuD,MAGF,SAASA,KACP,IAAI7R,EAAOuO,GAASP,EACpBuD,IACAW,KACIlS,GACFsL,EAAQL,GAAGjL,EAAM,cAEfwO,GACF9V,aAAa8V,GAEfiB,EAAMM,UAAW,EACbrB,GACFe,EAAMvS,KAAK,MAAO8C,EAAM0O,EAAiBX,GAE3C0B,EAAMvS,KAAK,UAAW8C,GACtB+N,EAAUC,EAAQO,EAAQF,EAAkBC,EAAkBE,EAAeE,EAAkB,KAGjG,SAASkD,GAAoB9T,EAAQqU,GACnC,IAAI/E,EAQJ,OANEA,OADQ,IAAN+E,EACQA,EACDrE,EACCQ,EAEApB,EAAOqB,GAASP,GAErBlQ,IAAWiQ,GAAWX,IAAYiB,EAG3C,SAASoD,GAAgBW,EAAqBhU,EAASE,GAErD,IADA,IAAIR,EAASsU,EACNtU,IAAWuU,KAChBvU,EAAS+O,EAAU/O,GAErB,OAAOA,EAEP,SAASuU,IAEP,IAAkB,IADFpD,EAAYnR,GAE1B,OAAO,EAGT,IAAIwU,EAAYC,GAAkBzU,EAAQsU,GACtCI,EAAYC,GAAa3U,EAAQwU,EAAWlU,EAASE,GAEzD,QADcsT,GAAmB9T,EAAQ0U,IAIlC7D,EAAEE,QAAQb,EAAOlQ,EAAQiQ,EAASyE,IAI7C,SAASvB,GAAM5Q,GACb,GAAKyN,EAAL,CAGAzN,EAAEC,iBAEF,IAAIlC,EAAUmP,EAAS,UAAWlN,IAAM,EACpC/B,EAAUiP,EAAS,UAAWlN,IAAM,EACpClC,EAAIC,EAAU6P,EACd5P,EAAIC,EAAU4P,EAElBJ,EAAQzE,MAAM5D,KAAOtH,EAAI,KACzB2P,EAAQzE,MAAMzD,IAAMvH,EAAI,KAExB,IAAI2B,EAAOuO,GAASP,EAChBoE,EAAsB9F,EAAsBwB,EAAS1P,EAASE,GAC9DkT,EAAaC,GAAeW,EAAqBhU,EAASE,GAC1DoU,EAAyB,OAAflB,GAAuBA,IAAe9C,GAChDgE,GAA0B,OAAflB,KAoCO9C,GAAmBiE,EAAM,OAlC7CjE,EAAkB8C,EAiCGkB,GAAWC,EAAM,SA9BxC,IAAIjB,EAAS7E,EAAU7M,GACvB,GAAIwR,IAAezD,IAAWQ,GAAUI,EAAEQ,eAA1C,CAMA,IAAIqD,EACAF,EAAYC,GAAkBf,EAAYY,GAC9C,GAAkB,OAAdE,EACFE,EAAYC,GAAajB,EAAYc,EAAWlU,EAASE,OACpD,KAAwB,IAApBqQ,EAAES,eAA2Bb,EAOtC,YAHIA,GAASmD,GACXA,EAAOC,YAAY3R,IAJrBwS,EAAYnE,EACZmD,EAAazD,GAQE,OAAdyE,GAAsBE,GACvBF,IAAcxS,GACdwS,IAActF,EAAOlN,MAErBsO,EAAkBkE,EAClBhB,EAAWS,aAAajS,EAAMwS,GAC9B/C,EAAMvS,KAAK,SAAU8C,EAAMwR,EAAYzD,SAzBnC2D,GACFA,EAAOC,YAAY3R,GA0BvB,SAAS2S,EAAOjW,GAAQ+S,EAAMvS,KAAKR,EAAMsD,EAAM0O,EAAiBX,IAKlE,SAASiC,GAAWvQ,GAClB6L,EAAQL,GAAGxL,EAAI,WAGjB,SAASwQ,GAAUxQ,GACbgQ,EAAMM,UAAYzE,EAAQtK,IAAIvB,EAAI,WAGxC,SAASuR,KACP,IAAIlD,EAAJ,CAGA,IAAIvI,EAAOyI,EAAMtF,yBACjBoF,EAAUE,EAAMqD,WAAU,IAClBhI,MAAMd,MAAQoE,EAAapH,GAAQ,KAC3CuI,EAAQzE,MAAMb,OAASoE,EAAcrH,GAAQ,KAC7C+F,EAAQL,GAAG6C,EAAS,cACpBxC,EAAQtK,IAAI8M,EAAS,aACrBa,EAAEa,gBAAgBoD,YAAY9E,GAC9BvC,EAAOxM,EAAiB,MAAO,YAAakS,IAC5C3F,EAAQtK,IAAI2N,EAAEa,gBAAiB,mBAC/BC,EAAMvS,KAAK,SAAU4Q,EAASE,EAAO,WAGvC,SAASkE,KACHpE,IACFxC,EAAQL,GAAG0D,EAAEa,gBAAiB,mBAC9BjE,EAAOxM,EAAiB,SAAU,YAAakS,IAC/CpE,EAAUiB,GAAS6D,YAAY7D,GAC/BA,EAAU,MAId,SAASyE,GAAmBf,EAAY1T,GAEtC,IADA,IAAIwU,EAAYxU,EACTwU,IAAcd,GAAc3E,EAAUyF,KAAed,GAC1Dc,EAAYzF,EAAUyF,GAExB,OAAIA,IAAcvT,EACT,KAEFuT,EAGT,SAASG,GAAcjB,EAAY1T,EAAQK,EAAGE,GAC5C,IAAIwU,EAA6B,eAAhBlE,EAAEW,UAEnB,OADgBxR,IAAW0T,EAiB3B,WACE,IAAIjM,EAAOzH,EAAO4K,wBAClB,GAAImK,EACF,OAAOC,EAAQ3U,EAAIoH,EAAKE,KAAOkH,EAAapH,GAAQ,GAEtD,OAAOuN,EAAQzU,EAAIkH,EAAKK,IAAMgH,EAAcrH,GAAQ,GAtBdR,GAGxC,WACE,IACIrN,EACA+H,EACA8F,EAHA/L,EAAMgY,EAAWuB,SAASnb,OAI9B,IAAKF,EAAI,EAAGA,EAAI8B,EAAK9B,IAAK,CAGxB,GAFA+H,EAAK+R,EAAWuB,SAASrb,GACzB6N,EAAO9F,EAAGiJ,wBACNmK,GAAetN,EAAKE,KAAOF,EAAKgD,MAAQ,EAAKpK,EAAK,OAAOsB,EAC7D,IAAKoT,GAAetN,EAAKK,IAAML,EAAKiD,OAAS,EAAKnK,EAAK,OAAOoB,EAEhE,OAAO,KAd0CuT,GAyBnD,SAASF,EAASG,GAChB,OAAOA,EAAQ/F,EAAOpP,GAAUA,GAIpC,SAASsT,GAAQpR,EAAMkT,GACrB,MAAyB,kBAAXvE,EAAEO,KAAqBP,EAAEO,KAAOP,EAAEO,KAAKlP,EAAMkT,M,QCxe/D,IAAIrK,EAAUhQ,MAAMgQ,QAMhBsK,EAAM9X,OAAOO,UAAU4I,SAmB3B7L,EAAOC,QAAUiQ,GAAW,SAAUuK,GACpC,QAAUA,GAAO,kBAAoBD,EAAI5X,KAAK6X,K,yDC/BhD,IAAIrK,EAA4B,mBAAX7O,QAAoD,iBAApBA,OAAOC,SAAwB,SAAU6O,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAyB,mBAAX9O,QAAyB8O,EAAIC,cAAgB/O,OAAS,gBAAkB8O,GAQ3N,SAAS,EAACG,GACvB,OAAgB,MAATA,GAAmF,iBAAhD,IAAVA,EAAwB,YAAcJ,EAAQI,KAA2C,IAAnBA,EAAMC,UAA2C,WAAzBL,EAAQI,EAAME,QAAwD,WAAjCN,EAAQI,EAAMvK,iB,cCRnLjG,EAAOC,QAAU,EAAjB,M,cCDA,IAAIya,EAAS1a,EAAOC,QAAU,EAAjB,KACZ0a,EAAc,MAUXC,EAAe,GAiCnBF,EAAOG,UAAY,SAAUnX,GAI5BA,EAA6B,iBAAZA,EACdkX,EAAclX,IAnClB,SAAwBA,GACvB,IAAIqB,EAAS6V,EAAclX,GAAY,GAIvC,OAHAgX,EAAOI,KAAMpX,EAAQqX,MAAOJ,IAAe,SAAUK,EAAGC,GACvDlW,EAAQkW,IAAS,KAEXlW,EA8BuBmW,CAAexX,GAC5CgX,EAAOS,OAAQ,GAAIzX,GAEpB,IACC0X,EAEAC,EAEAC,EAEAC,EAEAC,EAEAC,EAEA7J,EAAO,GAEP8J,GAAShY,EAAQO,MAAQ,GAEzB0X,EAAO,SAAUpN,GAOhB,IANA6M,EAAS1X,EAAQ0X,QAAU7M,EAC3B8M,GAAQ,EACRI,EAAcF,GAAe,EAC7BA,EAAc,EACdC,EAAe5J,EAAK3S,OACpBqc,GAAS,EACD1J,GAAQ6J,EAAcD,EAAcC,IAC3C,IAA2D,IAAtD7J,EAAM6J,GAAcnY,MAAOiL,EAAM,GAAKA,EAAM,KAAmB7K,EAAQkY,YAAc,CACzFR,GAAS,EACT,MAGFE,GAAS,EACJ1J,IACC8J,EACCA,EAAMzc,QACV0c,EAAMD,EAAMjX,SAEF2W,EACXxJ,EAAO,GAEPzH,EAAK0R,YAKR1R,EAAO,CAEN9B,IAAK,WACJ,GAAKuJ,EAAO,CAEX,IAAImF,EAAQnF,EAAK3S,QACjB,SAAUoJ,EAAKjF,GACdsX,EAAOI,KAAM1X,GAAM,SAAU4X,EAAGc,GAC/B,IAAI/X,EAAO2W,EAAO3W,KAAM+X,GACV,aAAT/X,EACEL,EAAQqY,QAAW5R,EAAK6R,IAAKF,IAClClK,EAAK5N,KAAM8X,GAEDA,GAAOA,EAAI7c,QAAmB,WAAT8E,GAEhCsE,EAAKyT,MATR,CAYItZ,WAGC8Y,EACJE,EAAe5J,EAAK3S,OAGTmc,IACXG,EAAcxE,EACd4E,EAAMP,IAGR,OAAO9Y,MAGRgG,OAAQ,WAkBP,OAjBKsJ,GACJ8I,EAAOI,KAAMtY,WAAW,SAAUwY,EAAGc,GAEpC,IADA,IAAIhK,GACKA,EAAQ4I,EAAOuB,QAASH,EAAKlK,EAAME,KAAa,GACxDF,EAAKtN,OAAQwN,EAAO,GAEfwJ,IACCxJ,GAAS0J,GACbA,IAEI1J,GAAS2J,GACbA,QAMEnZ,MAGR0Z,IAAK,SAAUtb,GACd,OAAOga,EAAOuB,QAASvb,EAAIkR,IAAU,GAGtCsK,MAAO,WAEN,OADAtK,EAAO,GACAtP,MAGRuZ,QAAS,WAER,OADAjK,EAAO8J,EAAQN,OAASvX,EACjBvB,MAGR6Z,SAAU,WACT,OAAQvK,GAGTwK,KAAM,WAKL,OAJAV,OAAQ7X,EACFuX,GACLjR,EAAK0R,UAECvZ,MAGR+Z,OAAQ,WACP,OAAQX,GAGTY,SAAU,SAAUxE,EAAS1U,GAU5B,OARAA,EAAO,CAAE0U,GADT1U,EAAOA,GAAQ,IACQF,MAAQE,EAAKF,QAAUE,IACzCwO,GAAWyJ,IAASK,IACnBJ,EACJI,EAAM1X,KAAMZ,GAEZuY,EAAMvY,IAGDd,MAGRqZ,KAAM,WAEL,OADAxR,EAAKmS,SAAUha,KAAME,WACdF,MAGR+Y,MAAO,WACN,QAASA,IAIZ,OAAOlR,I,QClMR,IAAIuQ,EAAS1a,EAAOC,QAAU,CAC7B8D,KAkBD,SAAesM,GACd,OAAc,MAAPA,EACNkM,OAAQlM,GACPmM,EAAY3Q,EAASjJ,KAAKyN,KAAU,UApBpCH,QA2BH,SAAkBG,GACjB,MAA4B,UAArBqK,EAAO3W,KAAKsM,IA3BjBoM,WAAYA,EACZC,cAqEH,SAAwBrM,GAEvB,IAAMA,GAA4B,WAArBqK,EAAO3W,KAAKsM,GACxB,OAAO,EAER,OAAO,GAzELyK,KA4BH,SAAe/V,EAAQ3F,EAAUgE,GAChC,IAAIiM,EAAMtQ,EAAI,EACdE,EAAS8F,EAAO9F,OAChB0d,OAAmB9Y,IAAX5E,GAAwBwd,EAAY1X,GAE5C,GAAK3B,EACJ,GAAKuZ,GACJ,IAAMtN,KAAQtK,EACb,IAAgD,IAA3C3F,EAASkE,MAAOyB,EAAQsK,GAAQjM,GACpC,WAIF,KAAQrE,EAAIE,IACoC,IAA1CG,EAASkE,MAAOyB,EAAQhG,KAAOqE,UAQtC,GAAKuZ,GACJ,IAAMtN,KAAQtK,EACb,IAA+D,IAA1D3F,EAASwD,KAAMmC,EAAQsK,GAAQA,EAAMtK,EAAQsK,IACjD,WAIF,KAAQtQ,EAAIE,IAC6C,IAAnDG,EAASwD,KAAMmC,EAAQhG,GAAKA,EAAGgG,EAAQhG,QAO/C,OAAOgG,GAhELoW,OA2EH,WACC,IAAIzX,EAAS2L,EAAMuN,EAAKrG,EAAMsG,EAAaC,EAC3C3X,EAAS3C,UAAU,IAAM,GACzBzD,EAAI,EACJE,EAASuD,UAAUvD,OACnB8d,GAAO,EAGgB,kBAAX5X,IACX4X,EAAO5X,EACPA,EAAS3C,UAAU,IAAM,GAEzBzD,EAAI,GAIkB,iBAAXoG,GAAwBuV,EAAO+B,WAAWtX,KACrDA,EAAS,IAILlG,IAAWF,IACfoG,EAAS7C,OACPvD,GAGH,KAAQA,EAAIE,EAAQF,IAEnB,GAAmC,OAA7B2E,EAAUlB,UAAWzD,IAE1B,IAAMsQ,KAAQ3L,EACbkZ,EAAMzX,EAAQkK,GACdkH,EAAO7S,EAAS2L,GAGXlK,IAAWoR,IAKXwG,GAAQxG,IAAUmE,EAAOgC,cAAcnG,KAAUsG,EAAcnC,EAAOxK,QAAQqG,MAC7EsG,GACJA,GAAc,EACdC,EAAQF,GAAOlC,EAAOxK,QAAQ0M,GAAOA,EAAM,IAG3CE,EAAQF,GAAOlC,EAAOgC,cAAcE,GAAOA,EAAM,GAIlDzX,EAAQkK,GAASqL,EAAOS,OAAQ4B,EAAMD,EAAOvG,SAGzB1S,IAAT0S,IACXpR,EAAQkK,GAASkH,IAOrB,OAAOpR,GAvIL6X,KAAM,cAGLnR,EAAWnJ,OAAOO,UAAU4I,SAE5B2Q,EAAa,GAajB,SAASC,EAAYpM,GACpB,MAA4B,aAArBqK,EAAO3W,KAAKsM,GAZpB,0DAA0D0K,MAAM,KAAKpW,SAAQ,SAAS0K,GACrFmN,EAAY,WAAanN,EAAO,KAAQA,EAAK4N,kB;;;;;;ACb9C,IAAIvC,EAAS1a,EAAOC,QAAU,EAAjB,KACZid,EAAahd,MAAM+C,UAAUC,MAU9BwX,EAAOS,OAAO,CAEbgC,SAAU,SAAUxb,GACnB,IAAIyb,EAAS,CAEX,CAAE,UAAW,OAAQ1C,EAAOG,UAAU,eAAgB,YACtD,CAAE,SAAU,OAAQH,EAAOG,UAAU,eAAgB,YACrD,CAAE,SAAU,WAAYH,EAAOG,UAAU,YAE1CjH,EAAQ,UACRyJ,EAAU,CACTzJ,MAAO,WACN,OAAOA,GAERG,OAAQ,WAEP,OADAuJ,EAAStb,KAAMQ,WAAY+a,KAAM/a,WAC1BF,MAERkb,KAAM,WACL,IAAIC,EAAMjb,UACV,OAAOkY,EAAOyC,UAAS,SAAUO,GAChChD,EAAOI,KAAMsC,GAAQ,SAAUre,EAAG4e,GACjC,IAAIC,EAASD,EAAO,GACnBjd,EAAK+c,EAAK1e,GAEXue,EAAUK,EAAM,IAAMjD,EAAO+B,WAAY/b,GACxC,WACC,IAAImd,EAAWnd,EAAG4C,MAAOhB,KAAME,WAC1Bqb,GAAYnD,EAAO+B,WAAYoB,EAASR,SAC5CQ,EAASR,UACPrb,KAAM0b,EAASvD,SACfoD,KAAMG,EAASI,QACfC,SAAUL,EAASM,QAErBN,EAAUE,EAAS,QAAUtb,OAASgb,EAAWI,EAAWpb,KAAM,CAAEub,KAGtEH,EAAUE,OAGZH,EAAM,QACJJ,WAIJA,QAAS,SAAUhN,GAClB,OAAc,MAAPA,EAAcqK,EAAOS,OAAQ9K,EAAKgN,GAAYA,IAGvDC,EAAW,GAqCZ,OAlCAD,EAAQY,KAAOZ,EAAQG,KAGvB9C,EAAOI,KAAMsC,GAAQ,SAAUre,EAAG4e,GACjC,IAAI/L,EAAO+L,EAAO,GACjBO,EAAcP,EAAO,GAGtBN,EAASM,EAAM,IAAO/L,EAAKvJ,IAGtB6V,GACJtM,EAAKvJ,KAAI,WAERuL,EAAQsK,IAGNd,EAAY,EAAJre,GAAS,GAAI8c,QAASuB,EAAQ,GAAK,GAAIhB,MAInDkB,EAAUK,EAAM,IAAO/L,EAAK+J,KAC5B2B,EAAUK,EAAM,GAAK,QAAW/L,EAAK0K,YAItCe,EAAQA,QAASC,GAGZ3b,GACJA,EAAKiB,KAAM0a,EAAUA,GAIfA,GAIRa,KAAM,SAAUC,GACf,IAuBCC,EAAgBC,EAAkBC,EAvB/Bxf,EAAI,EACPyf,EAAgBtB,EAAWta,KAAMJ,WACjCvD,EAASuf,EAAcvf,OAGvBwf,EAAuB,IAAXxf,GAAkBmf,GAAe1D,EAAO+B,WAAY2B,EAAYf,SAAcpe,EAAS,EAGnGqe,EAAyB,IAAdmB,EAAkBL,EAAc1D,EAAOyC,WAGlDuB,EAAa,SAAU3f,EAAG4f,EAAUC,GACnC,OAAO,SAAUhe,GAChB+d,EAAU5f,GAAMuD,KAChBsc,EAAQ7f,GAAMyD,UAAUvD,OAAS,EAAIie,EAAWta,KAAMJ,WAAc5B,EAChEge,IAAWP,EACdf,EAASuB,WAAYF,EAAUC,KACfH,GAChBnB,EAASwB,YAAaH,EAAUC,KAQpC,GAAK3f,EAAS,EAIb,IAHAof,EAAiB,IAAIne,MAAOjB,GAC5Bqf,EAAmB,IAAIpe,MAAOjB,GAC9Bsf,EAAkB,IAAIre,MAAOjB,GACrBF,EAAIE,EAAQF,IACdyf,EAAezf,IAAO2b,EAAO+B,WAAY+B,EAAezf,GAAIse,SAChEmB,EAAezf,GAAIse,UACjBrb,KAAM0c,EAAY3f,EAAGwf,EAAiBC,IACtCjB,KAAMD,EAASQ,QACfC,SAAUW,EAAY3f,EAAGuf,EAAkBD,MAE3CI,EAUL,OAJMA,GACLnB,EAASwB,YAAaP,EAAiBC,GAGjClB,EAASD,c,kBChKlB;;;IAGC,SAAU0B,GACP,aAEA,IAAIC,EAAQ,SAAUjc,GAClB,IAAIyW,EAAI,GAAIyF,EAAW,QACnB/O,EAAU,SAAUG,GAChB,MAA+C,mBAAxC3N,OAAOO,UAAU4I,SAASjJ,KAAKyN,IACvChI,EAAM,SAAUjG,EAAG8c,GAClBA,EAAiB,mBAANA,EAAmBA,IAAMA,MAAAA,EAAa,GAA4BA,EAC7E1F,EAAEA,EAAEva,QAAUkgB,mBAAmB/c,GAAK,IAAM+c,mBAAmBD,IAChEE,EAAc,SAAUvgB,EAAQwR,GAC/B,IAAItR,EAAG8B,EAAKwe,EAEZ,GAAIxgB,EACA,GAAIqR,EAAQG,GACR,IAAKtR,EAAI,EAAG8B,EAAMwP,EAAIpR,OAAQF,EAAI8B,EAAK9B,IAC/BkgB,EAAS/V,KAAKrK,GACdwJ,EAAIxJ,EAAQwR,EAAItR,IAEhBqgB,EAAYvgB,EAAS,KAAyB,iBAAXwR,EAAItR,GAAkBA,EAAI,IAAM,IAAKsR,EAAItR,SAGjF,GAAIsR,GAAuB,oBAAhBkM,OAAOlM,GACrB,IAAKgP,KAAOhP,EACR+O,EAAYvgB,EAAS,IAAMwgB,EAAM,IAAKhP,EAAIgP,SAG9ChX,EAAIxJ,EAAQwR,QAEb,GAAIH,EAAQG,GACf,IAAKtR,EAAI,EAAG8B,EAAMwP,EAAIpR,OAAQF,EAAI8B,EAAK9B,IACnCsJ,EAAIgI,EAAItR,GAAGsQ,KAAMgB,EAAItR,GAAG6B,YAG5B,IAAKye,KAAOhP,EACR+O,EAAYC,EAAKhP,EAAIgP,IAG7B,OAAO7F,GAGf,OAAO4F,EAAY,GAAIrc,GAAGuc,KAAK,KAAK/M,QAAQ,OAAQ,MAGI,iBAAnBvS,EAAOC,QAC5CD,EAAOC,QAAU+e,OAIhB,KAFU,EAAF,WACL,OAAOA,GACV,QAFM,OAEN,aAjDT,I,2BCDA,IAqIUO,EArINC,EAAiB,EAAQ,KACzBC,EAAc,EAAQ,KAwDtBC,EAAM,WACR,IACE,OAAO,IAAIxgB,OAAOygB,eAClB,MAAOjY,MAqDX1H,EAAOC,QAAUuf,EAAerE,QA9GX,SAAwByE,GAC3C,IAAIrI,EAASqI,EAAQrI,QAAU,GAE/B,OAAIqI,GAAWA,IAAYA,EAAQ1gB,OAAe,CAChD,EAAG0gB,EACHC,KAAM,SAAcC,GAClB,OAAOF,EAAQ5Y,iBAAiB,OAAQ8Y,GAAS,IAEnDjgB,KAAM,SAAcqF,EAAO4a,GACzB,OAAOF,EAAQ5Y,iBAAiB9B,EAAO4a,GAAS,IAElDC,OAAQ,SAAgB7a,EAAO4a,GAC7B,OAAOF,EAAQ1Y,oBAAoBhC,EAAO4a,GAAS,KAIhD,CACL,EAAGF,EAEHG,OAAQ,SAAgB7a,EAAO4a,GAC7B,IAAIE,EAAWzI,EAAOrS,IAAU,GAEhC,GAAI4a,EAAS,CACX,IAAIG,EAAMD,EAAS1e,QAAQwe,IACd,IAATG,GAAYD,EAAS1b,OAAO2b,EAAK,QAChCD,EAAW,GAElBzI,EAAOrS,GAAS8a,EAChBJ,EAAQrI,OAASA,GAEnB1X,KAAM,SAAcqF,EAAO4a,GACzB,IAAI7T,EAAUsL,EAAOrS,IAAU,GAC/BqS,EAAOrS,GAAS+G,EAAQT,OAAOsU,GAC/BF,EAAQrI,OAASA,GAEnB2I,eAAgB,SAAwBhb,EAAO9B,GAC7C,IAAI+c,EAAQ7d,MAEGiV,EAAOrS,IAAU,IACvBP,SAAQ,SAAUjE,GAEvB0C,EADEA,GAAQA,EAAK,SAAuBS,IAAjBT,EAAK,GAAGW,KACtB,CAAC,CACNA,KAAMmB,IACLsG,OAAOpI,GAAQ,IAEXA,GAAQ,GAGjB1C,EAAG4C,MAAM6c,EAAO/c,UA8D+Boc,EAAgB,CACrEY,mBAAoB,KACpBC,KApDS,SAAc3c,GACvB,IAAI4c,EAAUZ,IAEVhc,EAAQ6c,WAAa7c,EAAQ6c,UAAUC,kBACzCF,EAAQE,iBAAkB,GAG5BF,EAAQG,mBAAqB,WAC3B,GAA2B,IAAvBH,EAAQI,WAIZ,GAAuB,MAAnBJ,EAAQK,QAAmBL,EAAQM,UAOrCld,EAAQmd,OAASnd,EAAQmd,MAAMP,QAN/B,IACE5c,EAAQod,SAAWpd,EAAQod,QAAQC,KAAKC,MAAMV,EAAQW,eACtD,MAAOvZ,GACPhE,EAAQmd,OAASnd,EAAQmd,MAAMP,KAOrCA,EAAQE,gBAAkB9c,EAAQ6c,UAAUC,gBAC5C,IAAIU,EAAc,MAAO,IAAI5hB,MAAOC,UAmBpC,OAlBkC,IAA9BmE,EAAQyd,IAAI7f,QAAQ,KACxBoC,EAAQyd,KAAO,IAAMD,GACoB,IAA/Bxd,EAAQyd,IAAI7f,QAAQ,MAC5BoC,EAAQyd,KAAO,IAAMD,EAErBxd,EAAQyd,IAAMzd,EAAQyd,IAAI5O,QAAQ,QAAS2O,GAE7CZ,EAAQc,KAAK1d,EAAQK,KAAML,EAAQyd,KACnCb,EAAQe,iBAAiB,eAAgB3d,EAAQ4d,aAC7C5d,EAAQ6d,SACV7e,OAAO8e,KAAK9d,EAAQ6d,SAAS5c,SAAQ,SAAU0a,GAC7C,IAAIze,EAAQ8C,EAAQ6d,QAAQlC,GAC5BiB,EAAQe,iBAAiBhC,EAAKze,MAIlC0f,EAAQmB,KAAK/d,EAAQ6K,KAAKA,MAAQ,QAAU4Q,mBAAmBzb,EAAQ6K,KAAKA,OAErE,CACLmT,MAAO,SAAeC,GACpB,OAAOrB,EAAQoB,MAAMC,MAQzB1F,QAAS,SAAiBhL,EAAK5J,GAC7B,OAA8B,IAAvB4J,EAAI3P,QAAQ+F,IAErBmL,KAAM,SAAcgI,GAClB,OAAOA,GAAOA,EAAIhI,QAEpBoP,cAAe,SAAuBvR,GACpC,OAAQA,GAAmC,IAA5B3N,OAAO8e,KAAKnR,GAAKpR,QAElC4iB,UAAW,SAAmB5Q,GAC5B,MAAO,GAAG/N,MAAMN,KAAKqO,EAAK,IAE5B+N,MAAO,SAAe3O,GACpB,OAAOoP,EAAYpP,IAErByR,QAAS,CACPC,MACMxC,EAASG,MACJH,GAAU,oBAAqBA,O,2BClI9C,IAAInP,EAA4B,mBAAX7O,QAAoD,iBAApBA,OAAOC,SAAwB,SAAU6O,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAyB,mBAAX9O,QAAyB8O,EAAIC,cAAgB/O,QAAU8O,IAAQ9O,OAAO0B,UAAY,gBAAkBoN,GAElQ2R,EAAa,EAAQ;;;;;;;;;CAezB,SAAWC,EAAG/iB,EAAQ2E,GAElB,IAAIqe,EAAY,CACZC,SAAU,sGACVC,kBAAmB,+HACnBC,iBAAkB,oCAClBC,oBAAqB,+CACrBC,wBAAyB,2DACzBC,8BAA+B,oCAC/BC,6BAA8B,wCAC9BC,wBAAyB,uDACzBC,gBAAiB,iDACjBC,0BAA2B,uDAC3BC,0BAA2B,gEAC3BC,qBAAsB,0DACtBC,qBAAsB,uHACtBC,wBAAyB,+LACzBC,WAAY,eACZC,YAAa,kCACbC,eAAgB,+BAChBC,2BAA4B,iCAC5BC,iBAAkB,8BAClBC,gBAAiB,oBACjBC,gCAAiC,oDACjCC,iBAAkB,yBAClBC,2BAA4B,0FAC5BC,sBAAuB,iEACvBC,sBAAuB,mEACvBC,uBAAwB,oFACxBC,iBAAkB,6EAClBC,uBAAwB,wHACxBC,iCAAkC,8HAGtC,GAAiB,mBAAN9B,EAEP,MAAM,IAAI7Q,MAAM8Q,EAAUC,UAG9B,IAAI6B,EACAC,EA4GQC,EAASC,EA3GjBC,EAA6C,aAA/BllB,EAAOgH,SAASwa,WAC9B2D,EAAcpC,EAAE/iB,GAChBolB,EAAsB,wBACtB/M,EAAS,CACTgN,QAAS,UACTC,WAAY,aACZC,WAAY,aACZC,QAAS,UACTC,iBAAkB,mBAClBC,eAAgB,iBAChBC,YAAa,cACbC,eAAgB,iBAChBC,aAAc,gBAwBdC,EAAc,SAAqBC,EAAYC,EAAeC,GAC9D,OAAID,IAAkBD,EAAWrR,QAC7BqR,EAAWrR,MAAQuR,EAEnBlD,EAAEgD,GAAY/E,eAAe3I,EAAOuN,eAAgB,CAAC,CAAEM,SAAUF,EAAeC,SAAUA,MACnF,IAQXE,EAAoB,SAA2BJ,GAC/C,OAAOA,EAAWjK,EAAEsK,cAAcC,WAAaN,EAAWO,UAAUH,kBAAkBJ,IAqM1F,SAASQ,EAAeC,EAAUvE,GAG9B,OAAIA,EAAIwE,MAAM,SACHxE,EAEAA,EAAM,IAdrB,SAAwBuE,GACpB,MAAiB,UAAbA,EACO,GACa,WAAbA,EACA,SADJ,EAWgBE,CAAeF,GAI1C,SAASG,EAAwBZ,EAAYa,GACzC,IAAIC,EAAOzjB,KACP0jB,EAAS,GAEbD,EAAKE,UAAY,SAAUC,GACvB,OAAIjB,EAAWrR,QAAUqO,EAAEkE,QAAQC,gBAAgBC,aAC/CL,EAAOhiB,KAAKkiB,IAEL,IAMfH,EAAKO,MAAQ,WAET,GAAIrB,EAAWrR,QAAUqO,EAAEkE,QAAQC,gBAAgBG,UAC/C,KAAOP,EAAO/mB,OAAS,GACnB6mB,EAAcE,EAAOvhB,UAKjCshB,EAAKS,MAAQ,WACTR,EAAS,KAlMjBhC,EAAW,SAAiB7C,EAAKsF,EAAIC,GAajC,OAAO,IAAI1C,EAAStjB,GAAGimB,KAAKxF,EAAKsF,EAAIC,KAGhC1L,EAAI,CACT4L,mBAAoB,mDAEpBC,WAGqC,gCAA7B3nB,EAAO4T,UAAUgU,UAEjB3C,EAAU,wBAAwB4C,KAAK7nB,EAAO4T,UAAUkU,cAGpD9C,EAAUhlB,EAAO+nB,WAAW9C,EAAQ,KAKrCD,GAGXrD,MAAO,SAAeqF,EAAS1N,EAAQV,GACnC,IAAIpQ,EAAI,IAAI0J,MAAM8U,GAOlB,OANAxe,EAAE8Q,OAASA,OAEY,IAAZV,IACPpQ,EAAEoQ,QAAUA,GAGTpQ,GAGXwf,eAAgB,SAAwBhB,EAASV,EAAWhN,EAAQV,GAChE,IAAIpQ,EAAIpF,KAAKue,MAAMqF,EAAS1N,EAAQV,GAEpC,OADApQ,EAAE8d,UAAYA,EAAYA,EAAUnW,KAhLhD,UAiLmB3H,GAGXyf,OAAQ,WAGJ,IADA,IAAI3N,EAAIhX,UAAU,GACTzD,EAAI,EAAGA,EAAIyD,UAAUvD,OAAS,EAAGF,IACtCya,EAAIA,EAAEjH,QAAQ,IAAMxT,EAAI,IAAKyD,UAAUzD,EAAI,IAE/C,OAAOya,GAGX4N,oBAAqB,SAA6BJ,GAE9C,IAAI7C,EAAU6C,EAAUrB,MAAM,kBAC9B,OAAKxB,IAAYA,EAAQllB,QAAUklB,EAAQllB,OAAS,EACzC,EAEJooB,SAASlD,EAAQ,GAAI,KAGhCmD,sBAAuB,SAA+BrC,GAClD,IAAIsC,EAAStC,EAAWjK,EAAEuM,OACtBC,EAAS,SAAgB3G,GACzBoB,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAAS,CAAC7D,KAG9C0G,IAAWtC,EAAWjK,EAAEyM,gBAAkBF,EAAOG,eACjDzC,EAAWjK,EAAEyM,eAAiBvoB,EAAOyoB,aAAY,WAC7C3D,EAAS4D,WAAWC,OAAOC,WAAW7C,GAAY1H,KAAKiK,KACxDD,EAAOG,iBAKtB1D,EAASzM,OAASA,EAElByM,EAAS9B,UAAYA,EAErB8B,EAAS+D,aAjKU,CACfC,aAAa,EACbC,QAAS,KACTpjB,OAAO,EACPka,QAAQ,EACR/M,OAAO,GA8JXgS,EAASgB,YAAcA,EAEvBhB,EAASkE,gBArIa,SAAyBjD,GAC3C,OAAOA,EAAWrR,QAAUoQ,EAASoC,gBAAgB+B,cAsIzDnE,EAASoC,gBAAkB,CACvBC,WAAY,EACZE,UAAW,EACX6B,aAAc,EACdD,aAAc,GAGlBnE,EAASqE,IAAM,CACXtR,MAAO,WAEH,MAAM,IAAI3F,MAAM,oHAMK,mBAAlBiT,EAAYvgB,GACnBugB,EAAYvgB,GAAG,QAAQ,WACnBsgB,GAAc,KAGlBC,EAAYxE,MAAK,WACbuE,GAAc,KAkFtBJ,EAAStjB,GAAKsjB,EAAS/gB,UAAY,CAC/B0jB,KAAM,SAAcxF,EAAKsF,EAAIC,GACzB,IAAI4B,EAAcrG,EAAE3f,MAEpBA,KAAK6e,IAAMA,EACX7e,KAAKmkB,GAAKA,EACVnkB,KAAKimB,UAAY,KACjBjmB,KAAK0Y,EAAI,CACLsK,cAAe,GACfkD,wBAAyB,IAAI3C,EAAwBvjB,MAAM,SAAU4jB,GACjEoC,EAAYpI,eAAe3I,EAAOkN,WAAY,CAACyB,OAEnDuC,eAAe,IAAInpB,MAAOC,UAC1BmpB,cAAc,IAAIppB,MAAOC,UACzBopB,aAAc,IACdC,WAAY,KACZC,6BAA8B,EAC9BC,WAAY,MAEO,kBAAZpC,IACPpkB,KAAKokB,QAAUA,IAIvBqC,eAAgB,SAAwBC,GAGpC,OAAKA,GAE0B,iBAAbA,EAJP1mB,KAKK2mB,KAAKjI,MAAMgI,GAFhBA,GAQfE,cAAehqB,EAAO6hB,KAEtBkI,KAAM/pB,EAAO6hB,KAEboI,cAAe,SAAuBhI,EAAKiI,GAOvC,IAAIC,EAMJ,OAJAlI,EAAMc,EAAEzP,KAAK2O,GAEbiI,EAAUA,GAAWlqB,EAAOoqB,SAEA,IAAxBnI,EAAI7f,QAAQ,WAKhB+nB,EAAOnqB,EAAOgH,SAASqjB,cAAc,MAChCC,KAAOrI,EAGLkI,EAAK3D,SAAWD,EAAe4D,EAAK3D,SAAU2D,EAAKvU,QAAUsU,EAAQ1D,SAAWD,EAAe2D,EAAQ1D,SAAU0D,EAAQtU,QAGpI2U,aAAc,OAEdnI,YAAa,kCAEboF,SAAS,EAET9S,MAAOoQ,EAASoC,gBAAgB+B,aAEhCuB,eAAgB,MAOhBC,mBAAoB,CAAC,MAAO,MAAO,OAEnCC,oCAAqC,CAAC,MAAO,OAE7CC,eAAgB,IAEhBC,wBAAyB,EAEzBC,kBAAmB,IAEnBC,gBAAiB,IAEjBC,gBAAiB,EAAI,EAErBlT,MAAO,SAAerT,EAAStE,GAI3B,IAOI8qB,EAPAjF,EAAa3iB,KACbilB,EAAS,CACTG,aAAc,IACdyC,iBAAiB,EACjB3E,UAAW,OACX4E,OAAO,GAGP9M,EAAW2H,EAAWoF,WAAapI,EAAE9E,WAEzCmN,EAASprB,EAAOgH,SAASqjB,cAAc,KACnCgB,EAAmB,SAA0BtF,EAAY9D,GACrD8D,EAAW9D,MAAQA,GAAO8D,EAAWuF,UAKzCvF,EAAW9D,IAAMA,EAGjBmJ,EAAOd,KAAOvE,EAAW9D,IACpBmJ,EAAO5E,UAAgC,MAApB4E,EAAO5E,UAI3BT,EAAWS,SAAW4E,EAAO5E,SAC7BT,EAAWnQ,KAAOwV,EAAOxV,OAJzBmQ,EAAWS,SAAWxmB,EAAOgH,SAASojB,SAAS5D,SAC/CT,EAAWnQ,KAAOwV,EAAOxV,MAAQ5V,EAAOgH,SAASojB,SAASxU,MAM9DmQ,EAAWuF,QAAUvF,EAAWS,SAAW,KAAOT,EAAWnQ,KAG7DmQ,EAAWwF,WAAqC,WAAxBxF,EAAWS,SAAwB,SAAW,QAGjC,IAAjCT,EAAW9D,IAAI7f,QAAQ,QACvB2jB,EAAW9D,IAAMjiB,EAAOoqB,SAAS5D,SAAWT,EAAW9D,IACvD8D,EAAWxW,IAAI,sDAAwDwW,EAAW9D,IAAM,OAGxF8D,EAAWkE,cAAclE,EAAW9D,OACpC8D,EAAWxW,IAAI,mCAEU,SAArB8Y,EAAO/B,YAEP+B,EAAO/B,UAAY,CAAC,aAAc,mBAAoB,qBAGhB,IAA/BP,EAAWzE,kBAClByE,EAAWzE,iBAAkB,GAM5ByB,EAAEH,QAAQC,OACXkD,EAAWwE,aAAe,QAC1BxE,EAAWxW,IAAI,2DAGnBwW,EAAW3D,YAAc0C,EAAShJ,EAAE4L,sBAS5C,GALA3B,EAAWsD,UAAY,KAGvBtD,EAAWoF,UAAY/M,GAElB2H,EAAWgE,KAEZ,MAAM,IAAI7X,MAAM,iLAgBpB,GAbwB,aAApB6Q,EAAEle,KAAKL,GAEPtE,EAAWsE,EACgB,WAApBue,EAAEle,KAAKL,KACdue,EAAE9G,OAAOoM,EAAQ7jB,GACe,aAA5Bue,EAAEle,KAAKwjB,EAAOnoB,YACdA,EAAWmoB,EAAOnoB,WAI1BmoB,EAAO/B,UApQf,SAA2BkF,EAAoBzF,GAM3C,GAAIhD,EAAE/R,QAAQwa,GAAqB,CAE/B,IAAK,IAAI3rB,EAAI2rB,EAAmBzrB,OAAS,EAAGF,GAAK,EAAGA,IAAK,CACrD,IAAIymB,EAAYkF,EAAmB3rB,GACT,WAAtBkjB,EAAEle,KAAKyhB,IAA4BxB,EAAS4D,WAAWpC,KACvDP,EAAWxW,IAAI,sBAAwB+W,EAAY,2CACnDkF,EAAmBpmB,OAAOvF,EAAG,IAKH,IAA9B2rB,EAAmBzrB,SACnBgmB,EAAWxW,IAAI,8DACfic,EAAqB,WAEtB,GAAK1G,EAAS4D,WAAW8C,IAA8C,SAAvBA,GAGhD,GAA2B,SAAvBA,GAAiC1G,EAAShJ,EAAE6L,WAAa,EAEhE,MAAO,CAAC,oBAJR5B,EAAWxW,IAAI,sBAAwBic,EAAmB7e,WAAa,KACvE6e,EAAqB,KAMzB,OAAOA,EAuOgBC,CAAkBpD,EAAO/B,UAAWP,IAGlDsC,EAAO/B,UACR,MAAM,IAAIpU,MAAM,4DAOpB,GAJA6T,EAAWjK,EAAEuM,OAASA,GAIjBnD,IAA0C,IAA3BmD,EAAO4C,gBAMvB,OALAlF,EAAWjK,EAAE4P,qBAAuB,WAChC3F,EAAWlO,MAAMrT,EAAStE,IAE9BilB,EAAYxkB,KAAK,OAAQolB,EAAWjK,EAAE4P,sBAE/BtN,EAASD,UAIpB,GAAI4H,EAAWrR,QAAUoQ,EAASoC,gBAAgBC,WAC9C,OAAO/I,EAASD,UACb,IAA4G,IAAxG2H,EAAYC,EAAYjB,EAASoC,gBAAgB+B,aAAcnE,EAASoC,gBAAgBC,YAK/F,OADA/I,EAASnD,QAAQ8K,GACV3H,EAASD,WA3bW,SAA0C4H,GAC7E,IAAI4F,EAAyBC,EAIxB7F,EAAWjK,EAAE+P,oCACdD,EAAqB,SAA4B7F,GAC7C,IAAIiB,EAAUlC,EAAShJ,EAAEmM,OAAOnD,EAAS9B,UAAU2B,iBAAkBoB,EAAW8E,mBAChF9E,EAAWxW,IAAIyX,GACfjE,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAAS,CAACV,EAAShJ,EAAE6F,MAAMqF,EAAqB,sBACpFjB,EAAW+F,MAAiB,GAAyB,IAGzD/F,EAAWmD,cAAa,WACpB,IAAInD,EAAa3iB,KAGb2iB,EAAWrR,QAAUoQ,EAASoC,gBAAgBgC,eAC9CyC,EAA0B3rB,EAAOU,YAAW,WACxCkrB,EAAmB7F,KACpBA,EAAW8E,uBAItB9E,EAAWgG,cAAa,SAAU1c,GAC1BA,EAAK6W,WAAapB,EAASoC,gBAAgBgC,cAE3ClpB,EAAOa,aAAa8qB,MAI5B5F,EAAWjK,EAAE+P,mCAAoC,GA+ZjDG,CAAiCjG,GAMR,SAArBsC,EAAO/B,YAAyC,IAAjB+B,EAAO6C,QACtC7C,EAAO/B,UAAY,eAGvBP,EAAWzE,gBAAkB+G,EAAO/G,gBAGpCyE,EAAWkG,aAAelG,EAAW9D,IAErC8D,EAAWwE,aAAelC,EAAO6C,MAAQ,QAAU,OAEnDG,EAAiBtF,EAAYA,EAAW9D,KAExCc,EAAEgD,GAAYplB,KAAK0X,EAAOgN,SAAS,SAAU7c,EAAG6G,GACnB,aAArB0T,EAAEle,KAAK3E,IACPA,EAASwD,KAAKqiB,GAElB3H,EAASnD,QAAQ8K,MAGrBA,EAAWjK,EAAEoQ,YAAcpH,EAAS4D,WAAWC,OAAOuD,YAAYnG,GAElEiF,EAAc,SAAoBtC,EAAY9V,GAC1C,IAAIuZ,EAAmBrH,EAAShJ,EAAE6F,MAAMqB,EAAUE,mBAGlD,IADAtQ,EAAQA,GAAS,IACJ8V,EAAW3oB,OAcpB,OAbc,IAAV6S,EACAmT,EAAWxW,IAAI,wDACE,IAAVqD,EACPmT,EAAWxW,IAAI,yCAEfwW,EAAWxW,IAAI,kCAInBwT,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAAS,CAAC2G,IAC9C/N,EAASQ,OAAOuN,QAEhBpG,EAAW+F,OAKf,GAAI/F,EAAWrR,QAAUoQ,EAASoC,gBAAgB+B,aAAlD,CAIA,IAAImD,EAAgB1D,EAAW9V,GAC3B0T,EAAYxB,EAAS4D,WAAW0D,GAChCC,EAAa,WACbrB,EAAYtC,EAAY9V,EAAQ,IAGpCmT,EAAWO,UAAYA,EAEvB,IACIP,EAAWjK,EAAEoQ,YAAYrU,MAAMyO,GAAW,WAGtC,IAAIgG,EAAuBxH,EAAShJ,EAAEoM,oBAAoBloB,EAAO4T,UAAUkU,YAAc,GAGzF/B,EAAWxW,IAAI,sEAEX4W,EAAkBJ,IAClBjB,EAAS4D,WAAWC,OAAO4D,iBAAiBxG,GAGhDjB,EAAS4D,WAAWC,OAAO6D,eAAezG,GAI1CjB,EAAShJ,EAAEsM,sBAAsBrC,GAE5BD,EAAYC,EAAYjB,EAASoC,gBAAgBC,WAAYrC,EAASoC,gBAAgBG,YACvFtB,EAAWxW,IAAI,4DAInBwW,EAAWjK,EAAEwN,wBAAwBlC,QAErCrE,EAAEgD,GAAY/E,eAAe3I,EAAOgN,SAGpCF,EAAYxkB,KAAK,UAAU,WACvBolB,EAAWxW,IAAI,8CAEfwW,EAAW+F,KA3BE,SA8BbQ,GAGAnH,EAAYxkB,KAAK,gBAAgB,WAG7BX,EAAOU,YAAW,WACdqlB,EAAW+F,KArCN,QAsCN,QAGZO,GACL,MAAO1K,GACLoE,EAAWxW,IAAI+W,EAAUnW,KAAO,qBAAuBwR,EAAMqF,QAAU,+BACvEqF,OAIR,IAkBQI,EAGArG,EACAsG,EAHAC,EAIAjE,EACAkE,EACAC,EAzBJ5K,EAAM8D,EAAW9D,IAAM,aACvB6K,EAAW,SAAkBnL,EAAOoE,GACpC,IAAIgH,EAAMjI,EAAShJ,EAAE6F,MAAMqB,EAAUG,iBAAkBxB,EAAOoE,EAAWjK,EAAEkR,kBAE3EjK,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAASuH,GAC7C3O,EAASQ,OAAOmO,GAEhBhH,EAAW+F,QAqKf,OAlKA/I,EAAEgD,GAAY/E,eAAe3I,EAAOiN,YAEpCrD,EAAM6C,EAAS4D,WAAWC,OAAOsE,mBAAmBlH,EAAY9D,GAEhE8D,EAAWxW,IAAI,qBAAuB0S,EAAM,MAG5C8D,EAAWjK,EAAEkR,kBAELL,EAAY,EAIZjE,EAAa,GACbkE,EAAsB,IACtBC,EAAY,SAAmB9G,EAAYmH,GAC3C,IAAIjL,EAAM6C,EAAS4D,WAAWC,OAAOsE,mBAAmBlH,EAAYA,EAAW9D,IAAM,cACrF8D,EAAWxW,IAAI,qBAAuB0S,EAAM,MAC5C,IAAIzd,EAAU,CACVyd,IAAKA,EACLN,MAAO,SAAewL,EAAQC,GAEtBA,IAAehI,EACf0H,EAASK,EAAQpH,GAGjB3H,EAASQ,OAAOkG,EAAShJ,EAAE6F,MAAMqB,EAAUK,wBAAyB,KAAkB0C,EAAWjK,EAAEkR,oBAG3GpL,QAASsL,GAOb,OAJInH,EAAWsH,cACX7oB,EAAQ6d,QAAU,CAAE,cAAiB,UAAY0D,EAAWsH,cAGzDvI,EAAS4D,WAAWC,OAAOxH,KAAK4E,EAAYvhB,KA2HtCuhB,GAzHF,SAAS7lB,EAASyC,GAC7B,IACI8pB,EAAM1G,EAAW8D,eAAelnB,GAClC,MAAOgf,GAEL,YADAmL,EAAShI,EAAShJ,EAAE6F,MAAMqB,EAAUM,8BAA+B3B,GAAQoE,GAK/E,GAAI0G,EAAIa,oBAIJ,OAHAZ,EAAgB5H,EAAShJ,EAAE6F,MAAMqB,EAAUc,yBAC3Cf,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAAS,CAACkH,SAC9CtO,EAASQ,OAAO8N,GAIpB,IAAKD,EAAIc,kBAAmF,IAAhExH,EAAW0E,mBAAmBroB,QAAQqqB,EAAIc,iBAKlE,OAJAb,EAAgB5H,EAAShJ,EAAE6F,MAAMmD,EAAShJ,EAAEmM,OAAOjF,EAAUa,qBAAsBkC,EAAWyE,eAAgBiC,EAAIc,kBAClHxK,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAAS,CAACkH,SAC9CtO,EAASQ,OAAO8N,GAQpB,IAAqF,IAAjF3G,EAAW2E,oCAAoCtoB,QAAQqqB,EAAIc,iBAAyB,CACpF,GAAId,EAAIva,MAIJ,OAHAwa,EAAgB5H,EAAShJ,EAAE6F,MAAMmD,EAAShJ,EAAEmM,OAAOjF,EAAUS,gBAAiBgJ,EAAIva,QAClF6Q,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAAS,CAACkH,SAC9CtO,EAASQ,OAAO8N,GAEb,GAAID,EAAIe,YAAa,CACxB,GA9DQ,MA8DJb,EAEA,YADAG,EAAShI,EAAShJ,EAAE6F,MAAMqB,EAAUO,8BAA+BwC,GAI9C,SAArBsC,EAAO/B,YAEP+B,EAAO/B,UAAY,CAAC,aAAc,mBAAoB,gBAG1DP,EAAWxW,IAAI,yBAA2Bkd,EAAIe,aAC9CzH,EAAWsH,YAAcZ,EAAIgB,YAE7B,IAAIC,EAAgBjB,EAAIe,YAAY3R,MAAM,IAAK,GAM/C,OALAwP,EAAiBtF,EAAY2H,EAAc,IAG3C3H,EAAWjK,EAAE8N,WAAsC,IAAzB8D,EAAc3tB,OAAe2tB,EAAc,GAAK,KAE1C,UAA5B3H,EAAWwE,cAA4BxE,EAAWsH,iBAClDP,EAAShI,EAAShJ,EAAE6F,MAAMqB,EAAU6B,kCAAmCkB,IAI3E4G,SACAE,EAAU9G,EAAY7lB,KAK9BkmB,EAAgBL,EAAWjK,EAAEsK,cAC7BL,EAAW4H,eAAiBlB,EAAImB,IAChC7H,EAAW8H,GAAKpB,EAAIqB,aACpB/H,EAAWgI,MAAQtB,EAAIuB,gBACvBjI,EAAWkI,mBAAqBxB,EAAIyB,mBAGpCnI,EAAWjK,EAAEqS,YAAsC,IAAxB1B,EAAI2B,kBAA2B,IAI1DrI,EAAW8E,kBAA4C,IAAxB4B,EAAI4B,kBAGnCtI,EAAWjK,EAAE6N,6BAA+B5D,EAAW6E,wBAAwD,IAA9B6B,EAAI6B,wBAGjF7B,EAAI8B,kBAEJnI,EAAcC,WAAY,EAG1BD,EAAc2C,QAAiC,IAAvB0D,EAAI8B,iBAG5BnI,EAAcoI,eAAiBpI,EAAc2C,QAAUhD,EAAWgF,gBAGlEhF,EAAWjK,EAAE2N,cAAgBrD,EAAc2C,QAAU3C,EAAcoI,gBAAkB,GAErFpI,EAAcC,WAAY,EAG9BN,EAAW+E,gBAAkB/E,EAAW8E,mBAAqBzE,EAAc2C,SAAW,GAEtFhG,EAAEnH,KAAKkJ,EAAS4D,YAAY,SAAUvI,GAClC,GAAyB,IAArBA,EAAI/d,QAAQ,MAAsB,eAAR+d,IAAyBsM,EAAIgC,cACvD,OAAO,EAEX7B,EAAoB9nB,KAAKqb,MAGzB4C,EAAE/R,QAAQqX,EAAO/B,WACjBvD,EAAEnH,KAAKyM,EAAO/B,WAAW,SAAUxK,EAAGwK,GAC9BvD,EAAEhG,QAAQuJ,EAAWsG,IAAwB,GAC7ClE,EAAW5jB,KAAKwhB,MAGI,SAArB+B,EAAO/B,UACdoC,EAAakE,EACN7J,EAAEhG,QAAQsL,EAAO/B,UAAWsG,IAAwB,GAC3DlE,EAAW5jB,KAAKujB,EAAO/B,WAG3B0E,EAAYtC,OAMbtK,EAASD,WAGpBuQ,SAAU,SAAkBxuB,GAIxB,IAAI6lB,EAAa3iB,KAIjB,OAHA2f,EAAEgD,GAAYplB,KAAK0X,EAAOiN,YAAY,SAAU9c,EAAG6G,GAC/CnP,EAASwD,KAAKqiB,MAEXA,GAGXxD,KAAM,SAAclT,GAIhB,IAAI0W,EAAa3iB,KAEjB,GAAI2iB,EAAWrR,QAAUoQ,EAASoC,gBAAgB+B,aAE9C,MAAM,IAAI/W,MAAM,6FAGpB,GAAI6T,EAAWrR,QAAUoQ,EAASoC,gBAAgBC,WAE9C,MAAM,IAAIjV,MAAM,6IAKpB,OAFA6T,EAAWO,UAAU/D,KAAKwD,EAAY1W,GAE/B0W,GAGX4I,SAAU,SAAkBzuB,GAIxB,IAAI6lB,EAAa3iB,KAIjB,OAHA2f,EAAEgD,GAAYplB,KAAK0X,EAAOkN,YAAY,SAAU/c,EAAG6G,GAC/CnP,EAASwD,KAAKqiB,EAAY1W,MAEvB0W,GAGXgG,aAAc,SAAsB7rB,GAIhC,IAAI6lB,EAAa3iB,KAIjB,OAHA2f,EAAEgD,GAAYplB,KAAK0X,EAAOuN,gBAAgB,SAAUpd,EAAG6G,GACnDnP,EAASwD,KAAKqiB,EAAY1W,MAEvB0W,GAGXpE,MAAO,SAAezhB,GAIlB,IAAI6lB,EAAa3iB,KAQjB,OAPA2f,EAAEgD,GAAYplB,KAAK0X,EAAOmN,SAAS,SAAUhd,EAAGomB,EAAWC,GACvD9I,EAAWsD,UAAYuF,EAIvB1uB,EAASwD,KAAKqiB,EAAY6I,EAAWC,MAElC9I,GAGXkD,aAAc,SAAsB/oB,GAIhC,IAAI6lB,EAAa3iB,KAIjB,OAHA2f,EAAEgD,GAAYplB,KAAK0X,EAAOwN,cAAc,SAAUrd,EAAG6G,GACjDnP,EAASwD,KAAKqiB,MAEXA,GAGX+I,eAAgB,SAAwB5uB,GAIpC,IAAI6lB,EAAa3iB,KAKjB,OAJA2f,EAAEgD,GAAYplB,KAAK0X,EAAOoN,kBAAkB,SAAUjd,EAAG6G,GACrDnP,EAASwD,KAAKqiB,MAGXA,GAGXmD,aAAc,SAAsBhpB,GAIhC,IAAI6lB,EAAa3iB,KAIjB,OAHA2f,EAAEgD,GAAYplB,KAAK0X,EAAOqN,gBAAgB,SAAUld,EAAG6G,GACnDnP,EAASwD,KAAKqiB,MAEXA,GAGXgJ,YAAa,SAAqB7uB,GAI9B,IAAI6lB,EAAa3iB,KAIjB,OAHA2f,EAAEgD,GAAYplB,KAAK0X,EAAOsN,aAAa,SAAUnd,EAAG6G,GAChDnP,EAASwD,KAAKqiB,MAEXA,GAGX+F,KAAM,SAAcnmB,EAAOqpB,GAKvB,IAAIjJ,EAAa3iB,KAGjB6rB,EAAWlJ,EAAWoF,UActB,OAXIpF,EAAWjK,EAAE4P,sBAEbvG,EAAYtE,OAAO,OAAQkF,EAAWjK,EAAE4P,6BAIrC3F,EAAWjK,EAAEuM,cACbtC,EAAWjK,EAAE4P,qBAIfxG,GAAiBa,EAAWjK,EAAEuM,SAAkD,IAAxCtC,EAAWjK,EAAEuM,OAAO4C,gBAY7DlF,EAAWrR,QAAUoQ,EAASoC,gBAAgB+B,cAIlDlD,EAAWxW,IAAI,wBAGfvP,EAAOa,aAAaklB,EAAWjK,EAAE4N,YACjC1pB,EAAOkvB,cAAcnJ,EAAWjK,EAAEyM,gBAE9BxC,EAAWO,YACXP,EAAWO,UAAUwF,KAAK/F,IAEL,IAAjBiJ,GACAjJ,EAAWO,UAAU9D,MAAMuD,EAAYpgB,GAGvCwgB,EAAkBJ,IAClBjB,EAAS4D,WAAWC,OAAOwG,wBAAwBpJ,GAGvDA,EAAWO,UAAY,MAGvBP,EAAWjK,EAAEkR,mBAEbjH,EAAWjK,EAAEkR,iBAAiBxK,MAAM4C,UAC7BW,EAAWjK,EAAEkR,kBAIpBjH,EAAWjK,EAAEoQ,aACbnG,EAAWjK,EAAEoQ,YAAYJ,cAGtB/F,EAAWoF,iBACXpF,EAAWqJ,iBACXrJ,EAAWsJ,mBACXtJ,EAAW8H,UACX9H,EAAWjK,EAAEyM,sBACbxC,EAAWjK,EAAEyN,qBACbxD,EAAWjK,EAAE0N,aAGpBzD,EAAWjK,EAAEwN,wBAAwBhC,QAGrCvE,EAAEgD,GAAYlF,OAAOxI,EAAOgN,gBAGrBU,EAAWsH,mBACXtH,EAAWS,gBACXT,EAAWnQ,YACXmQ,EAAWuF,eACXvF,EAAWwF,kBACXxF,EAAW3D,YAClB2D,EAAW9D,IAAM8D,EAAWkG,aAC5BlG,EAAWjK,EAAE8N,WAAa,KAG1B9D,EAAYC,EAAYA,EAAWrR,MAAOoQ,EAASoC,gBAAgB+B,cACnElG,EAAEgD,GAAY/E,eAAe3I,EAAOwN,cAE7BE,QA/DP,GAXIA,EAAWxW,IAAI,gDAGX0f,GACAA,EAASrQ,OAAOkG,EAAShJ,EAAE6F,MAAMqB,EAAUI,yBAyEvD7T,IAAK,SAAa+f,IAr9BX,SAAcA,EAAK9H,GAI1B,IAAI+H,GAHY,IAAZ/H,QAI0B,IAAnBxnB,EAAOsP,UAGlBigB,EAAI,KAAM,IAAInvB,MAAOovB,eAAiB,cAAgBF,EAClDtvB,EAAOsP,QAAQmgB,MACfzvB,EAAOsP,QAAQmgB,MAAMF,GACdvvB,EAAOsP,QAAQC,KACtBvP,EAAOsP,QAAQC,IAAIggB,IA08BnBG,CAAKJ,EAAKlsB,KAAKokB,WAIvB1C,EAAStjB,GAAGimB,KAAK1jB,UAAY+gB,EAAStjB,GAEtCsjB,EAAS6K,WAAa,WAMlB,OAHI5M,EAAEgD,aAAejB,IACjB/B,EAAEgD,WAAahB,GAEZD,GAGP/B,EAAEgD,aACFhB,EAAchC,EAAEgD,YAGpBhD,EAAEgD,WAAahD,EAAEkE,QAAUnC,EAviC/B,CAwiCGhC,EAAY9iB,QAQf,SAAW+iB,EAAG/iB,EAAQ2E,GAElB,IAIIirB,EAJA3I,EAAUlE,EAAEkE,QACZ5O,EAAS0K,EAAEkE,QAAQ5O,OACnByN,EAAc/C,EAAEkE,QAAQnB,YACxB+J,EAAiB,oBAKrB,SAASC,EAAK/J,GACNA,EAAWjK,EAAEsK,cAAc2J,YAYnC,SAAsBhK,GAClB,IACIiK,EADA5J,EAAgBL,EAAWjK,EAAEsK,cAI7BL,EAAWrR,QAAUuS,EAAQC,gBAAgBG,aAC7C2I,GAAc,IAAI5vB,MAAOC,UAAY0lB,EAAWjK,EAAEyN,gBAG/BnD,EAAc2C,SAC7BhD,EAAWxW,IAAI,6EAGfwW,EAAWO,UAAU2J,eAAelK,IAC7BiK,GAAe5J,EAAcoI,eAE/BpI,EAAc8J,eACfnK,EAAWxW,IAAI,4DACfwT,EAAEgD,GAAY/E,eAAe3I,EAAOoN,kBACpCW,EAAc8J,cAAe,GAGjC9J,EAAc8J,cAAe,GAjCjCC,CAAapK,GAIb6J,EAAeQ,WAAWrK,KAC1BA,EAAWjK,EAAE4N,WAAa1pB,EAAOU,YAAW,WACxCovB,EAAK/J,KACNA,EAAWjK,EAAE2N,eA+BxB,SAAS4G,EAAWtK,EAAYuK,GAC5B,IAAIrO,EAAM8D,EAAW9D,IAAMqO,EAM3B,OAJIvK,EAAWO,YACXrE,GAAO,cAAgB8D,EAAWO,UAAUnW,MAGzCyf,EAAe3C,mBAAmBlH,EAAY9D,GAGzD,SAASsO,EAAYxK,GACjB3iB,KAAK2iB,WAAaA,EAElB3iB,KAAKotB,gBAAiB,EACtBptB,KAAKqtB,gBAAiB,EACtBrtB,KAAKstB,mBAAoB,EAzD7BzJ,EAAQyB,WAAa,GA4DrB6H,EAAYxsB,UAAY,CACpB8T,MAAO,SAAeyO,EAAW4G,EAAWb,GACxC,IAAIxF,EAAOzjB,KACP2iB,EAAac,EAAKd,WAClB4K,GAAa,EAEb9J,EAAK2J,gBAAkB3J,EAAK6J,kBAC5B3K,EAAWxW,IAAI,YAAc+W,EAAUnW,KAAO,uEAIlD4V,EAAWxW,IAAI+W,EAAUnW,KAAO,wBAEhCmW,EAAUzO,MAAMkO,GAAY,WACnB4K,GACD9J,EAAK+J,aAAatK,EAAW4G,MAElC,SAAUvL,GAST,OAPKgP,IACDA,GAAa,EACb9J,EAAKgK,gBAAgBvK,EAAW3E,EAAO0K,KAKnCxF,EAAK4J,gBAAkB5J,EAAK6J,qBAGxC7J,EAAKiK,uBAAyB9wB,EAAOU,YAAW,WACvCiwB,IACDA,GAAa,EACb5K,EAAWxW,IAAI+W,EAAUnW,KAAO,gDAChC0W,EAAKgK,gBAAgBvK,EArGzC,UAqG+D+F,MAEhDtG,EAAWjK,EAAE6N,gCAGpBmC,KAAM,WACF1oB,KAAKstB,mBAAoB,EACzB1wB,EAAOa,aAAauC,KAAK0tB,wBACzB7J,EAAQyB,WAAWC,OAAOoI,qBAAqB3tB,KAAK2iB,aAGxD6K,aAAc,SAAsBtK,EAAW4G,GAC3C,IAAIrG,EAAOzjB,KACP2iB,EAAac,EAAKd,WAElBc,EAAK2J,eACLzK,EAAWxW,IAAI,wDAIfsX,EAAK6J,oBAIT7J,EAAK2J,gBAAiB,EACtBxwB,EAAOa,aAAagmB,EAAKiK,wBAEzB/K,EAAWxW,IAAI+W,EAAUnW,KAAO,mDAChC8W,EAAQyB,WAAWC,OAAOqI,UAAUjL,GAAY,WAC5Cc,EAAK4J,gBAAiB,EACtBvD,SAIR2D,gBAAiB,SAAyBvK,EAAW3E,EAAO0K,GACxD,IAEI4E,EAFAlL,EAAa3iB,KAAK2iB,WAClB3H,EAAW2H,EAAWoF,UAGtB/nB,KAAKstB,oBAIT1wB,EAAOa,aAAauC,KAAK0tB,wBAEpB1tB,KAAKotB,eAKEptB,KAAKqtB,iBAGbQ,EAAehK,EAAQnL,EAAE6F,MAAMsF,EAAQjE,UAAUQ,wBAAyB7B,GAE1EoE,EAAWxW,IAAI+W,EAAUnW,KAAO,wEAChC4S,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAAS,CAACyL,IAC1C7S,GACAA,EAASQ,OAAOqS,GAGpBlL,EAAW+F,SAfXxF,EAAUwF,KAAK/F,GAEfA,EAAWxW,IAAI+W,EAAUnW,KAAO,0DAChCkc,QAoBZuD,EAAiB3I,EAAQyB,WAAWC,OAAS,CACzCxH,KAAM,SAAc4E,EAAYvhB,GAC5B,OAAOue,EAAE5B,KAAK4B,EAAE9G,QAAqB,EAAM,GAAI8G,EAAEkE,QAAQ4B,aAAc,CACnEhkB,KAAM,MACNwK,KAAM,GACNgS,UAAW,CAAEC,gBAAiByE,EAAWzE,iBACzCc,YAAa2D,EAAW3D,YACxB8O,SAAUnL,EAAWwE,cACtB/lB,KAGPokB,WAAY,SAAoB7C,GAI5B,IAAI9D,EACAzB,EACAyO,EAAWlM,EAAE9E,WAyCjB,OAvCI8H,EAAWO,WACXrE,EAAM8D,EAAW9D,IAAM,QAEvBA,EAAM2N,EAAeuB,MAAMlP,EAAK8D,EAAWwB,IAE3C/G,EAAMoP,EAAezO,KAAK4E,EAAY,CAClC9D,IAAKA,EACLI,QAAS0D,EAAWsH,YAAc,CAAE,cAAiB,UAAYtH,EAAWsH,aAAgB,GAC5FzL,QAAS,SAAiBjf,GACtB,IAAI0M,EAEJ,IACIA,EAAO0W,EAAW8D,eAAelnB,GACnC,MAAOgf,GAGL,OAFAsN,EAASrQ,OAAOqI,EAAQnL,EAAEkM,eAAef,EAAQjE,UAAUwB,sBAAuBuB,EAAWO,UAAW3E,EAAOnB,SAC/GuF,EAAW+F,OAIO,SAAlBzc,EAAK+hB,SACLnC,EAAShU,UAETgU,EAASrQ,OAAOqI,EAAQnL,EAAEkM,eAAef,EAAQnL,EAAEmM,OAAOhB,EAAQjE,UAAUqB,gCAAiC1hB,GAASojB,EAAWO,UAAW,KAC1I9F,KAGVmB,MAAO,SAAe0P,GACK,MAAnBA,EAAQ5P,QAAqC,MAAnB4P,EAAQ5P,QAClCwN,EAASrQ,OAAOqI,EAAQnL,EAAEkM,eAAef,EAAQnL,EAAEmM,OAAOhB,EAAQjE,UAAUuB,2BAA4B8M,EAAQ5P,QAASsE,EAAWO,UAAW+K,EAAS7Q,IACxJuF,EAAW+F,QAEXmD,EAASrQ,OAAOqI,EAAQnL,EAAEkM,eAAef,EAAQjE,UAAUsB,iBAAkByB,EAAWO,UAAW+K,EAAS7Q,QAKxHyO,EAASrQ,OAAOqI,EAAQnL,EAAEkM,eAAef,EAAQjE,UAAUyB,sBAAuBsB,EAAWO,YAG1F2I,EAAS9Q,WAGpB8O,mBAAoB,SAA4BlH,EAAY9D,GACxD,IAAIqP,EAqBJ,OAlBAA,EAAc1B,EAAeuB,MAAMlP,EAAK,kBAAoB8D,EAAWyE,gBAInE8G,EAFmC,iBAA5BvL,EAAWjK,EAAE8N,WAENgG,EAAeuB,MAAMG,EAAavL,EAAWjK,EAAE8N,YAG/CgG,EAAeuB,MAAMG,EAAavL,EAAWwB,IAG3DxB,EAAWgI,QACXuD,GAAe,oBAAsBtxB,EAAOigB,mBAAmB8F,EAAWgI,QAG1EhI,EAAW1W,OACXiiB,GAAe,mBAAqBtxB,EAAOigB,mBAAmB8F,EAAW1W,OAGtEiiB,GAGXH,MAAO,SAAelP,EAAKsF,GACvB,IACIgK,EADAC,GAAiC,IAAtBvP,EAAI7f,QAAQ,KAAc,IAAM,IAG/C,IAAKmlB,EACD,OAAOtF,EAGX,GAAgE,iBAA7C,IAAPsF,EAAqB,YAAcrW,EAAQqW,IACnD,OAAOtF,EAAMuP,EAAWzO,EAAEjD,MAAMyH,GAGpC,GAAkB,iBAAPA,EAOP,MAJkB,OAFlBgK,EAAYhK,EAAGkK,OAAO,KAEiB,MAAdF,IACrBC,EAAW,IAGRvP,EAAMuP,EAAWjK,EAG5B,MAAM,IAAIrV,MAAM,6DAIpBwf,OAAQ,SAAgB3L,EAAYO,EAAW4C,EAAcyI,EAAMC,GAE/D,IACI3P,GADwB,eAAdqE,EAA6B,GAAKP,EAAWuF,SACvCvF,EAAW4H,eAC3BpG,EAAK,aAAejB,EAkCxB,OAhCKsL,GAAY7L,EAAWsJ,cACxB9H,GAAM,gBAAkBvnB,EAAOigB,mBAAmB8F,EAAWsJ,cAG5DnG,GAKGjH,GAFA0P,EAEO,QAEA,cAGNC,GAAY7L,EAAWqJ,YACxB7H,GAAM,cAAgBvnB,EAAOigB,mBAAmB8F,EAAWqJ,aAV/DnN,GAAO,WAaXA,GAAO,IAAMsF,EACbtF,EAAM2N,EAAe3C,mBAAmBlH,EAAY9D,GAGhD8D,EAAWO,WAAaP,EAAWsH,cACD,qBAA9BtH,EAAWO,UAAUnW,MAA6D,eAA9B4V,EAAWO,UAAUnW,OACzE8R,GAAO,iBAAmBjiB,EAAOigB,mBAAmB8F,EAAWsH,eAIlEuE,IACD3P,GAAO,QAAU1hB,KAAKyB,MAAsB,GAAhBzB,KAAKsxB,WAG9B5P,GAGX6P,2BAA4B,SAAoCC,GAC5D,MAAO,CACHC,UAAWD,EAAsB5uB,EACjC8uB,SAAUF,EAAsBG,EAChCC,iBAAgD,IAA5BJ,EAAsBK,EAC1CC,qBAAoD,IAA5BN,EAAsB/uB,EAC9CsvB,cAAeP,EAAsBQ,EACrCC,YAAaT,EAAsBU,EACnCvgB,MAAO6f,EAAsBW,IAIrCC,aAAc,SAAsB5M,EAAYsJ,GACxCA,IACAtJ,EAAWsJ,YAAcA,IAIjCuD,cAAe,SAAuB7M,EAAYiB,GAC9C,MAAuB,iBAAZA,GAAP,MAAsCA,EAC/BA,EAEJjB,EAAWgE,KAAK8I,UAAU7L,IAGrC8L,SAAU,SAAkB/M,EAAY1W,GACpC,IAEImR,EAFAuS,EAAUnD,EAAegD,cAAc7M,EAAY1W,GACnD4S,EAAMoO,EAAWtK,EAAY,SAE7BuC,EAAS,SAAgB3G,EAAOoE,GAChChD,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAAS,CAACyB,EAAQnL,EAAEkM,eAAef,EAAQjE,UAAUe,WAAYgC,EAAWO,UAAW3E,EAAOnB,GAAMnR,KAsC5I,OAnCAmR,EAAMoP,EAAezO,KAAK4E,EAAY,CAClC9D,IAAKA,EACLpd,KAAkC,UAA5BkhB,EAAWwE,aAA2B,MAAQ,OACpDnI,YAAa6E,EAAQnL,EAAE4L,mBACvBrF,QAAS0D,EAAWsH,YAAc,CAAE,cAAiB,UAAYtH,EAAWsH,aAAgB,GAC5Fhe,KAAM,CACFA,KAAM0jB,GAEVnR,QAAS,SAAiBjf,GACtB,IAAI8pB,EAEJ,GAAI9pB,EAAQ,CACR,IACI8pB,EAAM1G,EAAW8D,eAAelnB,GAClC,MAAOgf,GAGL,OAFA2G,EAAO3G,EAAOoE,QACdA,EAAW+F,OAIf8D,EAAeoD,gBAAgBjN,EAAY0G,KAGnD9K,MAAO,SAAesR,EAASC,GACR,UAAfA,GAAyC,gBAAfA,GAO9B5K,EAAO2K,EAASlN,OAO5BoN,UAAW,SAAmBpN,EAAYpgB,GACtC,QAAoC,IAAzBogB,EAAWO,UAAtB,CAKA3gB,OAAyB,IAAVA,GAA+BA,EAE9C,IAAIsc,EAAMoO,EAAWtK,EAAY,UAEjC6J,EAAezO,KAAK4E,EAAY,CAC5B9D,IAAKA,EACLtc,MAAOA,EACPojB,QAAS,IACTlkB,KAAM,OACNwd,QAAS0D,EAAWsH,YAAc,CAAE,cAAiB,UAAYtH,EAAWsH,aAAgB,GAC5F6D,SAAU,SAGdnL,EAAWxW,IAAI,4BAA8B5J,EAAQ,OAGzDqrB,UAAW,SAAmBjL,EAAYmH,GACtC,IAAIkG,EAAiB,SAAwBzR,GACzC,IAAIvD,EAAW2H,EAAWoF,UACtB/M,GACAA,EAASQ,OAAO+C,IAGpB0R,EAAoB,SAA2B1R,GAC/CoE,EAAWxW,IAAI,sDACfwT,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAAS,CAAC7D,IAC9CyR,EAAezR,GACfoE,EAAW+F,QAGf/F,EAAWjK,EAAEwX,aAAe1D,EAAezO,KAAK4E,EAAY,CACxD9D,IAAKoO,EAAWtK,EAAY,UAC5B1D,QAAS0D,EAAWsH,YAAc,CAAE,cAAiB,UAAYtH,EAAWsH,aAAgB,GAC5FzL,QAAS,SAAiBjf,EAAQyqB,EAAY5M,GAC1C,IAAInR,EAEJ,IACIA,EAAO0W,EAAW8D,eAAelnB,GACnC,MAAOgf,GAEL,YADA0R,EAAkBpM,EAAQnL,EAAE6F,MAAMsF,EAAQnL,EAAEmM,OAAOhB,EAAQjE,UAAUW,0BAA2BhhB,GAASgf,EAAOnB,IAI9F,YAAlBnR,EAAK+hB,SACLlE,IAEAmG,EAAkBpM,EAAQnL,EAAE6F,MAAMsF,EAAQnL,EAAEmM,OAAOhB,EAAQjE,UAAUY,qBAAsBjhB,GAAS,KAAkB6d,KAG9HmB,MAAO,SAAenB,EAAK4M,EAAYmG,GAC/BnG,IAAeyC,EACfwD,EAAkBpM,EAAQnL,EAAE6F,MAAMsF,EAAQjE,UAAUQ,wBAAyB+P,EAAS/S,KAItFuF,EAAWxW,IAAI,mEACf6jB,EAAenM,EAAQnL,EAAE6F,MAAMsF,EAAQjE,UAAUU,0BAA2B,KAAkBlD,SAM9GuQ,qBAAsB,SAA8BhL,GAC5CA,EAAWjK,EAAEwX,eAEbvN,EAAWjK,EAAEwX,aAAa9Q,MAAMqN,UACzB9J,EAAWjK,EAAEwX,eAI5BE,cAAe,SAAuBzN,EAAY0N,EAAoBC,GAC9DD,EAAmBtB,aAAeuB,EAClCA,IACOD,EAAmBtB,aAC1BpM,EAAWxW,IAAI,qEAIvByjB,gBAAiB,SAAyBjN,EAAY1W,GAC7C0W,EAAWjK,EAAEwN,wBAAwBvC,UAAU1X,IAChD0T,EAAEgD,GAAY/E,eAAe3I,EAAOkN,WAAY,CAAClW,KAIzDskB,gBAAiB,SAAyB5N,EAAY6N,EAASF,GAC3D,IAAIrkB,EAEJ,GAAIukB,QAAgC,IAAdA,EAAQC,EAE1BjE,EAAeoD,gBAAgBjN,EAAY6N,QAO/C,GAFAhE,EAAekE,gBAAgB/N,GAE3B6N,EAAS,CAIT,IAFAvkB,EAAOugB,EAAekC,2BAA2B8B,IAExC1hB,MAKL,OAHA6T,EAAWxW,IAAI,8CAAgDqkB,EAAQlB,GACvE3P,EAAEgD,GAAY/E,eAAeiG,EAAQ5O,OAAOmN,QAAS,CAACyB,EAAQnL,EAAE6F,MAAMiS,EAAQlB,EAAe,sBAC7F3M,EAAW+F,MAAiB,GAAyB,GAIzD8D,EAAe+C,aAAa5M,EAAY1W,EAAKmjB,aAEzCnjB,EAAK2iB,YACLjM,EAAWqJ,UAAY/f,EAAK2iB,WAG5B3iB,EAAK4iB,WACLlP,EAAEnH,KAAKvM,EAAK4iB,UAAU,SAAUrf,EAAOoU,GACnC4I,EAAeoD,gBAAgBjN,EAAYiB,MAG/C4I,EAAe4D,cAAczN,EAAY1W,EAAMqkB,MAK3DnH,iBAAkB,SAA0BxG,GACxC,IAAIK,EAAgBL,EAAWjK,EAAEsK,cAG5BA,EAAc2J,WAgBfhK,EAAWxW,IAAI,kEAff6W,EAAc2J,YAAa,EAE3BH,EAAekE,gBAAgB/N,GAG/BA,EAAWjK,EAAEsK,cAAc2N,yBAA2B,WAElDnE,EAAekE,gBAAgB/N,IAInChD,EAAEgD,GAAYplB,KAAK0X,EAAOsN,YAAaI,EAAWjK,EAAEsK,cAAc2N,0BAElEhO,EAAWxW,IAAI,uDAAyD6W,EAAcoI,eAAiB,2BAA6BpI,EAAc2C,QAAU,iCAAmChD,EAAW8E,qBAMlNsE,wBAAyB,SAAiCpJ,GACtD,IAAIK,EAAgBL,EAAWjK,EAAEsK,cAG7BA,EAAc2J,aAEd3J,EAAc2J,YAAa,EAG3BhN,EAAEgD,GAAYlF,OAAOxI,EAAOsN,YAAaI,EAAWjK,EAAEsK,cAAc2N,0BAGpEhO,EAAWjK,EAAEsK,cAAgB,GAC7BL,EAAWxW,IAAI,gDAIvBid,eAAgB,SAAwBzG,GACpCA,EAAWjK,EAAE0N,cAAe,IAAIppB,MAAOC,UACvCyvB,EAAK/J,IAGT+N,gBAAiB,SAAyB/N,GACtCA,EAAWjK,EAAEyN,eAAgB,IAAInpB,MAAOC,WAG5C+vB,WAAY,SAAoBrK,GAC5B,QAAI6J,EAAeoE,iBAAiBjO,KAChCA,EAAWjK,EAAE0N,cAAe,IAAIppB,MAAOC,WAChC,IAMf4zB,0BAA2B,SAAmClO,GAC1D,OAAOA,EAAWrR,QAAUuS,EAAQC,gBAAgBG,WAAatB,EAAWrR,QAAUuS,EAAQC,gBAAgBgC,cAGlHgL,wBAAyB,SAAiCnO,GAItD,OAHyG,IAArGD,EAAYC,EAAYkB,EAAQC,gBAAgBG,UAAWJ,EAAQC,gBAAgBgC,eACnFnG,EAAEgD,GAAY/E,eAAe3I,EAAOqN,gBAEjCK,EAAWrR,QAAUuS,EAAQC,gBAAgBgC,cAGxDiL,sBAAuB,SAA+BpO,GAC9CA,GAAcA,EAAWjK,EAAE6I,mBAC3B3kB,EAAOa,aAAaklB,EAAWjK,EAAE6I,yBAC1BoB,EAAWjK,EAAE6I,mBAI5BqP,iBAAkB,SAA0BjO,GACxC,IAAI,IAAI3lB,MAAOC,UAAY0lB,EAAWjK,EAAE0N,cAAgBzD,EAAW+E,gBAAiB,CAChF,IAAI9D,EAAUC,EAAQnL,EAAEmM,OAAOhB,EAAQjE,UAAU4B,uBAAwB,IAAIxkB,KAAK2lB,EAAWjK,EAAE0N,cAAezD,EAAW+E,iBAIzH,OAHA/E,EAAWxW,IAAIyX,GACfjE,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAAS,CAACyB,EAAQnL,EAAE6F,MAAMqF,EAAqB,sBACnFjB,EAAW+F,MAAiB,GAAyB,IAC9C,EAGX,OAAO,GAGXsI,UAAW,SAAmBrO,EAAYqG,GACtC,IAAI9F,EAAYW,EAAQyB,WAAW0D,GAInC,GAAIwD,EAAeqE,0BAA0BlO,KAAgBA,EAAWjK,EAAE6I,iBAAkB,CAExF,IAAKiL,EAAeoE,iBAAiBjO,GACjC,OAGJA,EAAWjK,EAAE6I,iBAAmB3kB,EAAOU,YAAW,WACzCkvB,EAAeoE,iBAAiBjO,KAIrCO,EAAUwF,KAAK/F,GAEX6J,EAAesE,wBAAwBnO,KACvCA,EAAWxW,IAAI6c,EAAgB,kBAC/B9F,EAAUzO,MAAMkO,OAErBA,EAAW4E,kBAItB0J,mBAAoB,SAA4BtO,EAAYpjB,EAAQgf,EAAOmL,EAAUlU,GACjF,IAAIqY,EAAehK,EAAQnL,EAAEkM,eAAef,EAAQnL,EAAEmM,OAAOhB,EAAQjE,UAAUgB,YAAarhB,GAASojB,EAAWO,UAAW3E,EAAO/I,GAG9HkU,GAAYA,EAASmE,GACrBlL,EAAWxW,IAAI,iEAEfwT,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAAS,CAACyL,IAC9ClL,EAAW+F,SAInBI,YAAa,SAAqBnG,GAC9B,OAAO,IAAIwK,EAAYxK,IAG3BuO,aAAc,CACVC,MAAO,EACPC,YAAa,KAjpBzB,CAopBG1R,EAAY9iB,QASf,SAAW+iB,EAAG/iB,EAAQ2E,GAElB,IAAIsiB,EAAUlE,EAAEkE,QACZ5O,EAAS0K,EAAEkE,QAAQ5O,OACnByN,EAAc/C,EAAEkE,QAAQnB,YACxB8J,EAAiB3I,EAAQyB,WAAWC,OAExC1B,EAAQyB,WAAW+L,WAAa,CAC5BtkB,KAAM,aAENgW,kBAAmB,WACf,OAAO,GAGX5D,KAAM,SAAcwD,EAAY1W,GAC5B,IAAI0jB,EAAUnD,EAAegD,cAAc7M,EAAY1W,GAEvD,IACI0W,EAAW2O,OAAOnS,KAAKwQ,GACzB,MAAOroB,GACLqY,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAAS,CAACyB,EAAQnL,EAAEkM,eAAef,EAAQjE,UAAU0B,uBAAwBqB,EAAWO,UAAW5b,EAAIqb,EAAW2O,QAASrlB,MAIvKwI,MAAO,SAAekO,EAAYmH,EAAWJ,GACzC,IAAI7K,EACA0S,GAAS,EACT9N,EAAOzjB,KACP8lB,GAAgBgE,EAChB9D,EAAcrG,EAAEgD,GAEf/lB,EAAO40B,UAKP7O,EAAW2O,SAERzS,EADA8D,EAAWkI,mBACLlI,EAAWkI,mBAEXlI,EAAWwF,WAAaxF,EAAWnQ,KAG7CqM,GAAO2N,EAAe8B,OAAO3L,EAAY3iB,KAAK+M,KAAM+Y,GAEpDnD,EAAWxW,IAAI,qCAAuC0S,EAAM,MAC5D8D,EAAW2O,OAAS,IAAI10B,EAAO40B,UAAU3S,GAEzC8D,EAAW2O,OAAOG,OAAS,WACvBF,GAAS,EACT5O,EAAWxW,IAAI,qBAEfqgB,EAAeuE,sBAAsBpO,IAEoE,IAArGD,EAAYC,EAAYkB,EAAQC,gBAAgBgC,aAAcjC,EAAQC,gBAAgBG,YACtF+B,EAAYpI,eAAe3I,EAAOsN,cAI1CI,EAAW2O,OAAOI,QAAU,SAAU9uB,GAClC,IAAI2b,EAMAve,OAAS2iB,EAAW2O,SAChBC,QAAoC,IAAnB3uB,EAAM+uB,WAA+C,IAAnB/uB,EAAM+uB,UAGzDpT,EAAQsF,EAAQnL,EAAEkM,eAAef,EAAQjE,UAAUoB,gBAAiB2B,EAAWO,UAAWtgB,GAE1F+f,EAAWxW,IAAI,uCAAyCvJ,EAAMyc,QAAU,wBAExEsD,EAAWxW,IAAI,qBAGdud,GAAaA,EAASnL,KACnBA,GACAoB,EAAEgD,GAAY/E,eAAe3I,EAAOmN,QAAS,CAAC7D,IAGlDkF,EAAKuN,UAAUrO,MAK3BA,EAAW2O,OAAOM,UAAY,SAAUhvB,GACpC,IAAIqJ,EAEJ,IACIA,EAAO0W,EAAW8D,eAAe7jB,EAAMqJ,MACzC,MAAOsS,GAEL,YADAiO,EAAeyE,mBAAmBtO,EAAY/f,EAAMqJ,KAAMsS,EAAOmL,EAAU9mB,GAI3EqJ,GACAugB,EAAe+D,gBAAgB5N,EAAY1W,EAAM6d,KAlEzDJ,KAwERsH,UAAW,SAAmBrO,GAC1B6J,EAAewE,UAAUrO,EAAY3iB,KAAK+M,OAG9C8f,eAAgB,SAAwBlK,GACpC3iB,KAAKgxB,UAAUrO,IAGnB+F,KAAM,SAAc/F,GAEhB6J,EAAeuE,sBAAsBpO,GAEjCA,EAAW2O,SACX3O,EAAWxW,IAAI,0BACfwW,EAAW2O,OAAOO,QAClBlP,EAAW2O,OAAS,OAI5BlS,MAAO,SAAeuD,EAAYpgB,GAC9BiqB,EAAeuD,UAAUpN,EAAYpgB,KA5HjD,CA+HGmd,EAAY9iB,QASf,SAAW+iB,EAAG/iB,EAAQ2E,GAElB,IAAIsiB,EAAUlE,EAAEkE,QACZ5O,EAAS0K,EAAEkE,QAAQ5O,OACnByN,EAAc/C,EAAEkE,QAAQnB,YACxB8J,EAAiB3I,EAAQyB,WAAWC,OACpCuM,EAA+B,SAAsCnP,GACrE/lB,EAAOa,aAAaklB,EAAWjK,EAAEqZ,sCAC1BpP,EAAWjK,EAAEqZ,+BAGxBlO,EAAQyB,WAAW0M,iBAAmB,CAClCjlB,KAAM,mBAENgW,kBAAmB,WACf,OAAO,GAGXkP,QAAS,IAETxd,MAAO,SAAekO,EAAYmH,EAAWJ,GACzC,IAII7K,EAJA4E,EAAOzjB,KACPuxB,GAAS,EACTvL,EAAcrG,EAAEgD,GAChBmD,GAAgBgE,EAQpB,GALInH,EAAWuP,cACXvP,EAAWxW,IAAI,4DACfwW,EAAW+F,QAGV9rB,EAAOu1B,YAAZ,CAQAtT,EAAM2N,EAAe8B,OAAO3L,EAAY3iB,KAAK+M,KAAM+Y,GAEnD,IACInD,EAAWxW,IAAI,0CAA4C0S,EAAM,MACjE8D,EAAWuP,YAAc,IAAIt1B,EAAOu1B,YAAYtT,EAAK,CAAEX,gBAAiByE,EAAWzE,kBACrF,MAAO9Y,GAYL,OAXAud,EAAWxW,IAAI,mDAAqD/G,EAAEgtB,QAAU,UAC5E1I,EAEAA,KAEA1D,EAAYpI,eAAe3I,EAAOmN,QAAS,CAACyB,EAAQnL,EAAEkM,eAAef,EAAQjE,UAAUkB,2BAA4B6B,EAAWO,UAAW9d,KACrI0gB,GAEArC,EAAKuN,UAAUrO,KAMvBmD,IACAnD,EAAWjK,EAAEqZ,8BAAgCn1B,EAAOU,YAAW,YAC5C,IAAXi0B,GAGI5O,EAAWuP,YAAY9T,aAAexhB,EAAOu1B,YAAYE,MAEzD5O,EAAKuN,UAAUrO,KAGxBc,EAAKwO,UAGZtP,EAAWuP,YAAYxtB,iBAAiB,QAAQ,SAAUU,GACtDud,EAAWxW,IAAI,0BAEf2lB,EAA6BnP,GAC7B6J,EAAeuE,sBAAsBpO,IAEtB,IAAX4O,IACAA,GAAS,GAEgG,IAArG7O,EAAYC,EAAYkB,EAAQC,gBAAgBgC,aAAcjC,EAAQC,gBAAgBG,YACtF+B,EAAYpI,eAAe3I,EAAOsN,iBAG3C,GAEHI,EAAWuP,YAAYxtB,iBAAiB,WAAW,SAAUU,GACzD,IAAIikB,EAGJ,GAAe,gBAAXjkB,EAAE6G,KAAN,CAIA,IACIod,EAAM1G,EAAW8D,eAAerhB,EAAE6G,MACpC,MAAOsS,GAEL,YADAiO,EAAeyE,mBAAmBtO,EAAYvd,EAAE6G,KAAMsS,EAAOmL,EAAUtkB,GAI3EonB,EAAe+D,gBAAgB5N,EAAY0G,EAAKS,OACjD,GAEHnH,EAAWuP,YAAYxtB,iBAAiB,SAAS,SAAUU,GACvD,IAAImZ,EAAQsF,EAAQnL,EAAEkM,eAAef,EAAQjE,UAAUmB,iBAAkB4B,EAAWO,UAAW9d,GAK3FpF,OAAS2iB,EAAWuP,cAIpBxI,GAAYA,EAASnL,KAIzBoE,EAAWxW,IAAI,2BAA6BwW,EAAWuP,YAAY9T,WAAa,KAE5EhZ,EAAEktB,aAAe11B,EAAOu1B,YAAYI,QAKpC5P,EAAWxW,IAAI,iEACfsX,EAAKuN,UAAUrO,KAGfA,EAAWxW,IAAI,sBACf6Z,EAAYpI,eAAe3I,EAAOmN,QAAS,CAAC7D,UAEjD,QArGKmL,IACA/G,EAAWxW,IAAI,qCACfud,MAsGZsH,UAAW,SAAmBrO,GAC1B6J,EAAewE,UAAUrO,EAAY3iB,KAAK+M,OAG9C8f,eAAgB,SAAwBlK,GACpC3iB,KAAKgxB,UAAUrO,IAGnBxD,KAAM,SAAcwD,EAAY1W,GAC5BugB,EAAekD,SAAS/M,EAAY1W,IAGxCyc,KAAM,SAAc/F,GAEhBmP,EAA6BnP,GAC7B6J,EAAeuE,sBAAsBpO,GAEjCA,GAAcA,EAAWuP,cACzBvP,EAAWxW,IAAI,gCACfwW,EAAWuP,YAAYL,QACvBlP,EAAWuP,YAAc,YAClBvP,EAAWuP,cAI1B9S,MAAO,SAAeuD,EAAYpgB,GAC9BiqB,EAAeuD,UAAUpN,EAAYpgB,KAnKjD,CAsKGmd,EAAY9iB,QASf,SAAW+iB,EAAG/iB,EAAQ2E,GAElB,IAcQixB,EAEAC,EAhBJ5O,EAAUlE,EAAEkE,QACZ5O,EAAS0K,EAAEkE,QAAQ5O,OACnByN,EAAc/C,EAAEkE,QAAQnB,YACxB8J,EAAiB3I,EAAQyB,WAAWC,OACpCmN,EAAc,WACd,IAAIC,EAAQ/1B,EAAOgH,SAASqjB,cAAc,UAE1C,OADA0L,EAAMC,aAAa,QAAS,sEACrBD,GAMXE,GACQL,EAAuB,KAEvBC,EAAa,EAEV,CACHK,QAAS,WAEDjP,EAAQnL,EAAE6L,WAAa,IAEJ,IAAfkO,IAEAD,EAAuB51B,EAAOyoB,aAAY,WACtC,IAAI0N,EAAYL,IAEhB91B,EAAOgH,SAASG,KAAK4T,YAAYob,GACjCn2B,EAAOgH,SAASG,KAAK2S,YAAYqc,GAEjCA,EAAY,OAhBP,MAoBbN,MAGR7d,OAAQ,WAEe,IAAf6d,GACA71B,EAAOkvB,cAAc0G,GAGrBC,EAAa,GACbA,OAMhB5O,EAAQyB,WAAW4L,aAAe,CAC9BnkB,KAAM,eAENgW,kBAAmB,WACf,OAAO,GAIXiQ,qBAAsB,GAEtBve,MAAO,SAAekO,EAAYmH,EAAWJ,GACzC,GAAI/G,EAAWsH,YACPP,IACA/G,EAAWxW,IAAI,yHACfud,SAHR,CAQA,IAEI7K,EAFA4E,EAAOzjB,KACPizB,EAAUzG,EAAe0E,aAAaC,OAAS,EAE/CwB,EAAQD,IACRQ,EAAmB,WACnBvQ,EAAWxW,IAAI,8EACVud,GAAaA,KACdjG,EAAKuN,UAAUrO,IAInB/lB,EAAOu1B,YAEHzI,IACA/G,EAAWxW,IAAI,2EACfud,MAKRiJ,EAAMC,aAAa,6BAA8BjQ,EAAW8H,IAI5DoI,EAAcC,UAGdjU,EAAM2N,EAAe8B,OAAO3L,EAAY3iB,KAAK+M,MAC7C8R,GAAO,YAAcoU,EAGrBr2B,EAAOgH,SAASE,gBAAgB6T,YAAYgb,GAE5ChQ,EAAWxW,IAAI,mCAEXwmB,EAAMjuB,iBACNiuB,EAAMjuB,iBAAiB,OAAQwuB,GAAkB,GAC1CP,EAAMztB,aACbytB,EAAMztB,YAAY,SAAUguB,GAGhCP,EAAMrY,IAAMuE,EACZ2N,EAAe0E,aAAaE,YAAY6B,GAAWtQ,EAEnDA,EAAWgQ,MAAQA,EACnBhQ,EAAWsQ,QAAUA,EAEjBnJ,IACAnH,EAAWmH,UAAY,WACnBnH,EAAWxW,IAAI,6BACf2d,SAKZkH,UAAW,SAAmBrO,GAC1B,IAAIc,EAAOzjB,KAGPwsB,EAAeqE,0BAA0BlO,IAAe6J,EAAeoE,iBAAiBjO,IACxF/lB,EAAOU,YAAW,WAEd,GAAKkvB,EAAeoE,iBAAiBjO,IAIjCA,EAAWgQ,OAASnG,EAAesE,wBAAwBnO,GAAa,CACxE,IAAIgQ,EAAQhQ,EAAWgQ,MACnBrY,EAAMkS,EAAe8B,OAAO3L,EAAYc,EAAK1W,MAAM,GAAQ,YAAc4V,EAAWsQ,QACxFtQ,EAAWxW,IAAI,2BAA6BmO,EAAM,MAClDqY,EAAMrY,IAAMA,KAEjBqI,EAAW4E,iBAItBsF,eAAgB,SAAwBlK,GACpC3iB,KAAKgxB,UAAUrO,IAGnBxD,KAAM,SAAcwD,EAAY1W,GAC5BugB,EAAekD,SAAS/M,EAAY1W,IAGxCknB,QAAS,SAAiBxQ,EAAY1W,GAClC,IAAImnB,EAAIrvB,EAAM2iB,EAgBd,GAdI/D,EAAWgE,OAAShE,EAAWiE,gBAM/B3a,EAAO0W,EAAWiE,cAAc6I,UAAUxjB,IAG9Cya,EAAW/D,EAAW8D,eAAexa,GAErCugB,EAAe+D,gBAAgB5N,EAAY+D,EAAU/D,EAAWmH,WAG5DnH,EAAWrR,QAAUqO,EAAEkE,QAAQC,gBAAgBG,YAE/CtB,EAAW0Q,mBAAqB1Q,EAAW0Q,mBAAqB,GAAK,EACjE1Q,EAAW0Q,kBAAoBxP,EAAQyB,WAAW4L,aAAa8B,uBAC/DrQ,EAAW0Q,kBAAoB,GAC/BD,EAAKzQ,EAAWgQ,MAAMW,eAAiB3Q,EAAWgQ,MAAMY,kBAC9CH,EAAGxvB,UAAYwvB,EAAGxvB,SAASG,OAIjC,IAHAA,EAAOqvB,EAAGxvB,SAASG,KAGZA,EAAKyvB,YACRzvB,EAAK2S,YAAY3S,EAAKyvB,aAO1C9K,KAAM,SAAc/F,GAChB,IAAIyQ,EAAK,KAKT,GAFAP,EAAcje,SAEV+N,EAAWgQ,MAAO,CAClB,GAAIhQ,EAAWgQ,MAAMjK,KACjB/F,EAAWgQ,MAAMjK,YAEjB,KACI0K,EAAKzQ,EAAWgQ,MAAMW,eAAiB3Q,EAAWgQ,MAAMY,iBACjD3vB,UAAYwvB,EAAGxvB,SAAS6vB,aAC3BL,EAAGxvB,SAAS6vB,YAAY,QAE9B,MAAOruB,GACLud,EAAWxW,IAAI,kEAAoE/G,EAAEwe,QAAU,KAKnGjB,EAAWgQ,MAAM5oB,aAAenN,EAAOgH,SAASE,iBAChDlH,EAAOgH,SAASE,gBAAgB4S,YAAYiM,EAAWgQ,cAGpDnG,EAAe0E,aAAaE,YAAYzO,EAAWsQ,SAC1DtQ,EAAWgQ,MAAQ,KACnBhQ,EAAWsQ,QAAU,YACdtQ,EAAWgQ,aACXhQ,EAAWsQ,eACXtQ,EAAWmH,iBACXnH,EAAW0Q,kBAClB1Q,EAAWxW,IAAI,6BAIvBiT,MAAO,SAAeuD,EAAYpgB,GAC9BiqB,EAAeuD,UAAUpN,EAAYpgB,IAGzCmxB,cAAe,SAAuBjJ,GAClC,OAAO+B,EAAe0E,aAAaE,YAAY3G,IAGnDkJ,QAAS,SAAiBhR,IACmF,IAArGD,EAAYC,EAAYkB,EAAQC,gBAAgBgC,aAAcjC,EAAQC,gBAAgBG,YAEtFtE,EAAEgD,GAAY/E,eAAe3I,EAAOsN,eA9OpD,CAkPG7C,EAAY9iB,QASf,SAAW+iB,EAAG/iB,EAAQ2E,GAElB,IAAIsiB,EAAUlE,EAAEkE,QACZ5O,EAAS0K,EAAEkE,QAAQ5O,OACnByN,EAAc/C,EAAEkE,QAAQnB,YACxBkD,EAAkBjG,EAAEkE,QAAQ+B,gBAC5B4G,EAAiB3I,EAAQyB,WAAWC,OAExC1B,EAAQyB,WAAWsO,YAAc,CAC7B7mB,KAAM,cAENgW,kBAAmB,WACf,OAAO,GAGXwE,eAAgB,IAEhB9S,MAAO,SAAekO,EAAYmH,EAAWJ,GAGzC,IAAIjG,EAAOzjB,KACP6zB,EAAe,WACfA,EAAelU,EAAEjF,KAEjBiI,EAAWxW,IAAI,0BAEX2d,EACAA,IAEAnH,EAAWxW,IAAI,qEAGnB2nB,EAAiB,SAAwBvV,GACzC,QAAImL,EAASnL,KACToE,EAAWxW,IAAI,mCACR,IAKX4nB,EAAcpR,EAAWjK,EACzBsb,EAAkB,EAClBC,EAAkB,SAAyBC,GAC3Ct3B,EAAOa,aAAas2B,EAAYI,oBAChCJ,EAAYI,mBAAqB,MAEsE,IAAnGzR,EAAYwR,EAAUrQ,EAAQC,gBAAgBgC,aAAcjC,EAAQC,gBAAgBG,aAEpFiQ,EAAS/nB,IAAI,+BACbwT,EAAEuU,GAAUtW,eAAe3I,EAAOsN,eAOtCI,EAAWyR,UACXzR,EAAWxW,IAAI,kDACfwW,EAAW+F,QAGf/F,EAAWqJ,UAAY,KAEvB+H,EAAYI,mBAAqB,KAEjCJ,EAAYM,cAAgBz3B,EAAOU,YAAW,YAC1C,SAAUixB,EAAK2F,EAAUI,GACrB,IAEIxO,IADwB,OADZoO,EAASlI,WAGrBuI,GAAWD,EACXzV,EAAM2N,EAAe8B,OAAO4F,EAAUzQ,EAAK1W,KAAM+Y,EAAcyO,GAAS,GACxEC,EAAW,GAEXN,EAASlI,YACTwI,EAASxI,UAAYkI,EAASlI,WAG9BkI,EAASjI,cACTuI,EAASvI,YAAciI,EAASjI,cAIF,IAA9BrG,EAAgBsO,KAIpBvR,EAAWxW,IAAI,oCAAsC0S,EAAM,MAC3DqV,EAASE,QAAU5H,EAAezO,KAAK4E,EAAY,CAC/C1E,UAAW,CACPwW,WAAY,WACRjI,EAAekE,gBAAgB/N,KAGvC9D,IAAKA,EACLpd,KAAM,OACNud,YAAa6E,EAAQnL,EAAE4L,mBACvBrY,KAAMuoB,EACN7O,QAAShD,EAAWjK,EAAEqS,YACtB9L,QAAS0D,EAAWsH,YAAc,CAAE,cAAiB,UAAYtH,EAAWsH,aAAgB,GAC5FzL,QAAS,SAAiBjf,GACtB,IAAIixB,EAEAvkB,EACAyoB,EAFAC,EAAQ,EAIZhS,EAAWxW,IAAI,uBAIf6nB,EAAkB,EAElB,IAEIxD,EAAU7N,EAAW8D,eAAelnB,GACtC,MAAOgf,GAEL,YADAiO,EAAeyE,mBAAmBiD,EAAU30B,EAAQgf,EAAOuV,EAAgBI,EAASE,SAKjD,OAAnCL,EAAYI,oBACZF,EAAgBC,GAGhB1D,IACAvkB,EAAOugB,EAAekC,2BAA2B8B,IAGrDhE,EAAe+D,gBAAgB2D,EAAU1D,EAASqD,GAE9C5nB,GAAuC,WAA/B0T,EAAEle,KAAKwK,EAAKijB,iBACpByF,EAAQ1oB,EAAKijB,gBAGiB,IAA9BtJ,EAAgBsO,MAIpBQ,EAAkBzoB,GAAQA,EAAKgjB,mBAItBzC,EAAesE,wBAAwBoD,KAM5CS,EAAQ,EACRZ,EAAYM,cAAgBz3B,EAAOU,YAAW,WAC1CixB,EAAK2F,EAAUQ,KAChBC,GAEHpG,EAAK2F,EAAUQ,MAIvBnW,MAAO,SAAetS,EAAM6jB,GACxB,IAAIvR,EAAQsF,EAAQnL,EAAEkM,eAAef,EAAQjE,UAAUiB,eAAgB8B,EAAWO,UAAWjX,EAAMioB,EAASE,SAO5G,GAHAx3B,EAAOa,aAAas2B,EAAYI,oBAChCJ,EAAYI,mBAAqB,KAEd,UAAfrE,GAKJ,IAAKgE,EAAevV,GAAQ,CAexB,GAVAyV,IAEIrR,EAAWrR,QAAUuS,EAAQC,gBAAgBgC,eAC7CnD,EAAWxW,IAAI,iDAAmD2jB,EAAa,iBAAmB7jB,EAAK0S,aAAe,KACtHgB,EAAEuU,GAAUtW,eAAe3I,EAAOmN,QAAS,CAAC7D,MAM3CoE,EAAWrR,QAAUuS,EAAQC,gBAAgBG,WAAatB,EAAWrR,QAAUuS,EAAQC,gBAAgBgC,gBAAkB0G,EAAeoE,iBAAiBjO,GAC1J,OAKJ,IAAK6J,EAAesE,wBAAwBoD,GACxC,OAIJH,EAAYM,cAAgBz3B,EAAOU,YAAW,WAC1CixB,EAAK2F,GAAU,KAChBzQ,EAAK8D,sBAhCR5E,EAAWxW,IAAI,2BAsCvB2Z,IAAmC,IAAnBwO,IAMhBP,EAAYI,mBAAqBv3B,EAAOU,YAAW,WAC/C22B,EAAgBC,KACjB/2B,KAAK4B,IAAI,KAAQ5B,KAAKkB,IAAI,EAAG21B,GAAmB,GA/JnC,SAYxB,CAqJGrR,KACJ,MAGPkK,eAAgB,SAAwBlK,GAChCA,EAAWyR,SACXzR,EAAWyR,QAAQhV,MAAM,mBAIjCD,KAAM,SAAcwD,EAAY1W,GAC5BugB,EAAekD,SAAS/M,EAAY1W,IAGxCyc,KAAM,SAAc/F,GAIhB/lB,EAAOa,aAAaklB,EAAWjK,EAAE2b,eACjCz3B,EAAOa,aAAaklB,EAAWjK,EAAEyb,2BAE1BxR,EAAWjK,EAAE2b,qBACb1R,EAAWjK,EAAEyb,mBAEhBxR,EAAWyR,UACXzR,EAAWyR,QAAQhV,QACnBuD,EAAWyR,QAAU,YACdzR,EAAWyR,UAI1BhV,MAAO,SAAeuD,EAAYpgB,GAC9BiqB,EAAeuD,UAAUpN,EAAYpgB,KAvPjD,CA0PGmd,EAAY9iB,QAQf,SAAW+iB,EAAG/iB,EAAQ2E,GAElB,IAAIqzB,EAAW,EAEX/Q,EAAUlE,EAAEkE,QAEhB,SAASgR,EAAcjyB,GACnB,OAAOA,EAJU,YAQrB,SAASiM,EAAIF,EAAKmmB,EAAKC,GACnB,IAAIt4B,EACAE,EAASgS,EAAIhS,OACb4C,EAAS,GACb,IAAK9C,EAAI,EAAGA,EAAIE,EAAQF,GAAK,EACrBkS,EAAIqmB,eAAev4B,KACnB8C,EAAO9C,GAAKq4B,EAAIx0B,KAAKy0B,EAAOpmB,EAAIlS,GAAIA,EAAGkS,IAG/C,OAAOpP,EAGX,SAAS01B,EAAYx0B,GACjB,OAAOkf,EAAExF,WAAW1Z,IAA0B,cAAdkf,EAAEle,KAAKhB,GAAd,KAA0CA,EAGvE,SAASy0B,EAAWnnB,GAChB,IAAK,IAAIgP,KAAOhP,EAEZ,GAAIA,EAAIinB,eAAejY,GACnB,OAAO,EAIf,OAAO,EAGX,SAASoY,EAAyBxS,EAAYpE,GAE1C,IACIzhB,EADAs4B,EAAYzS,EAAWjK,EAAE2c,oBAgB7B,IAAK,IAAIC,KAbLJ,EAAWE,IACXzS,EAAWxW,IAAI,iDAAmDoS,EAAQ,KAI9EoE,EAAWjK,EAAE6c,qBAAuB,SAC7B5S,EAAWjK,EAAE2c,oBACpB1S,EAAWjK,EAAE2c,oBAAsB,GAMZD,GACnBt4B,EAAWs4B,EAAUE,IACZE,OAAOl1B,KAAKxD,EAAS24B,MAAO,CAAEnG,EAAG/Q,IAIlD,SAASmX,EAAgC54B,GAIrC,OAAO6iB,EAAExF,WAAWrd,IAAaA,EAASyM,WAAW3I,MAAM,EAAG,KAAK5B,QAAQ,kCAAoC,EAInH,SAAS22B,EAASC,EAAeC,GAK7B,OAAO,IAAIF,EAASv3B,GAAGimB,KAAKuR,EAAeC,GAmN/C,SAASD,EAAc/W,EAAKzd,GAIxB,IAAI2K,EAAW,CACXoY,GAAI,KACJC,SAAS,EACT0R,gBAAgB,GAQpB,OALAnW,EAAE9G,OAAO9M,EAAU3K,GAEdyd,IAAO9S,EAAS+pB,iBACjBjX,GAAOA,GAAO,IAAM,YAEjB,IAAI+W,EAAcx3B,GAAGimB,KAAKxF,EAAK9S,GA/N1C4pB,EAASv3B,GAAKu3B,EAASh1B,UAAY,CAC/B0jB,KAAM,SAAc1B,EAAYkT,GAC5B71B,KAAKsR,MAAQ,GACbtR,KAAK2iB,WAAaA,EAClB3iB,KAAK61B,QAAUA,EACf71B,KAAK0Y,EAAI,CACLqd,YAAa,KAIrB/nB,YAAa2nB,EAEbK,iBAAkB,WACd,OAAOd,EAAWl1B,KAAK0Y,EAAEqd,cAG7Bv0B,GAAI,SAAYy0B,EAAWn5B,EAAUo5B,GAKjC,IAAIzS,EAAOzjB,KACP+1B,EAActS,EAAK/K,EAAEqd,YACrBI,GAA8BD,GAAoBR,EAAgC54B,IAItFo5B,EAAmBA,GAAoBp5B,GAGjBs5B,eAClBF,EAAiBE,aAAexB,KAOpC,IAOIyB,EAPAC,EAAgBP,EAHpBE,EAAYA,EAAUtb,eAIjB2b,IACDA,EAAgB,GAChBP,EAAYE,GAAaK,GAK7B,IAAK,IAAI75B,EAAI,EAAGA,EAAI65B,EAAc35B,OAAQF,KAClC65B,EAAc75B,GAAG85B,OAASL,EAAiBE,cAAgBD,GAA8BG,EAAc75B,GAAG05B,8BAC1GE,EAAeC,EAAc75B,IAKhC45B,IACDA,EAAe,CACXE,KAAML,EAAiBE,aACvBI,cAAe,GACfL,2BAA4BA,GAEhCJ,EAAYE,GAAWv0B,KAAK20B,IAGhC,IAAI7Y,EAAU,SAAiBpY,EAAG6G,GAC9BnP,EAASkE,MAAMyiB,EAAMxX,IAMzB,OAJAoqB,EAAaG,cAAc90B,KAAK8b,GAEhCmC,EAAE8D,GAAMlmB,KAAKs3B,EAAcoB,GAAYzY,GAEhCiG,GAGX5hB,IAAK,SAAao0B,EAAWn5B,EAAUo5B,GAKnC,IAEII,EAFA7S,EAAOzjB,KACP+1B,EAActS,EAAK/K,EAAEqd,YAErBI,GAA8BD,GAAoBR,EAAgC54B,GAUtF,GARAo5B,EAAmBA,GAAoBp5B,EAKvCw5B,EAAgBP,EAFhBE,EAAYA,EAAUtb,eAOlB,GAAI7d,EAAU,CAIV,IAFA,IAAI25B,EAEKh6B,EAAI,EAAGA,EAAI65B,EAAc35B,OAAQF,KAClC65B,EAAc75B,GAAG85B,OAASL,EAAiBE,cAAgBD,GAA8BG,EAAc75B,GAAG05B,8BAC1F15B,EAChBg6B,EAAuBH,EAAc75B,IAK7C,GAAIg6B,EAAsB,CAEtB,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAqBD,cAAc75B,OAAQ+5B,IAC3D/W,EAAE8D,GAAMhG,OAAOoX,EAAcoB,GAAYQ,EAAqBD,cAAcE,IAIhFJ,EAAct0B,OAAOvF,EAAG,GAGK,IAAzB65B,EAAc35B,eACPo5B,EAAYE,SAGnBn5B,IAER6iB,EAAE8D,GAAMhG,OAAOoX,EAAcoB,WAEtBF,EAAYE,IAI3B,OAAOxS,GAGXkT,OAAQ,SAAgBC,GAIpB,IAAInT,EAAOzjB,KACP2iB,EAAac,EAAKd,WAClB7hB,EAAO6e,EAAEJ,UAAUrf,WAAWU,MAAM,GACpCi2B,EAAYhoB,EAAI/N,EAAMm0B,GACtBhpB,EAAO,CAAE6qB,EAAGrT,EAAKoS,QAAS/G,EAAG8H,EAAY/2B,EAAGg3B,EAAWpG,EAAG9N,EAAWjK,EAAE6c,sBACvEwB,EAAIpX,EAAE9E,WACN/d,EAAW,SAAkBk6B,GAC7B,IACI9gB,EACAqI,EAFAhf,EAASkkB,EAAKwT,qBAAqBD,GAKvCrX,EAAE9G,OAAO4K,EAAKnS,MAAO/R,EAAO23B,OAExB33B,EAAO43B,SACHJ,EAAExa,WAEFwa,EAAExa,WAAWkH,EAAM,CAAClkB,EAAO43B,SAASC,OAC5BzU,EAAWjK,EAAE2e,8BACrB1U,EAAWxW,IAAI,0FAA4FwT,EAAEhf,UAAU22B,OAAS,kGAChI3U,EAAWjK,EAAE2e,6BAA8B,GAExC93B,EAAOuP,OAEVvP,EAAOg4B,YACP5U,EAAWxW,IAAI5M,EAAOuP,MAAQ,KAAOvP,EAAOg4B,WAAa,KAI7DrhB,EAAS3W,EAAOi4B,eAAiB,eAAiB,aAClDjZ,EAAQsF,EAAQnL,EAAE6F,MAAMhf,EAAOuP,MAAOoH,IAChCjK,KAAO1M,EAAOk4B,UAEpB9U,EAAWxW,IAAIsX,EAAKoS,QAAU,IAAMe,EAAa,8BAAgCrY,EAAMqF,SACvFmT,EAAEW,WAAWjU,EAAM,CAAClF,MAGpBoE,EAAWxW,IAAI,WAAasX,EAAKoS,QAAU,IAAMe,GACjDG,EAAEva,YAAYiH,EAAM,CAAClkB,EAAOo4B,WAcpC,OAVAhV,EAAWjK,EAAE2c,oBAAoB1S,EAAWjK,EAAE6c,qBAAqBhsB,YAAc,CAAEksB,MAAOhS,EAAM+R,OAAQ14B,GACxG6lB,EAAWjK,EAAE6c,sBAAwB,EAEhC5V,EAAEL,cAAcmE,EAAKnS,SACtBrF,EAAK+iB,EAAIvL,EAAKnS,OAGlBqR,EAAWxW,IAAI,YAAcsX,EAAKoS,QAAU,IAAMe,GAClDjU,EAAWxD,KAAKlT,GAET8qB,EAAEhc,WAGbkc,qBAAsB,SAA8BW,GAChD,MAAO,CACHV,MAAOU,EAAe5I,EACtB2I,OAAQC,EAAeC,EACvBV,SAAUS,EAAex4B,EAAI,CACzB04B,GAAIF,EAAex4B,EAAEqxB,EACrB2G,KAAMQ,EAAex4B,EAAE24B,GACvB,KACJD,GAAIF,EAAenH,EACnB+G,eAAgBI,EAAed,EAC/BhoB,MAAO8oB,EAAetI,EACtBiI,WAAYK,EAAeh4B,EAC3B63B,UAAWG,EAAeG,KAKtCpC,EAASv3B,GAAGimB,KAAK1jB,UAAYg1B,EAASv3B,GAqBtCw3B,EAAcx3B,GAAKw3B,EAAcj1B,UAAYgf,EAAEgD,aAE/CiT,EAAcx3B,GAAGimB,KAAO,SAAUxF,EAAKzd,GACnC,IAAI2K,EAAW,CACXoY,GAAI,KACJC,SAAS,EACT0R,gBAAgB,GAEhBnT,EAAa3iB,KAEjB2f,EAAE9G,OAAO9M,EAAU3K,GAGnBue,EAAEkE,QAAQzlB,GAAGimB,KAAK/jB,KAAKqiB,EAAY9D,EAAK9S,EAASoY,GAAIpY,EAASqY,SAG9DzB,EAAWqV,QAAU,GAErBrV,EAAWjK,EAAE6c,qBAAuB,EACpC5S,EAAWjK,EAAE2c,oBAAsB,GAGnC1S,EAAW4I,UAAS,SAAUiF,GAC1B,IAAIvkB,EAAMgsB,EAAOC,EAAgBp7B,EAAU+4B,EAASI,EAC/CzF,SAQoB,IAAdA,EAAQpxB,GACf84B,EAAiB1H,EAAQpxB,EAAEqxB,EAAElnB,YAC7BzM,EAAW6lB,EAAWjK,EAAE2c,oBAAoB6C,KAExCp7B,EAAS04B,OAAOl1B,KAAKxD,EAAS24B,MAAOjF,SAEb,IAAdA,EAAQC,GAEtByH,EAAiB1H,EAAQC,EAAElnB,YAC3BzM,EAAW6lB,EAAWjK,EAAE2c,oBAAoB6C,MAGxCvV,EAAWjK,EAAE2c,oBAAoB6C,GAAkB,YAC5CvV,EAAWjK,EAAE2c,oBAAoB6C,GAGxCp7B,EAAS04B,OAAOl1B,KAAKxD,EAAS24B,MAAOjF,MAGzCvkB,EAAOjM,KAAKm4B,6BAA6B3H,GAGzC7N,EAAWxW,IAAI,gCAAkCF,EAAKmsB,OAAS,aAAensB,EAAKosB,IAAM,MAGzFxC,EAAU5pB,EAAKosB,IAAI1d,cACnBsb,EAAYhqB,EAAKmsB,OAAOzd,cAGxBsd,EAAQj4B,KAAKg4B,QAAQnC,GAGrBlW,EAAE9G,OAAOof,EAAM3mB,MAAOrF,EAAKirB,OAC3BvX,EAAEsY,GAAOra,eAAeiX,EAAcoB,GAAY,CAAChqB,EAAKqsB,YAIhE3V,EAAWpE,OAAM,SAAUga,EAASC,GAChC,IAAIlD,EAAYx4B,EAEX07B,IAKLlD,EAAakD,EAAS/H,GACtB3zB,EAAW6lB,EAAWjK,EAAE2c,oBAAoBC,MAKxC3S,EAAWjK,EAAE2c,oBAAoBC,GAAc,YACxC3S,EAAWjK,EAAE2c,oBAAoBC,GAGxCx4B,EAAS04B,OAAOl1B,KAAKxD,EAAS24B,MAAO,CAAEnG,EAAGiJ,SAIlD5V,EAAWmD,cAAa,WAChBnD,EAAWO,WAA2C,eAA9BP,EAAWO,UAAUnW,MAC7CooB,EAAyBxS,EAAY,6EAI7CA,EAAWkD,cAAa,WACpBsP,EAAyBxS,EAAY,0EAI7CiT,EAAcx3B,GAAG+5B,6BAA+B,SAAUM,GACtD,MAAO,CACHJ,IAAKI,EAAuB3B,EAC5BsB,OAAQK,EAAuB3J,EAC/BwJ,KAAMG,EAAuB54B,EAC7Bq3B,MAAOuB,EAAuBzJ,IAItC4G,EAAcx3B,GAAGs6B,wBAA0B,WAKvC,IAAI/V,EAAa3iB,KAEZ2iB,EAAWgW,oBACZhW,EAAWgW,mBAAoB,EAC/BhW,EAAW2I,UAAS,WAGhB,IAAIsN,EAAiB,GAErBjZ,EAAEnH,KAAKmK,EAAWqV,SAAS,SAAUjb,GAC7B/c,KAAKg2B,qBACL4C,EAAel3B,KAAK,CAAEqL,KAAMgQ,IAC5B4F,EAAWxW,IAAI,6BAA+B4Q,EAAM,UAI9B,IAA1B6b,EAAej8B,QACfgmB,EAAWxW,IAAI,qMAGnBwW,EAAW1W,KAAO0W,EAAWgE,KAAK8I,UAAUmJ,QAKxDhD,EAAcx3B,GAAGy6B,eAAiB,SAAUhD,GAUxCA,EAAUA,EAAQlb,cAElB,IAAIsd,EAAQj4B,KAAKg4B,QAAQnC,GAQzB,OAPKoC,IACDA,EAAQtC,EAAS31B,KAAM61B,GACvB71B,KAAKg4B,QAAQnC,GAAWoC,GAG5Bj4B,KAAK04B,0BAEET,GAGXrC,EAAcx3B,GAAGimB,KAAK1jB,UAAYi1B,EAAcx3B,GAEhDuhB,EAAEiW,cAAgBA,EAtdtB,CAudGlW,EAAY9iB,QAWZ8iB,EADGmE,QAAQjC,QAAU,QAGJjkB,EAAQ,GAAgB+hB,EAAWkW,cACvBlW,EAAWmE,S,QC7/F3C,IAA6CiV,EAE3CA,EAF+B,mBAAjBC,aAEP,SAAU36B,GAAM26B,aAAa36B,IAE7B,SAAUA,GAAMd,WAAWc,EAAI,IAGxCV,EAAOC,QAAUm7B,G,QCPjB,SAASxJ,KAKTA,EAAE3uB,UAAY,CACZa,GAAI,SAAUuL,EAAMjQ,EAAUiE,GAC5B,IAAIqE,EAAIpF,KAAKoF,IAAMpF,KAAKoF,EAAI,IAO5B,OALCA,EAAE2H,KAAU3H,EAAE2H,GAAQ,KAAKrL,KAAK,CAC/BtD,GAAItB,EACJiE,IAAKA,IAGAf,MAGT2B,KAAM,SAAUoL,EAAMjQ,EAAUiE,GAC9B,IAAI8G,EAAO7H,KACX,SAAS6F,IACPgC,EAAKhG,IAAIkL,EAAMlH,GACf/I,EAASkE,MAAMD,EAAKb,WAItB,OADA2F,EAAS6S,EAAI5b,EACNkD,KAAKwB,GAAGuL,EAAMlH,EAAU9E,IAGjCkB,KAAM,SAAU8K,GAMd,IALA,IAAId,EAAO,GAAGrL,MAAMN,KAAKJ,UAAW,GAChC84B,IAAWh5B,KAAKoF,IAAMpF,KAAKoF,EAAI,KAAK2H,IAAS,IAAInM,QACjDnE,EAAI,EACJ8B,EAAMy6B,EAAOr8B,OAETF,EAAI8B,EAAK9B,IACfu8B,EAAOv8B,GAAG2B,GAAG4C,MAAMg4B,EAAOv8B,GAAGsE,IAAKkL,GAGpC,OAAOjM,MAGT6B,IAAK,SAAUkL,EAAMjQ,GACnB,IAAIsI,EAAIpF,KAAKoF,IAAMpF,KAAKoF,EAAI,IACxB6zB,EAAO7zB,EAAE2H,GACTmsB,EAAa,GAEjB,GAAID,GAAQn8B,EACV,IAAK,IAAIL,EAAI,EAAG8B,EAAM06B,EAAKt8B,OAAQF,EAAI8B,EAAK9B,IACtCw8B,EAAKx8B,GAAG2B,KAAOtB,GAAYm8B,EAAKx8B,GAAG2B,GAAGsa,IAAM5b,GAC9Co8B,EAAWx3B,KAAKu3B,EAAKx8B,IAY3B,OAJCy8B,EAAiB,OACd9zB,EAAE2H,GAAQmsB,SACH9zB,EAAE2H,GAEN/M,OAIXtC,EAAOC,QAAU2xB,EACjB5xB,EAAOC,QAAQw7B,YAAc7J,G,yBC9D7B,SAAS8J,EAAOC,EAAGtC,GACf,YAAiB,IAANsC,OACa,IAANtC,EAAoBsC,EAAItC,EAGnCsC,EAPXj5B,OAAO4M,eAAerP,EAAS,aAA/B,CAA+CW,OAAO,IA2EtDX,EAAQgF,QAlER,SAAiBtD,EAAMi6B,GAInB,MAAoB,mBAFpBj6B,EAAO+5B,EAAO/5B,EAAMi6B,IAGT,WACH,IAAK,IAAIC,EAAOr5B,UAAUvD,OAAQmE,EAAOlD,MAAM27B,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IACzE14B,EAAK04B,GAAQt5B,UAAUs5B,GAG3B,QAASn6B,EAAK2B,MAAMhB,KAAMc,IAIzBzB,EAAO,WACZ,OAAO,GACP,WACA,OAAO,IAkDf1B,EAAQ87B,QA9CR,SAAiBp6B,EAAMi6B,GAInB,MAAoB,mBAFpBj6B,EAAO+5B,EAAO/5B,EAAMi6B,IAGT,WACH,IAAK,IAAII,EAAQx5B,UAAUvD,OAAQmE,EAAOlD,MAAM87B,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IAC9E74B,EAAK64B,GAASz5B,UAAUy5B,GAG5B,IAAIj5B,EAAIqkB,SAAS1lB,EAAK2B,MAAMhB,KAAMc,GAAO,IACzC,OAAOJ,GAAKA,EAAI,EAAIA,IAI5BrB,EAAO0lB,SAAS1lB,EAAM,MAEPA,EAAO,WAClB,OAAO,GACP,WACA,OAAOA,IA2Bf1B,EAAQi8B,OAvBR,SAAgBv6B,EAAMi6B,GAIlB,MAAoB,mBAFpBj6B,EAAO+5B,EAAO/5B,EAAMi6B,IAGT,WACH,IAAK,IAAIO,EAAQ35B,UAAUvD,OAAQmE,EAAOlD,MAAMi8B,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IAC9Eh5B,EAAKg5B,GAAS55B,UAAU45B,GAG5B,MAAO,GAAKz6B,EAAK2B,MAAMhB,KAAMc,KAIrCzB,EAAO,GAAKA,EAEL,WACH,OAAOA,OCxEX06B,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB14B,IAAjB24B,EACH,OAAOA,EAAav8B,QAGrB,IAAID,EAASq8B,EAAyBE,GAAY,CAGjDt8B,QAAS,IAOV,OAHAw8B,EAAoBF,GAAU35B,KAAK5C,EAAOC,QAASD,EAAQA,EAAOC,QAASq8B,GAGpEt8B,EAAOC,QCpBfq8B,EAAoBt5B,EAAKhD,IACxB,IAAI08B,EAAS18B,GAAUA,EAAO28B,WAC7B,IAAO38B,EAAiB,QACxB,IAAM,EAEP,OADAs8B,EAAoBjD,EAAEqD,EAAQ,CAAE35B,EAAG25B,IAC5BA,GCLRJ,EAAoBjD,EAAI,CAACp5B,EAAS28B,KACjC,IAAI,IAAIvd,KAAOud,EACXN,EAAoBtmB,EAAE4mB,EAAYvd,KAASid,EAAoBtmB,EAAE/V,EAASof,IAC5E3c,OAAO4M,eAAerP,EAASof,EAAK,CAAE5P,YAAY,EAAM1D,IAAK6wB,EAAWvd,MCJ3Eid,EAAoB11B,EAAI,WACvB,GAA0B,iBAAfi2B,WAAyB,OAAOA,WAC3C,IACC,OAAOv6B,MAAQ,IAAIw6B,SAAS,cAAb,GACd,MAAOp1B,GACR,GAAsB,iBAAXxI,OAAqB,OAAOA,QALjB,GCAxBo9B,EAAoBtmB,EAAI,CAAC3F,EAAK0sB,IAAUr6B,OAAOO,UAAUq0B,eAAe10B,KAAKyN,EAAK0sB,GCClFT,EAAoBU,EAAK/8B,IACH,oBAAXsB,QAA0BA,OAAO07B,aAC1Cv6B,OAAO4M,eAAerP,EAASsB,OAAO07B,YAAa,CAAEr8B,MAAO,WAE7D8B,OAAO4M,eAAerP,EAAS,aAAc,CAAEW,OAAO,K,gEC0BhD,IAAIs8B,EAAW,WAQlB,OAPAA,EAAWx6B,OAAOy6B,QAAU,SAAkBC,GAC1C,IAAK,IAAI5jB,EAAGza,EAAI,EAAGiE,EAAIR,UAAUvD,OAAQF,EAAIiE,EAAGjE,IAE5C,IAAK,IAAIsK,KADTmQ,EAAIhX,UAAUzD,GACO2D,OAAOO,UAAUq0B,eAAe10B,KAAK4W,EAAGnQ,KAAI+zB,EAAE/zB,GAAKmQ,EAAEnQ,IAE9E,OAAO+zB,IAEK95B,MAAMhB,KAAME,YA8BzB,SAAS66B,EAAUC,EAASC,EAAY77B,EAAG87B,GAE9C,OAAO,IAAK97B,IAAMA,EAAI+7B,WAAU,SAAUtjB,EAAS2D,GAC/C,SAAS4f,EAAU98B,GAAS,IAAM+8B,EAAKH,EAAU17B,KAAKlB,IAAW,MAAO8G,GAAKoW,EAAOpW,IACpF,SAASk2B,EAASh9B,GAAS,IAAM+8B,EAAKH,EAAiB,MAAE58B,IAAW,MAAO8G,GAAKoW,EAAOpW,IACvF,SAASi2B,EAAK97B,GAJlB,IAAejB,EAIaiB,EAAOG,KAAOmY,EAAQtY,EAAOjB,QAJ1CA,EAIyDiB,EAAOjB,MAJhDA,aAAiBc,EAAId,EAAQ,IAAIc,GAAE,SAAUyY,GAAWA,EAAQvZ,OAIT4c,KAAKkgB,EAAWE,GAClGD,GAAMH,EAAYA,EAAUl6B,MAAMg6B,EAASC,GAAc,KAAKz7B,WAI/D,SAAS+7B,EAAYP,EAASj3B,GACjC,IAAsGs1B,EAAGj2B,EAAG03B,EAAGx2B,EAA3GoU,EAAI,CAAE8iB,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPX,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOY,KAAM,GAAIC,IAAK,IAChG,OAAOr3B,EAAI,CAAE9E,KAAMo8B,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAX38B,SAA0BqF,EAAErF,OAAOC,UAAY,WAAa,OAAOc,OAAUsE,EACvJ,SAASs3B,EAAKl7B,GAAK,OAAO,SAAUkc,GAAK,OACzC,SAAcrM,GACV,GAAI8oB,EAAG,MAAM,IAAI/5B,UAAU,mCAC3B,KAAOoZ,OACH,GAAI2gB,EAAI,EAAGj2B,IAAM03B,EAAY,EAARvqB,EAAG,GAASnN,EAAU,OAAImN,EAAG,GAAKnN,EAAS,SAAO03B,EAAI13B,EAAU,SAAM03B,EAAEx6B,KAAK8C,GAAI,GAAKA,EAAE5D,SAAWs7B,EAAIA,EAAEx6B,KAAK8C,EAAGmN,EAAG,KAAK7Q,KAAM,OAAOo7B,EAE3J,OADI13B,EAAI,EAAG03B,IAAGvqB,EAAK,CAAS,EAARA,EAAG,GAAQuqB,EAAEx8B,QACzBiS,EAAG,IACP,KAAK,EAAG,KAAK,EAAGuqB,EAAIvqB,EAAI,MACxB,KAAK,EAAc,OAAXmI,EAAE8iB,QAAgB,CAAEl9B,MAAOiS,EAAG,GAAI7Q,MAAM,GAChD,KAAK,EAAGgZ,EAAE8iB,QAASp4B,EAAImN,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKmI,EAAEijB,IAAIE,MAAOnjB,EAAEgjB,KAAKG,MAAO,SACxC,QACI,KAAMf,EAAIpiB,EAAEgjB,MAAMZ,EAAIA,EAAEn+B,OAAS,GAAKm+B,EAAEA,EAAEn+B,OAAS,KAAkB,IAAV4T,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEmI,EAAI,EAAG,SACjG,GAAc,IAAVnI,EAAG,MAAcuqB,GAAMvqB,EAAG,GAAKuqB,EAAE,IAAMvqB,EAAG,GAAKuqB,EAAE,IAAM,CAAEpiB,EAAE8iB,MAAQjrB,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYmI,EAAE8iB,MAAQV,EAAE,GAAI,CAAEpiB,EAAE8iB,MAAQV,EAAE,GAAIA,EAAIvqB,EAAI,MAC7D,GAAIuqB,GAAKpiB,EAAE8iB,MAAQV,EAAE,GAAI,CAAEpiB,EAAE8iB,MAAQV,EAAE,GAAIpiB,EAAEijB,IAAIj6B,KAAK6O,GAAK,MACvDuqB,EAAE,IAAIpiB,EAAEijB,IAAIE,MAChBnjB,EAAEgjB,KAAKG,MAAO,SAEtBtrB,EAAKxM,EAAKzD,KAAK06B,EAAStiB,GAC1B,MAAOtT,GAAKmL,EAAK,CAAC,EAAGnL,GAAIhC,EAAI,EAAK,QAAUi2B,EAAIyB,EAAI,EACtD,GAAY,EAARvqB,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEjS,MAAOiS,EAAG,GAAKA,EAAG,QAAK,EAAQ7Q,MAAM,GArB9B27B,CAAK,CAAC36B,EAAGkc,MAyBhCxc,OAAOmL,OAsGXnL,OAAOmL,O,iDChLhC,aAYI,WAAYuwB,EAAuC16B,GAU/C,GAlBI,KAAA26B,eAAwC,GAS5C/7B,KAAKmQ,QAAU,IAAI,EAAAgpB,YAEf2C,aAA2BE,YAC3Bh8B,KAAKi8B,MAAQH,EAGb97B,KAAKi8B,MAAQr4B,SAAS2K,cAAcutB,GAGrB,OAAf97B,KAAKi8B,MAAT,CAIA,KAAiC,OAA1Bj8B,KAAKi8B,MAAMzI,YACdxzB,KAAKi8B,MAAMvlB,YAAY1W,KAAKi8B,MAAMzI,YAGtCxzB,KAAKi8B,MAAMC,UAAUn2B,IAAI,iBAEC,KAAtB3E,MAAAA,OAAO,EAAPA,EAAS+6B,WACTn8B,KAAKo8B,gBAudjB,OAhdY,YAAAA,aAAR,WACIp8B,KAAKwU,MAAQ,IAAQ,CACjBL,eAAe,IAGnBnU,KAAKwU,MAAMhT,GAAG,OAAQxB,KAAKq8B,OAAO9+B,KAAKyC,QAYnC,YAAAq8B,OAAR,SAAer5B,EAAkBH,EAAiBqT,EAAiB/D,GAC/D,GAAMnP,aAAmBg5B,YAAzB,CAKA,IAAMM,EAA4Bz5B,EAAO05B,QAAQ,kBAC3CC,EAA8BtmB,EAAOqmB,QAAQ,kBACnD,GAAqB,OAAjBD,GAA4C,OAAnBE,EAA7B,CAKA,IAAMC,EAASz5B,EAAQ05B,QAAQjS,GACzBkS,EAAaL,EAAaI,QAAQjS,GAClCmS,EAAeJ,EAAeE,QAAQjS,GAC5C,QAAelpB,IAAXk7B,QAAuCl7B,IAAfo7B,QAA6Cp7B,IAAjBq7B,EAAxD,CAKA,IAAMC,EAAO78B,KAAK88B,SAASL,GACrBM,EAAW/8B,KAAKg9B,WAAWL,GAC3BM,EAAaj9B,KAAKg9B,WAAWJ,GACnC,GAAa,OAATC,GAA8B,OAAbE,GAAoC,OAAfE,EAA1C,CAKA,IAAMC,EAAkBD,EAAWE,MAAMn+B,QAAQ69B,GAC3CO,EAAgBx/B,MAAMC,KAAKgF,EAAOw6B,YAAYr+B,QAAQgE,GAC5D,IAAyB,IAArBk6B,IAA6C,IAAnBE,EAA9B,CAKAH,EAAWE,MAAMn7B,OAAOk7B,EAAiB,GACzCH,EAASI,MAAMn7B,OAAOo7B,EAAe,EAAGP,GAExC,IAAMS,EAAcF,GAAiB,EAAIL,EAASI,MAAMC,EAAgB,GAAG3S,GAAK,KAEhFzqB,KAAKmQ,QAAQlO,KAAK,YAAaw6B,EAAQE,EAAYW,GAAa,SAG1D,YAAAN,WAAV,SAAqBO,GACjB,IAAM/tB,EAAQxP,KAAKw9B,gBAAgBD,GAEnC,OAAiB,OAAV/tB,EAAiBxP,KAAK+7B,eAAevsB,GAAS,MAG/C,YAAAguB,gBAAV,SAA0BD,GACtB,IAAK,IAAI9gC,EAAI,EAAGA,EAAIuD,KAAK+7B,eAAep/B,OAAQF,IAC5C,GAAIuD,KAAK+7B,eAAet/B,GAAGguB,KAAO8S,EAC9B,OAAO9gC,EAIf,OAAO,MAGD,YAAAghC,kBAAV,SAA4BhB,GACxB,IAAK,IAAIjtB,KAASxP,KAAK+7B,eAAgB,CACnC,IAAM2B,EAAS19B,KAAK+7B,eAAevsB,GAGnC,GAAkB,OAFAxP,KAAK29B,cAAcD,EAAQjB,GAGzC,OAAOiB,EAIf,OAAO,MAGD,YAAAZ,SAAV,SAAmBL,GACf,IAAK,IAAIjtB,KAASxP,KAAK+7B,eAAgB,CACnC,IAAM2B,EAAS19B,KAAK+7B,eAAevsB,GAC7BouB,EAAY59B,KAAK29B,cAAcD,EAAQjB,GAE7C,GAAkB,OAAdmB,EACA,OAAOF,EAAOP,MAAMS,GAI5B,OAAO,MAGD,YAAAD,cAAV,SAAwBD,EAAwBjB,GAC5C,IAAK,IAAIhgC,EAAI,EAAGA,EAAIihC,EAAOP,MAAMxgC,OAAQF,IACrC,GAAIihC,EAAOP,MAAM1gC,GAAGguB,KAAOgS,EACvB,OAAOhgC,EAIf,OAAO,MAGJ,YAAAohC,UAAP,SAAiBH,GACb,OAAO19B,KAAK89B,qBAAqBJ,EAAQ19B,KAAK+7B,eAAep/B,SAG1D,YAAAohC,mBAAP,SAA0BL,EAAgBM,GACtC,IAAMC,EAAcj+B,KAAKw9B,gBAAgBQ,GAEzC,OAAoB,OAAhBC,GAIGj+B,KAAK89B,qBAAqBJ,EAAQO,IAGtC,YAAAC,oBAAP,SAA2BX,GACvB,IAAMG,EAAS19B,KAAKg9B,WAAWO,GAE/B,OAAe,OAAXG,EACO,KAGJA,EAAOS,MASX,YAAAC,kBAAP,SAAyB3B,G,QACrB,OAAkC,QAA3B,EAAqB,QAArB,EAAAz8B,KAAK88B,SAASL,UAAO,eAAE0B,YAAI,QAAI,MAGnC,YAAAE,oBAAP,SAA2Bd,GACvB,IAAMG,EAAS19B,KAAKg9B,WAAWO,GAE/B,OAAe,OAAXG,EACO,GAGJA,EAAOP,MAAMtuB,KAAI,SAAC/M,GAAM,OAAAA,EAAE2oB,OAW9B,YAAA6T,gBAAP,SAAuBzB,EAAYU,EAAkBD,GACjD,IAAMI,EAAS19B,KAAKg9B,WAAWO,GAE/B,GAAe,OAAXG,EACA,OAAO,EAGX,GAAoB,OAAhBJ,EACA,OAAOt9B,KAAKu+B,mBAAmBb,EAAQb,EAAM,GAG7C,IAAMe,EAAY59B,KAAK29B,cAAcD,EAAQJ,GAE7C,OAAkB,OAAdM,GAIG59B,KAAKu+B,mBAAmBb,EAAQb,EAAMe,EAAY,IAY1D,YAAAY,SAAP,SAAgB/B,EAAgBE,EAAoBW,GAChD,IAAML,EAAaj9B,KAAKy9B,kBAAkBhB,GACpCM,EAAW/8B,KAAKg9B,WAAWL,GAC3BE,EAAO78B,KAAK88B,SAASL,GAE3B,GAAiB,OAAbM,GAAoC,OAAfE,GAAgC,OAATJ,EAC5C,OAAO,EAGX,IAAM4B,EAAiB1B,EAASoB,KAAK5vB,cAAc,UACnD,GAAuB,OAAnBkwB,EACA,OAAO,EAGX,IAAMC,EAAsBzB,EAAWE,MAAMn+B,QAAQ69B,GACrD,IAA6B,IAAzB6B,EACA,OAAO,EAGX,IAAIC,EAAuC,KAC3C,GAAoB,OAAhBrB,EAAsB,CACtB,IAAMsB,EAAY5+B,KAAK88B,SAASQ,GAEhC,GAAkB,OAAdsB,EACA,OAAO,EAGXD,EAAkBC,EAKtB,GAAI3B,EAAWxS,KAAOsS,EAAStS,GAAI,CAC/B,GAAwB,OAApBkU,GAA0D,OAA9B9B,EAAKsB,KAAKU,gBAEtC,OADA3yB,QAAQC,IAAI,sBACL,EAEN,GAAwB,OAApBwyB,GAA4B9B,EAAKsB,KAAKU,kBAAoBF,EAAgBR,KAE/E,OADAjyB,QAAQC,IAAI,sBACL,EAOf,GAHA0wB,EAAKsB,KAAKn4B,SACVi3B,EAAWE,MAAMn7B,OAAO08B,EAAqB,GAErB,OAApBC,EAA0B,CAC1B,IAAMnvB,EAAQutB,EAASI,MAAMn+B,QAAQ2/B,GACrCA,EAAgBR,KAAKnmB,MAAM6kB,EAAKsB,MAChCpB,EAASI,MAAMn7B,OAAOwN,EAAQ,EAAG,EAAGqtB,QAGpC4B,EAAeK,QAAQjC,EAAKsB,MAC5BpB,EAASI,MAAMn7B,OAAO,EAAG,EAAG66B,GAGhC,OAAO,GAUJ,YAAAkC,kBAAP,SAAyBtC,EAAgBuC,GACrC,IAAMnC,EAAO78B,KAAK88B,SAASL,GAE3B,GAAa,OAATI,EACA,OAAO,EAGX,KAAOA,EAAKsB,KAAK3K,YACbqJ,EAAKsB,KAAKznB,YAAYmmB,EAAKsB,KAAK3K,YAUpC,OAPIwL,aAAmBC,QACnBpC,EAAKsB,KAAKxmB,YAAYqnB,GAEE,iBAAZA,IACZnC,EAAKsB,KAAKe,UAAYF,IAGnB,GASJ,YAAAG,WAAP,SAAkB1C,GACd,IAAMI,EAAO78B,KAAK88B,SAASL,GACrBiB,EAAS19B,KAAKy9B,kBAAkBhB,GAEtC,GAAa,OAATI,GAA4B,OAAXa,EACjB,OAAO,EAGX,IAAME,EAAY59B,KAAK29B,cAAcD,EAAQjB,GAE7C,OAAkB,OAAdmB,IAIJf,EAAKsB,KAAKn4B,SACV03B,EAAOP,MAAMn7B,OAAO47B,EAAW,IAExB,IAUD,YAAAE,qBAAV,SAA+BJ,EAAgBO,GAC3C,GAAIA,EAAcj+B,KAAK+7B,eAAep/B,OAClC,OAAO,EAGX,IAAMyiC,EAAgBx7B,SAASqjB,cAAc,OAK7C,GAJAmY,EAAclD,UAAUn2B,IAAI,iBAC5Bq5B,EAAc1C,QAAQjS,GAAKiT,EAAOjT,QAGZlpB,IAAlBm8B,EAAO2B,OACsB,iBAAlB3B,EAAO2B,OACdD,EAAcznB,aAAY,IAAI2nB,WAAYC,gBAAgB7B,EAAO2B,OAAQ,cAGzED,EAAcznB,YAAY+lB,EAAO2B,aAGpC,GAA6B,iBAAlB3B,EAAO2B,OAAqB,CACxC,IAAMG,EAAe57B,SAASqjB,cAAc,OAC5CuY,EAAatD,UAAUn2B,IAAI,SAC3By5B,EAAaC,UAAY/B,EAAO2B,OAChCD,EAAcznB,YAAY6nB,GAI9B,IAAME,EAAgB97B,SAASqjB,cAAc,OAC7CyY,EAAcxD,UAAUn2B,IAAI,mBAC5Bq5B,EAAcznB,YAAY+nB,GAG1B,IAAMC,EAAe/7B,SAASqjB,cAAc,OAI5C,GAHA0Y,EAAazD,UAAUn2B,IAAI,SAC3B25B,EAAc/nB,YAAYgoB,GAEtB1B,EAAcj+B,KAAK+7B,eAAep/B,OAAQ,CAC1C,IAAMijC,EAAe5/B,KAAK+7B,eAAekC,GACzCj+B,KAAKi8B,MAAOjlB,aAAaooB,EAAeQ,EAAazB,WAGrDn+B,KAAKi8B,MAAOtkB,YAAYynB,GAG5B,IAAMS,EAAc,OACbnC,GAAM,CACTS,KAAMiB,EACNjC,MAAO,KAKX,GAHAn9B,KAAK+7B,eAAe/5B,OAAOi8B,EAAa,EAAG4B,QAGxBt+B,IAAfvB,KAAKwU,MAAqB,CAC1B,IAAM,EAAQxU,KAAKwU,MAEnB,EAAMT,WAAWrS,KAAKi+B,GAEtB,IAAW,CAACD,GAAgB,CACxB13B,OAAQ,GACRF,SAAU,GACVS,WAAY,WACR,OAAOvI,KAAKsI,MAAQ,EAAMwM,YAKtC,OAAO,GAWD,YAAAypB,mBAAV,SAA6Bb,EAAwBb,EAAYe,GAC7D,IAAMa,EAAiBf,EAAOS,KAAK5vB,cAAc,UAEjD,GAAuB,OAAnBkwB,GAA2Bb,EAAYF,EAAOP,MAAMxgC,OACpD,OAAO,EAIX,IAAMmjC,EAAcl8B,SAASqjB,cAAc,OAc3C,GAbA6Y,EAAY5D,UAAUn2B,IAAI,oBAEVxE,IAAZs7B,EAAKpS,KACLqV,EAAYpD,QAAQjS,GAAKoS,EAAKpS,IAG9BoS,EAAKmC,mBAAmBC,QACxBa,EAAYnoB,YAAYklB,EAAKmC,SAEA,iBAAjBnC,EAAKmC,UACjBc,EAAYZ,UAAYrC,EAAKmC,SAG7BpB,EAAYF,EAAOP,MAAMxgC,OAAQ,CACjC,IAAMojC,EAAarC,EAAOP,MAAMS,GAChCa,EAAeznB,aAAa8oB,EAAaC,EAAW5B,WAGpDM,EAAe9mB,YAAYmoB,GAG/B,IAAME,EAAY,OACXnD,GAAI,CACPsB,KAAM2B,IAKV,OAFApC,EAAOP,MAAMn7B,OAAO47B,EAAW,EAAGoC,IAE3B,GAmBJ,YAAAx+B,GAAP,SAAUoB,EAAe9F,GAGrB,OAFAkD,KAAKmQ,QAAQ3O,GAAGoB,EAAO9F,GAEhBkD,MAUJ,YAAA6B,IAAP,SAAWe,EAAmB9F,GAG1B,OAFAkD,KAAKmQ,QAAQtO,IAAIe,EAAO9F,GAEjBkD,MAEf,EAxfA,G,SCjCe,SAASyN,EAAsBzK,GAC5C,IAAIsH,EAAOtH,EAAQyK,wBACnB,MAAO,CACLH,MAAOhD,EAAKgD,MACZC,OAAQjD,EAAKiD,OACb5C,IAAKL,EAAKK,IACVF,MAAOH,EAAKG,MACZG,OAAQN,EAAKM,OACbJ,KAAMF,EAAKE,KACXtH,EAAGoH,EAAKE,KACRpH,EAAGkH,EAAKK,KCVG,SAASs1B,EAAU9B,GAChC,GAAY,MAARA,EACF,OAAOvhC,OAGT,GAAwB,oBAApBuhC,EAAK50B,WAAkC,CACzC,IAAI5F,EAAgBw6B,EAAKx6B,cACzB,OAAOA,GAAgBA,EAAcu8B,aAAwBtjC,OAG/D,OAAOuhC,ECTM,SAASgC,EAAgBhC,GACtC,IAAIiC,EAAMH,EAAU9B,GAGpB,MAAO,CACLn6B,WAHeo8B,EAAIp1B,YAInB9G,UAHck8B,EAAIn1B,aCFtB,SAAS4C,EAAUswB,GAEjB,OAAOA,aADU8B,EAAU9B,GAAMc,SACId,aAAgBc,QAGvD,SAASoB,EAAclC,GAErB,OAAOA,aADU8B,EAAU9B,GAAMnC,aACImC,aAAgBnC,YAGvD,SAASsE,EAAanC,GAEpB,MAA0B,oBAAfoC,aAKJpC,aADU8B,EAAU9B,GAAMoC,YACIpC,aAAgBoC,YCnBxC,SAASC,EAAYx9B,GAClC,OAAOA,GAAWA,EAAQy9B,UAAY,IAAI9lB,cAAgB,KCA7C,SAAS+lB,EAAmB19B,GAEzC,QAAS6K,EAAU7K,GAAWA,EAAQW,cACtCX,EAAQY,WAAahH,OAAOgH,UAAUE,gBCDzB,SAAS68B,EAAoB39B,GAQ1C,OAAOyK,EAAsBizB,EAAmB19B,IAAUwH,KAAO21B,EAAgBn9B,GAASgB,WCV7E,SAAS48B,EAAiB59B,GACvC,OAAOi9B,EAAUj9B,GAAS49B,iBAAiB59B,GCD9B,SAAS69B,EAAe79B,GAErC,IAAI89B,EAAoBF,EAAiB59B,GACrC+9B,EAAWD,EAAkBC,SAC7BC,EAAYF,EAAkBE,UAC9BC,EAAYH,EAAkBG,UAElC,MAAO,6BAA6Br6B,KAAKm6B,EAAWE,EAAYD,GCCnD,SAASE,EAAiBC,EAAyBC,EAAcC,QAC9D,IAAZA,IACFA,GAAU,GAGZ,ICVoClD,ECJOn7B,EFcvCc,EAAkB48B,EAAmBU,GACrC92B,EAAOmD,EAAsB0zB,GAC7BG,EAA0BjB,EAAce,GACxCG,EAAS,CACXv9B,WAAY,EACZE,UAAW,GAETs9B,EAAU,CACZt+B,EAAG,EACHE,EAAG,GAkBL,OAfIk+B,IAA4BA,IAA4BD,MACxB,SAA9Bb,EAAYY,IAChBP,EAAe/8B,MACby9B,GCzBgCpD,EDyBTiD,KCxBdnB,EAAU9B,IAAUkC,EAAclC,GCJxC,CACLn6B,YAFyChB,EDQbm7B,GCNRn6B,WACpBE,UAAWlB,EAAQkB,WDGZi8B,EAAgBhC,ID0BnBkC,EAAce,KAChBI,EAAU/zB,EAAsB2zB,IACxBl+B,GAAKk+B,EAAan9B,WAC1Bu9B,EAAQp+B,GAAKg+B,EAAaj9B,WACjBL,IACT09B,EAAQt+B,EAAIy9B,EAAoB78B,KAI7B,CACLZ,EAAGoH,EAAKE,KAAO+2B,EAAOv9B,WAAaw9B,EAAQt+B,EAC3CE,EAAGkH,EAAKK,IAAM42B,EAAOr9B,UAAYs9B,EAAQp+B,EACzCkK,MAAOhD,EAAKgD,MACZC,OAAQjD,EAAKiD,QG1CF,SAASk0B,EAAcz+B,GACpC,IAAI0+B,EAAaj0B,EAAsBzK,GAGnCsK,EAAQtK,EAAQ2+B,YAChBp0B,EAASvK,EAAQ4+B,aAUrB,OARIzkC,KAAK0B,IAAI6iC,EAAWp0B,MAAQA,IAAU,IACxCA,EAAQo0B,EAAWp0B,OAGjBnQ,KAAK0B,IAAI6iC,EAAWn0B,OAASA,IAAW,IAC1CA,EAASm0B,EAAWn0B,QAGf,CACLrK,EAAGF,EAAQ6+B,WACXz+B,EAAGJ,EAAQ8+B,UACXx0B,MAAOA,EACPC,OAAQA,GCnBG,SAASw0B,EAAc/+B,GACpC,MAA6B,SAAzBw9B,EAAYx9B,GACPA,EAMPA,EAAQg/B,cACRh/B,EAAQ+G,aACRu2B,EAAat9B,GAAWA,EAAQwP,KAAO,OAEvCkuB,EAAmB19B,GCXR,SAASi/B,EAAgB9D,GACtC,MAAI,CAAC,OAAQ,OAAQ,aAAan/B,QAAQwhC,EAAYrC,KAAU,EAEvDA,EAAKx6B,cAAcI,KAGxBs8B,EAAclC,IAAS0C,EAAe1C,GACjCA,EAGF8D,EAAgBF,EAAc5D,ICHxB,SAAS+D,EAAkBl/B,EAASsM,GACjD,IAAI6yB,OAES,IAAT7yB,IACFA,EAAO,IAGT,IAAI8yB,EAAeH,EAAgBj/B,GAC/Bq/B,EAASD,KAAqE,OAAlDD,EAAwBn/B,EAAQW,oBAAyB,EAASw+B,EAAsBp+B,MACpHq8B,EAAMH,EAAUmC,GAChBv/B,EAASw/B,EAAS,CAACjC,GAAKl3B,OAAOk3B,EAAIkC,gBAAkB,GAAIzB,EAAeuB,GAAgBA,EAAe,IAAMA,EAC7GG,EAAcjzB,EAAKpG,OAAOrG,GAC9B,OAAOw/B,EAASE,EAChBA,EAAYr5B,OAAOg5B,EAAkBH,EAAcl/B,KCvBtC,SAAS2/B,EAAex/B,GACrC,MAAO,CAAC,QAAS,KAAM,MAAMhE,QAAQwhC,EAAYx9B,KAAa,ECKhE,SAASy/B,EAAoBz/B,GAC3B,OAAKq9B,EAAcr9B,IACoB,UAAvC49B,EAAiB59B,GAAS0/B,SAInB1/B,EAAQo+B,aAHN,KAwCI,SAASuB,EAAgB3/B,GAItC,IAHA,IAAIpG,EAASqjC,EAAUj9B,GACnBo+B,EAAeqB,EAAoBz/B,GAEhCo+B,GAAgBoB,EAAepB,IAA6D,WAA5CR,EAAiBQ,GAAcsB,UACpFtB,EAAeqB,EAAoBrB,GAGrC,OAAIA,IAA+C,SAA9BZ,EAAYY,IAA0D,SAA9BZ,EAAYY,IAAwE,WAA5CR,EAAiBQ,GAAcsB,UAC3H9lC,EAGFwkC,GA5CT,SAA4Bp+B,GAC1B,IAAI4/B,GAAsE,IAA1DpyB,UAAUkU,UAAU/J,cAAc3b,QAAQ,WAG1D,IAFuD,IAA5CwR,UAAUkU,UAAU1lB,QAAQ,YAE3BqhC,EAAcr9B,IAII,UAFX49B,EAAiB59B,GAEnB0/B,SACb,OAAO,KAMX,IAFA,IAAIG,EAAcd,EAAc/+B,GAEzBq9B,EAAcwC,IAAgB,CAAC,OAAQ,QAAQ7jC,QAAQwhC,EAAYqC,IAAgB,GAAG,CAC3F,IAAIC,EAAMlC,EAAiBiC,GAI3B,GAAsB,SAAlBC,EAAIC,WAA4C,SAApBD,EAAIE,aAA0C,UAAhBF,EAAIG,UAAiF,IAA1D,CAAC,YAAa,eAAejkC,QAAQ8jC,EAAII,aAAsBN,GAAgC,WAAnBE,EAAII,YAA2BN,GAAaE,EAAIK,QAAyB,SAAfL,EAAIK,OACjO,OAAON,EAEPA,EAAcA,EAAY94B,WAI9B,OAAO,KAiBgBq5B,CAAmBpgC,IAAYpG,EC9DjD,IAAI,EAAM,MACNgO,EAAS,SACTH,EAAQ,QACRD,EAAO,OACP64B,EAAO,OACPC,EAAiB,CAAC,EAAK14B,EAAQH,EAAOD,GACtCiK,EAAQ,QACRE,EAAM,MAEN4uB,EAAW,WACXC,EAAS,SAETC,EAAmCH,EAAel0B,QAAO,SAAUs0B,EAAKC,GACjF,OAAOD,EAAIx6B,OAAO,CAACy6B,EAAY,IAAMlvB,EAAOkvB,EAAY,IAAMhvB,MAC7D,IACQ,EAA0B,GAAGzL,OAAOo6B,EAAgB,CAACD,IAAOj0B,QAAO,SAAUs0B,EAAKC,GAC3F,OAAOD,EAAIx6B,OAAO,CAACy6B,EAAWA,EAAY,IAAMlvB,EAAOkvB,EAAY,IAAMhvB,MACxE,IAaQivB,EAAiB,CAXJ,aACN,OACK,YAEC,aACN,OACK,YAEE,cACN,QACK,cC3BxB,SAASC,EAAMC,GACb,IAAIj1B,EAAM,IAAIk1B,IACVC,EAAU,IAAIC,IACd1kC,EAAS,GAKb,SAAS2kC,EAAKC,GACZH,EAAQj+B,IAAIo+B,EAASp3B,MACN,GAAG7D,OAAOi7B,EAASC,UAAY,GAAID,EAASE,kBAAoB,IACtEhiC,SAAQ,SAAUiiC,GACzB,IAAKN,EAAQtqB,IAAI4qB,GAAM,CACrB,IAAIC,EAAc11B,EAAIpF,IAAI66B,GAEtBC,GACFL,EAAKK,OAIXhlC,EAAOmC,KAAKyiC,GASd,OAzBAL,EAAUzhC,SAAQ,SAAU8hC,GAC1Bt1B,EAAI21B,IAAIL,EAASp3B,KAAMo3B,MAkBzBL,EAAUzhC,SAAQ,SAAU8hC,GACrBH,EAAQtqB,IAAIyqB,EAASp3B,OAExBm3B,EAAKC,MAGF5kC,ECjBT,IAEIklC,EAAkB,CACpBd,UAAW,SACXG,UAAW,GACXY,SAAU,YAGZ,SAASC,IACP,IAAK,IAAIpL,EAAOr5B,UAAUvD,OAAQmE,EAAO,IAAIlD,MAAM27B,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/E14B,EAAK04B,GAAQt5B,UAAUs5B,GAGzB,OAAQ14B,EAAK8jC,MAAK,SAAU5hC,GAC1B,QAASA,GAAoD,mBAAlCA,EAAQyK,0BAIhC,SAASo3B,EAAgBC,QACL,IAArBA,IACFA,EAAmB,IAGrB,IAAIC,EAAoBD,EACpBE,EAAwBD,EAAkBE,iBAC1CA,OAA6C,IAA1BD,EAAmC,GAAKA,EAC3DE,EAAyBH,EAAkBI,eAC3CA,OAA4C,IAA3BD,EAAoCT,EAAkBS,EAC3E,OAAO,SAAsB3tB,EAAWisB,EAAQpiC,QAC9B,IAAZA,IACFA,EAAU+jC,GAGZ,IC/C6B/mC,EAC3BgnC,ED8CE9zB,EAAQ,CACVqyB,UAAW,SACX0B,iBAAkB,GAClBjkC,QAAShB,OAAOy6B,OAAO,GAAI4J,EAAiBU,GAC5CG,cAAe,GACf19B,SAAU,CACR2P,UAAWA,EACXisB,OAAQA,GAEV+B,WAAY,GACZC,OAAQ,IAENC,EAAmB,GACnBC,GAAc,EACdxR,EAAW,CACb5iB,MAAOA,EACPq0B,WAAY,SAAoBvkC,GAC9BwkC,IACAt0B,EAAMlQ,QAAUhB,OAAOy6B,OAAO,GAAIsK,EAAgB7zB,EAAMlQ,QAASA,GACjEkQ,EAAMu0B,cAAgB,CACpBtuB,UAAW1J,EAAU0J,GAAa2qB,EAAkB3qB,GAAaA,EAAUuuB,eAAiB5D,EAAkB3qB,EAAUuuB,gBAAkB,GAC1ItC,OAAQtB,EAAkBsB,IAI5B,IAAI6B,EDtCG,SAAwBvB,GAErC,IAAIuB,EAAmBxB,EAAMC,GAE7B,OAAOF,EAAex0B,QAAO,SAAUs0B,EAAKqC,GAC1C,OAAOrC,EAAIx6B,OAAOm8B,EAAiBlC,QAAO,SAAUgB,GAClD,OAAOA,EAAS4B,QAAUA,QAE3B,IC8B0BC,CExEhB,SAAqBlC,GAClC,IAAImC,EAASnC,EAAU10B,QAAO,SAAU62B,EAAQt8B,GAC9C,IAAIu8B,EAAWD,EAAOt8B,EAAQoD,MAK9B,OAJAk5B,EAAOt8B,EAAQoD,MAAQm5B,EAAW9lC,OAAOy6B,OAAO,GAAIqL,EAAUv8B,EAAS,CACrEvI,QAAShB,OAAOy6B,OAAO,GAAIqL,EAAS9kC,QAASuI,EAAQvI,SACrD6K,KAAM7L,OAAOy6B,OAAO,GAAIqL,EAASj6B,KAAMtC,EAAQsC,QAC5CtC,EACEs8B,IACN,IAEH,OAAO7lC,OAAO8e,KAAK+mB,GAAQp3B,KAAI,SAAUkO,GACvC,OAAOkpB,EAAOlpB,MF6D4BopB,CAAY,GAAGj9B,OAAO+7B,EAAkB3zB,EAAMlQ,QAAQ0iC,aAyC5F,OAvCAxyB,EAAM+zB,iBAAmBA,EAAiBlC,QAAO,SAAUhX,GACzD,OAAOA,EAAEia,WAqJb90B,EAAM+zB,iBAAiBhjC,SAAQ,SAAUgkC,GACvC,IAAIt5B,EAAOs5B,EAAMt5B,KACbu5B,EAAgBD,EAAMjlC,QACtBA,OAA4B,IAAlBklC,EAA2B,GAAKA,EAC1CC,EAASF,EAAME,OAEnB,GAAsB,mBAAXA,EAAuB,CAChC,IAAIC,EAAYD,EAAO,CACrBj1B,MAAOA,EACPvE,KAAMA,EACNmnB,SAAUA,EACV9yB,QAASA,IAGPqlC,EAAS,aAEbhB,EAAiB/jC,KAAK8kC,GAAaC,OA/H9BvS,EAASwS,UAOlBC,YAAa,WACX,IAAIjB,EAAJ,CAIA,IAAIkB,EAAkBt1B,EAAM1J,SACxB2P,EAAYqvB,EAAgBrvB,UAC5BisB,EAASoD,EAAgBpD,OAG7B,GAAKmB,EAAiBptB,EAAWisB,GAAjC,CASAlyB,EAAMu1B,MAAQ,CACZtvB,UAAW2pB,EAAiB3pB,EAAWorB,EAAgBa,GAAoC,UAA3BlyB,EAAMlQ,QAAQsjC,UAC9ElB,OAAQ/B,EAAc+B,IAOxBlyB,EAAMw1B,OAAQ,EACdx1B,EAAMqyB,UAAYryB,EAAMlQ,QAAQuiC,UAKhCryB,EAAM+zB,iBAAiBhjC,SAAQ,SAAU8hC,GACvC,OAAO7yB,EAAMg0B,cAAcnB,EAASp3B,MAAQ3M,OAAOy6B,OAAO,GAAIsJ,EAASl4B,SAIzE,IAFA,IAESuD,EAAQ,EAAGA,EAAQ8B,EAAM+zB,iBAAiB1oC,OAAQ6S,IAUzD,IAAoB,IAAhB8B,EAAMw1B,MAAV,CAMA,IAAIC,EAAwBz1B,EAAM+zB,iBAAiB71B,GAC/CpR,EAAK2oC,EAAsB3oC,GAC3B4oC,EAAyBD,EAAsB3lC,QAC/C6lC,OAAsC,IAA3BD,EAAoC,GAAKA,EACpDj6B,EAAOg6B,EAAsBh6B,KAEf,mBAAP3O,IACTkT,EAAQlT,EAAG,CACTkT,MAAOA,EACPlQ,QAAS6lC,EACTl6B,KAAMA,EACNmnB,SAAUA,KACN5iB,QAjBNA,EAAMw1B,OAAQ,EACdt3B,GAAS,KAsBfk3B,QCjM2BtoC,EDiMV,WACf,OAAO,IAAI+8B,SAAQ,SAAUtjB,GAC3Bqc,EAASyS,cACT9uB,EAAQvG,OClMT,WAUL,OATK8zB,IACHA,EAAU,IAAIjK,SAAQ,SAAUtjB,GAC9BsjB,QAAQtjB,UAAUqD,MAAK,WACrBkqB,OAAU7jC,EACVsW,EAAQzZ,YAKPgnC,ID2LL38B,QAAS,WACPm9B,IACAF,GAAc,IAIlB,IAAKf,EAAiBptB,EAAWisB,GAK/B,OAAOtP,EAmCT,SAAS0R,IACPH,EAAiBpjC,SAAQ,SAAUjE,GACjC,OAAOA,OAETqnC,EAAmB,GAGrB,OAvCAvR,EAASyR,WAAWvkC,GAAS8Z,MAAK,SAAU5J,IACrCo0B,GAAetkC,EAAQ8lC,eAC1B9lC,EAAQ8lC,cAAc51B,MAqCnB4iB,GAGJ,IG7PHiT,EAAU,CACZA,SAAS,GAsCX,SACEp6B,KAAM,iBACNq5B,SAAS,EACTL,MAAO,QACP3nC,GAAI,aACJmoC,OAxCF,SAAgBa,GACd,IAAI91B,EAAQ81B,EAAK91B,MACb4iB,EAAWkT,EAAKlT,SAChB9yB,EAAUgmC,EAAKhmC,QACfimC,EAAkBjmC,EAAQmgC,OAC1BA,OAA6B,IAApB8F,GAAoCA,EAC7CC,EAAkBlmC,EAAQmmC,OAC1BA,OAA6B,IAApBD,GAAoCA,EAC7C1qC,EAASqjC,EAAU3uB,EAAM1J,SAAS47B,QAClCqC,EAAgB,GAAG38B,OAAOoI,EAAMu0B,cAActuB,UAAWjG,EAAMu0B,cAAcrC,QAYjF,OAVIjC,GACFsE,EAAcxjC,SAAQ,SAAU+/B,GAC9BA,EAAa19B,iBAAiB,SAAUwvB,EAASwS,OAAQS,MAIzDI,GACF3qC,EAAO8H,iBAAiB,SAAUwvB,EAASwS,OAAQS,GAG9C,WACD5F,GACFsE,EAAcxjC,SAAQ,SAAU+/B,GAC9BA,EAAax9B,oBAAoB,SAAUsvB,EAASwS,OAAQS,MAI5DI,GACF3qC,EAAOgI,oBAAoB,SAAUsvB,EAASwS,OAAQS,KAY1Dl7B,KAAM,IC9CO,SAASu7B,EAAiB7D,GACvC,OAAOA,EAAUlrB,MAAM,KAAK,GCFf,SAASgvB,EAAa9D,GACnC,OAAOA,EAAUlrB,MAAM,KAAK,GCDf,SAASivB,EAAyB/D,GAC/C,MAAO,CAAC,MAAO,UAAU3kC,QAAQ2kC,IAAc,EAAI,IAAM,ICG5C,SAASgE,EAAeP,GACrC,IAOI5F,EAPAjqB,EAAY6vB,EAAK7vB,UACjBvU,EAAUokC,EAAKpkC,QACf2gC,EAAYyD,EAAKzD,UACjBiE,EAAgBjE,EAAY6D,EAAiB7D,GAAa,KAC1DkE,EAAYlE,EAAY8D,EAAa9D,GAAa,KAClDmE,EAAUvwB,EAAUrU,EAAIqU,EAAUjK,MAAQ,EAAItK,EAAQsK,MAAQ,EAC9Dy6B,EAAUxwB,EAAUnU,EAAImU,EAAUhK,OAAS,EAAIvK,EAAQuK,OAAS,EAGpE,OAAQq6B,GACN,KAAK,EACHpG,EAAU,CACRt+B,EAAG4kC,EACH1kC,EAAGmU,EAAUnU,EAAIJ,EAAQuK,QAE3B,MAEF,KAAK3C,EACH42B,EAAU,CACRt+B,EAAG4kC,EACH1kC,EAAGmU,EAAUnU,EAAImU,EAAUhK,QAE7B,MAEF,KAAK9C,EACH+2B,EAAU,CACRt+B,EAAGqU,EAAUrU,EAAIqU,EAAUjK,MAC3BlK,EAAG2kC,GAEL,MAEF,KAAKv9B,EACHg3B,EAAU,CACRt+B,EAAGqU,EAAUrU,EAAIF,EAAQsK,MACzBlK,EAAG2kC,GAEL,MAEF,QACEvG,EAAU,CACRt+B,EAAGqU,EAAUrU,EACbE,EAAGmU,EAAUnU,GAInB,IAAI4kC,EAAWJ,EAAgBF,EAAyBE,GAAiB,KAEzE,GAAgB,MAAZI,EAAkB,CACpB,IAAIzpC,EAAmB,MAAbypC,EAAmB,SAAW,QAExC,OAAQH,GACN,KAAKpzB,EACH+sB,EAAQwG,GAAYxG,EAAQwG,IAAazwB,EAAUhZ,GAAO,EAAIyE,EAAQzE,GAAO,GAC7E,MAEF,KAAKoW,EACH6sB,EAAQwG,GAAYxG,EAAQwG,IAAazwB,EAAUhZ,GAAO,EAAIyE,EAAQzE,GAAO,IAOnF,OAAOijC,EClDT,UACEz0B,KAAM,gBACNq5B,SAAS,EACTL,MAAO,OACP3nC,GApBF,SAAuBgpC,GACrB,IAAI91B,EAAQ81B,EAAK91B,MACbvE,EAAOq6B,EAAKr6B,KAKhBuE,EAAMg0B,cAAcv4B,GAAQ46B,EAAe,CACzCpwB,UAAWjG,EAAMu1B,MAAMtvB,UACvBvU,QAASsO,EAAMu1B,MAAMrD,OACrBkB,SAAU,WACVf,UAAWryB,EAAMqyB,aAUnB13B,KAAM,ICvBD,IAAI,GAAM9O,KAAKC,IACX,GAAMD,KAAK4B,IACXkpC,GAAQ9qC,KAAK8qC,MCMpBC,GAAa,CACfv9B,IAAK,OACLF,MAAO,OACPG,OAAQ,OACRJ,KAAM,QAgBD,SAAS29B,GAAYC,GAC1B,IAAIC,EAEA7E,EAAS4E,EAAM5E,OACf8E,EAAaF,EAAME,WACnB3E,EAAYyE,EAAMzE,UAClBnC,EAAU4G,EAAM5G,QAChBkB,EAAW0F,EAAM1F,SACjB6F,EAAkBH,EAAMG,gBACxBC,EAAWJ,EAAMI,SACjBC,EAAeL,EAAMK,aAErBpC,GAAyB,IAAjBoC,EAvBd,SAA2BrB,GACzB,IAAIlkC,EAAIkkC,EAAKlkC,EACTE,EAAIgkC,EAAKhkC,EAETslC,EADM9rC,OACI+rC,kBAAoB,EAClC,MAAO,CACLzlC,EAAG+kC,GAAMA,GAAM/kC,EAAIwlC,GAAOA,IAAQ,EAClCtlC,EAAG6kC,GAAMA,GAAM7kC,EAAIslC,GAAOA,IAAQ,GAgBAE,CAAkBpH,GAAmC,mBAAjBiH,EAA8BA,EAAajH,GAAWA,EAC1HqH,EAAUxC,EAAMnjC,EAChBA,OAAgB,IAAZ2lC,EAAqB,EAAIA,EAC7BC,EAAUzC,EAAMjjC,EAChBA,OAAgB,IAAZ0lC,EAAqB,EAAIA,EAE7BC,EAAOvH,EAAQxM,eAAe,KAC9BgU,EAAOxH,EAAQxM,eAAe,KAC9BiU,EAAQz+B,EACR0+B,EAAQ,EACR9I,EAAMxjC,OAEV,GAAI4rC,EAAU,CACZ,IAAIpH,EAAeuB,EAAgBa,GAC/B2F,EAAa,eACbC,EAAY,cAEZhI,IAAiBnB,EAAUuD,IAGmB,WAA5C5C,EAFJQ,EAAeV,EAAmB8C,IAECd,WACjCyG,EAAa,eACbC,EAAY,eAKhBhI,EAAeA,EAEXuC,IAAc,IAChBuF,EAAQt+B,EAERxH,GAAKg+B,EAAa+H,GAAcb,EAAW/6B,OAC3CnK,GAAKmlC,EAAkB,GAAK,GAG1B5E,IAAcn5B,IAChBy+B,EAAQx+B,EAERvH,GAAKk+B,EAAagI,GAAad,EAAWh7B,MAC1CpK,GAAKqlC,EAAkB,GAAK,GAIhC,IAKMc,EALFC,EAAelpC,OAAOy6B,OAAO,CAC/B6H,SAAUA,GACT8F,GAAYN,IAEf,OAAIK,EAGKnoC,OAAOy6B,OAAO,GAAIyO,IAAeD,EAAiB,IAAmBH,GAASF,EAAO,IAAM,GAAIK,EAAeJ,GAASF,EAAO,IAAM,GAAIM,EAAetG,WAAa3C,EAAIuI,kBAAoB,GAAK,EAAI,aAAezlC,EAAI,OAASE,EAAI,MAAQ,eAAiBF,EAAI,OAASE,EAAI,SAAUimC,IAG3RjpC,OAAOy6B,OAAO,GAAIyO,IAAejB,EAAkB,IAAoBa,GAASF,EAAO5lC,EAAI,KAAO,GAAIilC,EAAgBY,GAASF,EAAO7lC,EAAI,KAAO,GAAImlC,EAAgBtF,UAAY,GAAIsF,IClB9L,UACEt7B,KAAM,cACNq5B,SAAS,EACTL,MAAO,QACP3nC,GA5EF,SAAqBgpC,GACnB,IAAI91B,EAAQ81B,EAAK91B,MACjBlR,OAAO8e,KAAK5N,EAAM1J,UAAUvF,SAAQ,SAAU0K,GAC5C,IAAIqB,EAAQkD,EAAMk0B,OAAOz4B,IAAS,GAC9Bw4B,EAAaj0B,EAAMi0B,WAAWx4B,IAAS,GACvC/J,EAAUsO,EAAM1J,SAASmF,GAExBszB,EAAcr9B,IAAaw9B,EAAYx9B,KAO5C5C,OAAOy6B,OAAO73B,EAAQoL,MAAOA,GAC7BhO,OAAO8e,KAAKqmB,GAAYljC,SAAQ,SAAU0K,GACxC,IAAIzO,EAAQinC,EAAWx4B,IAET,IAAVzO,EACF0E,EAAQumC,gBAAgBx8B,GAExB/J,EAAQ4vB,aAAa7lB,GAAgB,IAAVzO,EAAiB,GAAKA,WAwDvDioC,OAlDF,SAAgB6B,GACd,IAAI92B,EAAQ82B,EAAM92B,MACdk4B,EAAgB,CAClBhG,OAAQ,CACNd,SAAUpxB,EAAMlQ,QAAQsjC,SACxBl6B,KAAM,IACNG,IAAK,IACL3C,OAAQ,KAEVyhC,MAAO,CACL/G,SAAU,YAEZnrB,UAAW,IASb,OAPAnX,OAAOy6B,OAAOvpB,EAAM1J,SAAS47B,OAAOp1B,MAAOo7B,EAAchG,QACzDlyB,EAAMk0B,OAASgE,EAEXl4B,EAAM1J,SAAS6hC,OACjBrpC,OAAOy6B,OAAOvpB,EAAM1J,SAAS6hC,MAAMr7B,MAAOo7B,EAAcC,OAGnD,WACLrpC,OAAO8e,KAAK5N,EAAM1J,UAAUvF,SAAQ,SAAU0K,GAC5C,IAAI/J,EAAUsO,EAAM1J,SAASmF,GACzBw4B,EAAaj0B,EAAMi0B,WAAWx4B,IAAS,GAGvCqB,EAFkBhO,OAAO8e,KAAK5N,EAAMk0B,OAAOxQ,eAAejoB,GAAQuE,EAAMk0B,OAAOz4B,GAAQy8B,EAAcz8B,IAE7EqC,QAAO,SAAUhB,EAAOs7B,GAElD,OADAt7B,EAAMs7B,GAAY,GACXt7B,IACN,IAEEiyB,EAAcr9B,IAAaw9B,EAAYx9B,KAI5C5C,OAAOy6B,OAAO73B,EAAQoL,MAAOA,GAC7BhO,OAAO8e,KAAKqmB,GAAYljC,SAAQ,SAAUsnC,GACxC3mC,EAAQumC,gBAAgBI,YAa9BvF,SAAU,CAAC,kBClFb,IAAIwF,GAAO,CACTp/B,KAAM,QACNC,MAAO,OACPG,OAAQ,MACRD,IAAK,UAEQ,SAASk/B,GAAqBlG,GAC3C,OAAOA,EAAU1zB,QAAQ,0BAA0B,SAAU65B,GAC3D,OAAOF,GAAKE,MCRhB,IAAI,GAAO,CACTr1B,MAAO,MACPE,IAAK,SAEQ,SAASo1B,GAA8BpG,GACpD,OAAOA,EAAU1zB,QAAQ,cAAc,SAAU65B,GAC/C,OAAO,GAAKA,MCLD,SAASE,GAASvzB,EAAQwzB,GACvC,IAAIC,EAAWD,EAAME,aAAeF,EAAME,cAE1C,GAAI1zB,EAAOuzB,SAASC,GAClB,OAAO,EAEJ,GAAIC,GAAY5J,EAAa4J,GAAW,CACzC,IAAI1qC,EAAOyqC,EAEX,EAAG,CACD,GAAIzqC,GAAQiX,EAAO2zB,WAAW5qC,GAC5B,OAAO,EAITA,EAAOA,EAAKuK,YAAcvK,EAAKgT,WACxBhT,GAIb,OAAO,ECrBM,SAAS6qC,GAAiB//B,GACvC,OAAOlK,OAAOy6B,OAAO,GAAIvwB,EAAM,CAC7BE,KAAMF,EAAKpH,EACXyH,IAAKL,EAAKlH,EACVqH,MAAOH,EAAKpH,EAAIoH,EAAKgD,MACrB1C,OAAQN,EAAKlH,EAAIkH,EAAKiD,SCuB1B,SAAS+8B,GAA2BtnC,EAASunC,GAC3C,OAAOA,IAAmBhH,EAAW8G,GC1BxB,SAAyBrnC,GACtC,IAAIo9B,EAAMH,EAAUj9B,GAChBwnC,EAAO9J,EAAmB19B,GAC1Bs/B,EAAiBlC,EAAIkC,eACrBh1B,EAAQk9B,EAAKC,YACbl9B,EAASi9B,EAAKp5B,aACdlO,EAAI,EACJE,EAAI,EAuBR,OAjBIk/B,IACFh1B,EAAQg1B,EAAeh1B,MACvBC,EAAS+0B,EAAe/0B,OASnB,iCAAiC3G,KAAK4J,UAAUkU,aACnDxhB,EAAIo/B,EAAeT,WACnBz+B,EAAIk/B,EAAeR,YAIhB,CACLx0B,MAAOA,EACPC,OAAQA,EACRrK,EAAGA,EAAIy9B,EAAoB39B,GAC3BI,EAAGA,GDRiDsnC,CAAgB1nC,IAAYq9B,EAAckK,GAdlG,SAAoCvnC,GAClC,IAAIsH,EAAOmD,EAAsBzK,GASjC,OARAsH,EAAKK,IAAML,EAAKK,IAAM3H,EAAQmB,UAC9BmG,EAAKE,KAAOF,EAAKE,KAAOxH,EAAQiB,WAChCqG,EAAKM,OAASN,EAAKK,IAAM3H,EAAQoO,aACjC9G,EAAKG,MAAQH,EAAKE,KAAOxH,EAAQynC,YACjCngC,EAAKgD,MAAQtK,EAAQynC,YACrBngC,EAAKiD,OAASvK,EAAQoO,aACtB9G,EAAKpH,EAAIoH,EAAKE,KACdF,EAAKlH,EAAIkH,EAAKK,IACPL,EAI2GqgC,CAA2BJ,GAAkBF,GEtBlJ,SAAyBrnC,GACtC,IAAIm/B,EAEAqI,EAAO9J,EAAmB19B,GAC1B4nC,EAAYzK,EAAgBn9B,GAC5Be,EAA0D,OAAlDo+B,EAAwBn/B,EAAQW,oBAAyB,EAASw+B,EAAsBp+B,KAChGuJ,EAAQ,GAAIk9B,EAAKK,YAAaL,EAAKC,YAAa1mC,EAAOA,EAAK8mC,YAAc,EAAG9mC,EAAOA,EAAK0mC,YAAc,GACvGl9B,EAAS,GAAIi9B,EAAKM,aAAcN,EAAKp5B,aAAcrN,EAAOA,EAAK+mC,aAAe,EAAG/mC,EAAOA,EAAKqN,aAAe,GAC5GlO,GAAK0nC,EAAU5mC,WAAa28B,EAAoB39B,GAChDI,GAAKwnC,EAAU1mC,UAMnB,MAJiD,QAA7C08B,EAAiB78B,GAAQymC,GAAMn2B,YACjCnR,GAAK,GAAIsnC,EAAKC,YAAa1mC,EAAOA,EAAK0mC,YAAc,GAAKn9B,GAGrD,CACLA,MAAOA,EACPC,OAAQA,EACRrK,EAAGA,EACHE,EAAGA,GFG2K2nC,CAAgBrK,EAAmB19B,KAuBtM,SAASgoC,GAAgBhoC,EAASioC,EAAUC,GACzD,IAAIC,EAAmC,oBAAbF,EAlB5B,SAA4BjoC,GAC1B,IAAIooC,EAAkBlJ,EAAkBH,EAAc/+B,IAElDqoC,EADoB,CAAC,WAAY,SAASrsC,QAAQ4hC,EAAiB59B,GAAS0/B,WAAa,GACnDrC,EAAcr9B,GAAW2/B,EAAgB3/B,GAAWA,EAE9F,OAAK6K,EAAUw9B,GAKRD,EAAgBjI,QAAO,SAAUoH,GACtC,OAAO18B,EAAU08B,IAAmBP,GAASO,EAAgBc,IAAmD,SAAhC7K,EAAY+J,MALrF,GAYkDe,CAAmBtoC,GAAW,GAAGkG,OAAO+hC,GAC/FG,EAAkB,GAAGliC,OAAOiiC,EAAqB,CAACD,IAClDK,EAAsBH,EAAgB,GACtCI,EAAeJ,EAAgBh8B,QAAO,SAAUq8B,EAASlB,GAC3D,IAAIjgC,EAAOggC,GAA2BtnC,EAASunC,GAK/C,OAJAkB,EAAQ9gC,IAAM,GAAIL,EAAKK,IAAK8gC,EAAQ9gC,KACpC8gC,EAAQhhC,MAAQ,GAAIH,EAAKG,MAAOghC,EAAQhhC,OACxCghC,EAAQ7gC,OAAS,GAAIN,EAAKM,OAAQ6gC,EAAQ7gC,QAC1C6gC,EAAQjhC,KAAO,GAAIF,EAAKE,KAAMihC,EAAQjhC,MAC/BihC,IACNnB,GAA2BtnC,EAASuoC,IAKvC,OAJAC,EAAal+B,MAAQk+B,EAAa/gC,MAAQ+gC,EAAahhC,KACvDghC,EAAaj+B,OAASi+B,EAAa5gC,OAAS4gC,EAAa7gC,IACzD6gC,EAAatoC,EAAIsoC,EAAahhC,KAC9BghC,EAAapoC,EAAIooC,EAAa7gC,IACvB6gC,EGnEM,SAASE,GAAmBC,GACzC,OAAOvrC,OAAOy6B,OAAO,GCDd,CACLlwB,IAAK,EACLF,MAAO,EACPG,OAAQ,EACRJ,KAAM,GDHuCmhC,GEFlC,SAASC,GAAgBttC,EAAO4gB,GAC7C,OAAOA,EAAK9P,QAAO,SAAUy8B,EAAS9uB,GAEpC,OADA8uB,EAAQ9uB,GAAOze,EACRutC,IACN,ICMU,SAASC,GAAex6B,EAAOlQ,QAC5B,IAAZA,IACFA,EAAU,IAGZ,IAAI6lC,EAAW7lC,EACX2qC,EAAqB9E,EAAStD,UAC9BA,OAAmC,IAAvBoI,EAAgCz6B,EAAMqyB,UAAYoI,EAC9DC,EAAoB/E,EAASgE,SAC7BA,OAAiC,IAAtBe,ExBXY,kBwBWqCA,EAC5DC,EAAwBhF,EAASiE,aACjCA,OAAyC,IAA1Be,EAAmC1I,EAAW0I,EAC7DC,EAAwBjF,EAASkF,eACjCA,OAA2C,IAA1BD,EAAmC1I,EAAS0I,EAC7DE,EAAuBnF,EAASoF,YAChCA,OAAuC,IAAzBD,GAA0CA,EACxDE,EAAmBrF,EAASsF,QAC5BA,OAA+B,IAArBD,EAA8B,EAAIA,EAC5CX,EAAgBD,GAAsC,iBAAZa,EAAuBA,EAAUX,GAAgBW,EAASjJ,IACpGkJ,EAAaL,IAAmB3I,ExBlBf,YwBkBoCA,EACrDiJ,EAAmBn7B,EAAM1J,SAAS2P,UAClC+wB,EAAah3B,EAAMu1B,MAAMrD,OACzBxgC,EAAUsO,EAAM1J,SAASykC,EAAcG,EAAaL,GACpDO,EAAqB1B,GAAgBn9B,EAAU7K,GAAWA,EAAUA,EAAQ8iC,gBAAkBpF,EAAmBpvB,EAAM1J,SAAS47B,QAASyH,EAAUC,GACnJyB,EAAsBl/B,EAAsBg/B,GAC5CG,EAAgBjF,EAAe,CACjCpwB,UAAWo1B,EACX3pC,QAASslC,EACT5D,SAAU,WACVf,UAAWA,IAETkJ,EAAmBxC,GAAiBjqC,OAAOy6B,OAAO,GAAIyN,EAAYsE,IAClEE,EAAoBX,IAAmB3I,EAASqJ,EAAmBF,EAGnEI,EAAkB,CACpBpiC,IAAK+hC,EAAmB/hC,IAAMmiC,EAAkBniC,IAAMghC,EAAchhC,IACpEC,OAAQkiC,EAAkBliC,OAAS8hC,EAAmB9hC,OAAS+gC,EAAc/gC,OAC7EJ,KAAMkiC,EAAmBliC,KAAOsiC,EAAkBtiC,KAAOmhC,EAAcnhC,KACvEC,MAAOqiC,EAAkBriC,MAAQiiC,EAAmBjiC,MAAQkhC,EAAclhC,OAExEuiC,EAAa17B,EAAMg0B,cAAcxvB,OAErC,GAAIq2B,IAAmB3I,GAAUwJ,EAAY,CAC3C,IAAIl3B,EAASk3B,EAAWrJ,GACxBvjC,OAAO8e,KAAK6tB,GAAiB1qC,SAAQ,SAAU0a,GAC7C,IAAIkwB,EAAW,CAACxiC,EAAOG,GAAQ5L,QAAQ+d,IAAQ,EAAI,GAAK,EACpDmwB,EAAO,CAAC,EAAKtiC,GAAQ5L,QAAQ+d,IAAQ,EAAI,IAAM,IACnDgwB,EAAgBhwB,IAAQjH,EAAOo3B,GAAQD,KAI3C,OAAOF,EC7DM,SAASI,GAAOpuC,EAAKT,EAAOlB,GACzC,OAAO,GAAQ2B,EAAK,GAAQT,EAAOlB,ICCrC,SAASgwC,GAAerM,EAAUz2B,EAAM+iC,GAQtC,YAPyB,IAArBA,IACFA,EAAmB,CACjBnqC,EAAG,EACHE,EAAG,IAIA,CACLuH,IAAKo2B,EAASp2B,IAAML,EAAKiD,OAAS8/B,EAAiBjqC,EACnDqH,MAAOs2B,EAASt2B,MAAQH,EAAKgD,MAAQ+/B,EAAiBnqC,EACtD0H,OAAQm2B,EAASn2B,OAASN,EAAKiD,OAAS8/B,EAAiBjqC,EACzDoH,KAAMu2B,EAASv2B,KAAOF,EAAKgD,MAAQ+/B,EAAiBnqC,GAIxD,SAASoqC,GAAsBvM,GAC7B,MAAO,CAAC,EAAKt2B,EAAOG,EAAQJ,GAAMo6B,MAAK,SAAU2I,GAC/C,OAAOxM,EAASwM,IAAS,KCX7B,IACI,GAA4B1I,EAAgB,CAC9CI,iBAFqB,CAACuI,EAAgB,Gf0IxC,CACEzgC,KAAM,gBACNq5B,SAAS,EACTL,MAAO,cACP3nC,GAvDF,SAAuBqvC,GACrB,IAAIn8B,EAAQm8B,EAAMn8B,MACdlQ,EAAUqsC,EAAMrsC,QAChBssC,EAAwBtsC,EAAQmnC,gBAChCA,OAA4C,IAA1BmF,GAA0CA,EAC5DC,EAAoBvsC,EAAQonC,SAC5BA,OAAiC,IAAtBmF,GAAsCA,EACjDC,EAAwBxsC,EAAQqnC,aAChCA,OAAyC,IAA1BmF,GAA0CA,EAYzDtE,EAAe,CACjB3F,UAAW6D,EAAiBl2B,EAAMqyB,WAClCH,OAAQlyB,EAAM1J,SAAS47B,OACvB8E,WAAYh3B,EAAMu1B,MAAMrD,OACxB+E,gBAAiBA,GAGsB,MAArCj3B,EAAMg0B,cAAcsH,gBACtBt7B,EAAMk0B,OAAOhC,OAASpjC,OAAOy6B,OAAO,GAAIvpB,EAAMk0B,OAAOhC,OAAQ2E,GAAY/nC,OAAOy6B,OAAO,GAAIyO,EAAc,CACvG9H,QAASlwB,EAAMg0B,cAAcsH,cAC7BlK,SAAUpxB,EAAMlQ,QAAQsjC,SACxB8D,SAAUA,EACVC,aAAcA,OAIe,MAA7Bn3B,EAAMg0B,cAAcmE,QACtBn4B,EAAMk0B,OAAOiE,MAAQrpC,OAAOy6B,OAAO,GAAIvpB,EAAMk0B,OAAOiE,MAAOtB,GAAY/nC,OAAOy6B,OAAO,GAAIyO,EAAc,CACrG9H,QAASlwB,EAAMg0B,cAAcmE,MAC7B/G,SAAU,WACV8F,UAAU,EACVC,aAAcA,OAIlBn3B,EAAMi0B,WAAW/B,OAASpjC,OAAOy6B,OAAO,GAAIvpB,EAAMi0B,WAAW/B,OAAQ,CACnE,wBAAyBlyB,EAAMqyB,aAUjC13B,KAAM,Ie/I8D,GCoCtE,CACEc,KAAM,SACNq5B,SAAS,EACTL,MAAO,OACP3B,SAAU,CAAC,iBACXhmC,GA5BF,SAAgBgqC,GACd,IAAI92B,EAAQ82B,EAAM92B,MACdlQ,EAAUgnC,EAAMhnC,QAChB2L,EAAOq7B,EAAMr7B,KACb8gC,EAAkBzsC,EAAQ0U,OAC1BA,OAA6B,IAApB+3B,EAA6B,CAAC,EAAG,GAAKA,EAC/C5hC,EAAO,UAAkB,SAAUy3B,EAAKC,GAE1C,OADAD,EAAIC,GA5BD,SAAiCA,EAAWkD,EAAO/wB,GACxD,IAAI8xB,EAAgBJ,EAAiB7D,GACjCmK,EAAiB,CAACtjC,EAAM,GAAKxL,QAAQ4oC,IAAkB,GAAK,EAAI,EAEhER,EAAyB,mBAAXtxB,EAAwBA,EAAO1V,OAAOy6B,OAAO,GAAIgM,EAAO,CACxElD,UAAWA,KACP7tB,EACFi4B,EAAW3G,EAAK,GAChB4G,EAAW5G,EAAK,GAIpB,OAFA2G,EAAWA,GAAY,EACvBC,GAAYA,GAAY,GAAKF,EACtB,CAACtjC,EAAMC,GAAOzL,QAAQ4oC,IAAkB,EAAI,CACjD1kC,EAAG8qC,EACH5qC,EAAG2qC,GACD,CACF7qC,EAAG6qC,EACH3qC,EAAG4qC,GAWcC,CAAwBtK,EAAWryB,EAAMu1B,MAAO/wB,GAC1D4tB,IACN,IACCwK,EAAwBjiC,EAAKqF,EAAMqyB,WACnCzgC,EAAIgrC,EAAsBhrC,EAC1BE,EAAI8qC,EAAsB9qC,EAEW,MAArCkO,EAAMg0B,cAAcsH,gBACtBt7B,EAAMg0B,cAAcsH,cAAc1pC,GAAKA,EACvCoO,EAAMg0B,cAAcsH,cAAcxpC,GAAKA,GAGzCkO,EAAMg0B,cAAcv4B,GAAQd,IC+F9B,CACEc,KAAM,OACNq5B,SAAS,EACTL,MAAO,OACP3nC,GA5HF,SAAcgpC,GACZ,IAAI91B,EAAQ81B,EAAK91B,MACblQ,EAAUgmC,EAAKhmC,QACf2L,EAAOq6B,EAAKr6B,KAEhB,IAAIuE,EAAMg0B,cAAcv4B,GAAMohC,MAA9B,CAoCA,IAhCA,IAAIC,EAAoBhtC,EAAQ4mC,SAC5BqG,OAAsC,IAAtBD,GAAsCA,EACtDE,EAAmBltC,EAAQmtC,QAC3BC,OAAoC,IAArBF,GAAqCA,EACpDG,EAA8BrtC,EAAQstC,mBACtCnC,EAAUnrC,EAAQmrC,QAClBtB,EAAW7pC,EAAQ6pC,SACnBC,EAAe9pC,EAAQ8pC,aACvBmB,EAAcjrC,EAAQirC,YACtBsC,EAAwBvtC,EAAQwtC,eAChCA,OAA2C,IAA1BD,GAA0CA,EAC3DE,EAAwBztC,EAAQytC,sBAChCC,EAAqBx9B,EAAMlQ,QAAQuiC,UACnCiE,EAAgBJ,EAAiBsH,GAEjCJ,EAAqBD,IADH7G,IAAkBkH,IACqCF,EAAiB,CAAC/E,GAAqBiF,IAjCtH,SAAuCnL,GACrC,GAAI6D,EAAiB7D,KAAeN,EAClC,MAAO,GAGT,IAAI0L,EAAoBlF,GAAqBlG,GAC7C,MAAO,CAACoG,GAA8BpG,GAAYoL,EAAmBhF,GAA8BgF,IA2BwCC,CAA8BF,IACrKG,EAAa,CAACH,GAAoB5lC,OAAOwlC,GAAoBt/B,QAAO,SAAUs0B,EAAKC,GACrF,OAAOD,EAAIx6B,OAAOs+B,EAAiB7D,KAAeN,ECvCvC,SAA8B/xB,EAAOlQ,QAClC,IAAZA,IACFA,EAAU,IAGZ,IAAI6lC,EAAW7lC,EACXuiC,EAAYsD,EAAStD,UACrBsH,EAAWhE,EAASgE,SACpBC,EAAejE,EAASiE,aACxBqB,EAAUtF,EAASsF,QACnBqC,EAAiB3H,EAAS2H,eAC1BM,EAAwBjI,EAAS4H,sBACjCA,OAAkD,IAA1BK,EAAmC,EAAgBA,EAC3ErH,EAAYJ,EAAa9D,GACzBsL,EAAapH,EAAY+G,EAAiBnL,EAAsBA,EAAoBN,QAAO,SAAUQ,GACvG,OAAO8D,EAAa9D,KAAekE,KAChCvE,EACD6L,EAAoBF,EAAW9L,QAAO,SAAUQ,GAClD,OAAOkL,EAAsB7vC,QAAQ2kC,IAAc,KAGpB,IAA7BwL,EAAkBxyC,SACpBwyC,EAAoBF,GAQtB,IAAIG,EAAYD,EAAkB//B,QAAO,SAAUs0B,EAAKC,GAOtD,OANAD,EAAIC,GAAamI,GAAex6B,EAAO,CACrCqyB,UAAWA,EACXsH,SAAUA,EACVC,aAAcA,EACdqB,QAASA,IACR/E,EAAiB7D,IACbD,IACN,IACH,OAAOtjC,OAAO8e,KAAKkwB,GAAWlL,MAAK,SAAUzjC,EAAG4uC,GAC9C,OAAOD,EAAU3uC,GAAK2uC,EAAUC,MDDyBC,CAAqBh+B,EAAO,CACnFqyB,UAAWA,EACXsH,SAAUA,EACVC,aAAcA,EACdqB,QAASA,EACTqC,eAAgBA,EAChBC,sBAAuBA,IACpBlL,KACJ,IACC4L,EAAgBj+B,EAAMu1B,MAAMtvB,UAC5B+wB,EAAah3B,EAAMu1B,MAAMrD,OACzBgM,EAAY,IAAIzL,IAChB0L,GAAqB,EACrBC,EAAwBT,EAAW,GAE9BxyC,EAAI,EAAGA,EAAIwyC,EAAWtyC,OAAQF,IAAK,CAC1C,IAAIknC,EAAYsL,EAAWxyC,GAEvBkzC,EAAiBnI,EAAiB7D,GAElCiM,EAAmBnI,EAAa9D,KAAelvB,EAC/Co7B,EAAa,CAAC,EAAKjlC,GAAQ5L,QAAQ2wC,IAAmB,EACtDpxC,EAAMsxC,EAAa,QAAU,SAC7B9O,EAAW+K,GAAex6B,EAAO,CACnCqyB,UAAWA,EACXsH,SAAUA,EACVC,aAAcA,EACdmB,YAAaA,EACbE,QAASA,IAEPuD,EAAoBD,EAAaD,EAAmBnlC,EAAQD,EAAOolC,EAAmBhlC,EAAS,EAE/F2kC,EAAchxC,GAAO+pC,EAAW/pC,KAClCuxC,EAAoBjG,GAAqBiG,IAG3C,IAAIC,EAAmBlG,GAAqBiG,GACxCE,EAAS,GAUb,GARI3B,GACF2B,EAAOtuC,KAAKq/B,EAAS4O,IAAmB,GAGtCnB,GACFwB,EAAOtuC,KAAKq/B,EAAS+O,IAAsB,EAAG/O,EAASgP,IAAqB,GAG1EC,EAAOC,OAAM,SAAUC,GACzB,OAAOA,KACL,CACFR,EAAwB/L,EACxB8L,GAAqB,EACrB,MAGFD,EAAUhL,IAAIb,EAAWqM,GAG3B,GAAIP,EAqBF,IAnBA,IAEIU,EAAQ,SAAeC,GACzB,IAAIC,EAAmBpB,EAAWjqC,MAAK,SAAU2+B,GAC/C,IAAIqM,EAASR,EAAU/lC,IAAIk6B,GAE3B,GAAIqM,EACF,OAAOA,EAAOpvC,MAAM,EAAGwvC,GAAIH,OAAM,SAAUC,GACzC,OAAOA,QAKb,GAAIG,EAEF,OADAX,EAAwBW,EACjB,SAIFD,EAnBYxB,EAAiB,EAAI,EAmBZwB,EAAK,EAAGA,IAAM,CAG1C,GAAa,UAFFD,EAAMC,GAEK,MAItB9+B,EAAMqyB,YAAc+L,IACtBp+B,EAAMg0B,cAAcv4B,GAAMohC,OAAQ,EAClC78B,EAAMqyB,UAAY+L,EAClBp+B,EAAMw1B,OAAQ,KAUhBzC,iBAAkB,CAAC,UACnBp4B,KAAM,CACJkiC,OAAO,IE5BX,CACEphC,KAAM,kBACNq5B,SAAS,EACTL,MAAO,OACP3nC,GA5GF,SAAyBgpC,GACvB,IAAI91B,EAAQ81B,EAAK91B,MACblQ,EAAUgmC,EAAKhmC,QACf2L,EAAOq6B,EAAKr6B,KACZqhC,EAAoBhtC,EAAQ4mC,SAC5BqG,OAAsC,IAAtBD,GAAsCA,EACtDE,EAAmBltC,EAAQmtC,QAC3BC,OAAoC,IAArBF,GAAsCA,EACrDrD,EAAW7pC,EAAQ6pC,SACnBC,EAAe9pC,EAAQ8pC,aACvBmB,EAAcjrC,EAAQirC,YACtBE,EAAUnrC,EAAQmrC,QAClB+D,EAAkBlvC,EAAQmvC,OAC1BA,OAA6B,IAApBD,GAAoCA,EAC7CE,EAAwBpvC,EAAQqvC,aAChCA,OAAyC,IAA1BD,EAAmC,EAAIA,EACtDzP,EAAW+K,GAAex6B,EAAO,CACnC25B,SAAUA,EACVC,aAAcA,EACdqB,QAASA,EACTF,YAAaA,IAEXzE,EAAgBJ,EAAiBl2B,EAAMqyB,WACvCkE,EAAYJ,EAAan2B,EAAMqyB,WAC/B+M,GAAmB7I,EACnBG,EAAWN,EAAyBE,GACpC2G,ECrCY,MDqCSvG,ECrCH,IAAM,IDsCxB4E,EAAgBt7B,EAAMg0B,cAAcsH,cACpC2C,EAAgBj+B,EAAMu1B,MAAMtvB,UAC5B+wB,EAAah3B,EAAMu1B,MAAMrD,OACzBmN,EAA4C,mBAAjBF,EAA8BA,EAAarwC,OAAOy6B,OAAO,GAAIvpB,EAAMu1B,MAAO,CACvGlD,UAAWryB,EAAMqyB,aACb8M,EACFxkC,EAAO,CACT/I,EAAG,EACHE,EAAG,GAGL,GAAKwpC,EAAL,CAIA,GAAIyB,GAAiBG,EAAc,CACjC,IAAIoC,EAAwB,MAAb5I,EAAmB,EAAMx9B,EACpCqmC,EAAuB,MAAb7I,EAAmBp9B,EAASH,EACtClM,EAAmB,MAAbypC,EAAmB,SAAW,QACpClyB,EAAS82B,EAAc5E,GACvBjpC,EAAM6tC,EAAc5E,GAAYjH,EAAS6P,GACzCxzC,EAAMwvC,EAAc5E,GAAYjH,EAAS8P,GACzCC,EAAWP,GAAUjI,EAAW/pC,GAAO,EAAI,EAC3CwyC,EAASlJ,IAAcpzB,EAAQ86B,EAAchxC,GAAO+pC,EAAW/pC,GAC/DyyC,EAASnJ,IAAcpzB,GAAS6zB,EAAW/pC,IAAQgxC,EAAchxC,GAGjE0yC,EAAe3/B,EAAM1J,SAAS6hC,MAC9ByH,EAAYX,GAAUU,EAAexP,EAAcwP,GAAgB,CACrE3jC,MAAO,EACPC,OAAQ,GAEN4jC,EAAqB7/B,EAAMg0B,cAAc,oBAAsBh0B,EAAMg0B,cAAc,oBAAoBiH,QTtEtG,CACL5hC,IAAK,EACLF,MAAO,EACPG,OAAQ,EACRJ,KAAM,GSmEF4mC,EAAkBD,EAAmBP,GACrCS,EAAkBF,EAAmBN,GAMrCS,EAAWnE,GAAO,EAAGoC,EAAchxC,GAAM2yC,EAAU3yC,IACnDgzC,EAAYb,EAAkBnB,EAAchxC,GAAO,EAAIuyC,EAAWQ,EAAWF,EAAkBT,EAAoBI,EAASO,EAAWF,EAAkBT,EACzJa,EAAYd,GAAmBnB,EAAchxC,GAAO,EAAIuyC,EAAWQ,EAAWD,EAAkBV,EAAoBK,EAASM,EAAWD,EAAkBV,EAC1Jc,GAAoBngC,EAAM1J,SAAS6hC,OAAS9G,EAAgBrxB,EAAM1J,SAAS6hC,OAC3EiI,GAAeD,GAAiC,MAAbzJ,EAAmByJ,GAAkBttC,WAAa,EAAIstC,GAAkBxtC,YAAc,EAAI,EAC7H0tC,GAAsBrgC,EAAMg0B,cAAcxvB,OAASxE,EAAMg0B,cAAcxvB,OAAOxE,EAAMqyB,WAAWqE,GAAY,EAC3G4J,GAAYhF,EAAc5E,GAAYuJ,EAAYI,GAAsBD,GACxEG,GAAYjF,EAAc5E,GAAYwJ,EAAYG,GAEtD,GAAItD,EAAe,CACjB,IAAIyD,GAAkB3E,GAAOoD,EAAS,GAAQxxC,EAAK6yC,IAAa7yC,EAAK+W,EAAQy6B,EAAS,GAAQnzC,EAAKy0C,IAAaz0C,GAChHwvC,EAAc5E,GAAY8J,GAC1B7lC,EAAK+7B,GAAY8J,GAAkBh8B,EAGrC,GAAI04B,EAAc,CAChB,IAAIuD,GAAyB,MAAb/J,EAAmB,EAAMx9B,EAErCwnC,GAAwB,MAAbhK,EAAmBp9B,EAASH,EAEvCwnC,GAAUrF,EAAc2B,GAExB2D,GAAOD,GAAUlR,EAASgR,IAE1BI,GAAOF,GAAUlR,EAASiR,IAE1BI,GAAmBjF,GAAOoD,EAAS,GAAQ2B,GAAMN,IAAaM,GAAMD,GAAS1B,EAAS,GAAQ4B,GAAMN,IAAaM,IAErHvF,EAAc2B,GAAW6D,GACzBnmC,EAAKsiC,GAAW6D,GAAmBH,IAIvC3gC,EAAMg0B,cAAcv4B,GAAQd,IAS5Bo4B,iBAAkB,CAAC,WE7BrB,CACEt3B,KAAM,QACNq5B,SAAS,EACTL,MAAO,OACP3nC,GA9EF,SAAegpC,GACb,IAAIiL,EAEA/gC,EAAQ81B,EAAK91B,MACbvE,EAAOq6B,EAAKr6B,KACZ3L,EAAUgmC,EAAKhmC,QACf6vC,EAAe3/B,EAAM1J,SAAS6hC,MAC9BmD,EAAgBt7B,EAAMg0B,cAAcsH,cACpChF,EAAgBJ,EAAiBl2B,EAAMqyB,WACvCuJ,EAAOxF,EAAyBE,GAEhCrpC,EADa,CAACiM,EAAMC,GAAOzL,QAAQ4oC,IAAkB,EAClC,SAAW,QAElC,GAAKqJ,GAAiBrE,EAAtB,CAIA,IAAIjB,EAxBgB,SAAyBY,EAASj7B,GAItD,OAAOo6B,GAAsC,iBAH7Ca,EAA6B,mBAAZA,EAAyBA,EAAQnsC,OAAOy6B,OAAO,GAAIvpB,EAAMu1B,MAAO,CAC/ElD,UAAWryB,EAAMqyB,aACb4I,GACkDA,EAAUX,GAAgBW,EAASjJ,IAoBvEgP,CAAgBlxC,EAAQmrC,QAASj7B,GACjD4/B,EAAYzP,EAAcwP,GAC1BsB,EAAmB,MAATrF,EAAe,EAAM1iC,EAC/BgoC,EAAmB,MAATtF,EAAetiC,EAASH,EAClCgoC,EAAUnhC,EAAMu1B,MAAMtvB,UAAUhZ,GAAO+S,EAAMu1B,MAAMtvB,UAAU21B,GAAQN,EAAcM,GAAQ57B,EAAMu1B,MAAMrD,OAAOjlC,GAC9Gm0C,EAAY9F,EAAcM,GAAQ57B,EAAMu1B,MAAMtvB,UAAU21B,GACxDuE,EAAoB9O,EAAgBsO,GACpC0B,EAAalB,EAA6B,MAATvE,EAAeuE,EAAkBrgC,cAAgB,EAAIqgC,EAAkBhH,aAAe,EAAI,EAC3HmI,EAAoBH,EAAU,EAAIC,EAAY,EAG9C3zC,EAAM4sC,EAAc4G,GACpBn1C,EAAMu1C,EAAazB,EAAU3yC,GAAOotC,EAAc6G,GAClDK,EAASF,EAAa,EAAIzB,EAAU3yC,GAAO,EAAIq0C,EAC/C98B,EAASq3B,GAAOpuC,EAAK8zC,EAAQz1C,GAE7B01C,EAAW5F,EACf57B,EAAMg0B,cAAcv4B,KAASslC,EAAwB,IAA0BS,GAAYh9B,EAAQu8B,EAAsBU,aAAej9B,EAAS+8B,EAAQR,KA6CzJ9L,OA1CF,SAAgB6B,GACd,IAAI92B,EAAQ82B,EAAM92B,MAEd0hC,EADU5K,EAAMhnC,QACW4B,QAC3BiuC,OAAoC,IAArB+B,EAA8B,sBAAwBA,EAErD,MAAhB/B,IAKwB,iBAAjBA,IACTA,EAAe3/B,EAAM1J,SAAS47B,OAAOj1B,cAAc0iC,MAahDjH,GAAS14B,EAAM1J,SAAS47B,OAAQyN,KAQrC3/B,EAAM1J,SAAS6hC,MAAQwH,IAUvB7M,SAAU,CAAC,iBACXC,iBAAkB,CAAC,oBP7CrB,CACEt3B,KAAM,OACNq5B,SAAS,EACTL,MAAO,OACP1B,iBAAkB,CAAC,mBACnBjmC,GAlCF,SAAcgpC,GACZ,IAAI91B,EAAQ81B,EAAK91B,MACbvE,EAAOq6B,EAAKr6B,KACZwiC,EAAgBj+B,EAAMu1B,MAAMtvB,UAC5B+wB,EAAah3B,EAAMu1B,MAAMrD,OACzB6J,EAAmB/7B,EAAMg0B,cAAc2N,gBACvCC,EAAoBpH,GAAex6B,EAAO,CAC5C66B,eAAgB,cAEdgH,EAAoBrH,GAAex6B,EAAO,CAC5C+6B,aAAa,IAEX+G,EAA2BhG,GAAe8F,EAAmB3D,GAC7D8D,EAAsBjG,GAAe+F,EAAmB7K,EAAY+E,GACpEiG,EAAoBhG,GAAsB8F,GAC1CG,EAAmBjG,GAAsB+F,GAC7C/hC,EAAMg0B,cAAcv4B,GAAQ,CAC1BqmC,yBAA0BA,EAC1BC,oBAAqBA,EACrBC,kBAAmBA,EACnBC,iBAAkBA,GAEpBjiC,EAAMi0B,WAAW/B,OAASpjC,OAAOy6B,OAAO,GAAIvpB,EAAMi0B,WAAW/B,OAAQ,CACnE,+BAAgC8P,EAChC,sBAAuBC,SQxCvBC,GAAgB,gBAChBC,GAAiB,iBACjBC,GAAc,cACdC,GAAkB,kBAClBC,GAAgB,CAClBzM,SAAS,EACT0M,SAAS,GAMX,SAASC,GAAwBx1C,EAAOkR,EAAOukC,GAC7C,GAAIn2C,MAAMgQ,QAAQtP,GAAQ,CACxB,IAAIse,EAAIte,EAAMkR,GACd,OAAY,MAALoN,EAAYhf,MAAMgQ,QAAQmmC,GAAgBA,EAAavkC,GAASukC,EAAen3B,EAGxF,OAAOte,EAET,SAAS01C,GAAO11C,EAAOmD,GACrB,IAAIyW,EAAM,GAAG3O,SAASjJ,KAAKhC,GAC3B,OAAkC,IAA3B4Z,EAAIlZ,QAAQ,YAAoBkZ,EAAIlZ,QAAQyC,EAAO,MAAQ,EAEpE,SAASwyC,GAAuB31C,EAAOwC,GACrC,MAAwB,mBAAVxC,EAAuBA,EAAM0C,WAAM,EAAQF,GAAQxC,EAEnE,SAAS,GAASF,EAAI81C,GAEpB,OAAW,IAAPA,EACK91C,EAIF,SAAUob,GACf/b,aAAakoB,GACbA,EAAUroB,YAAW,WACnBc,EAAGob,KACF06B,IALL,IAAIvuB,EAkBN,SAASwuB,GAAiB71C,GACxB,MAAO,GAAG4K,OAAO5K,GAEnB,SAAS81C,GAAazlC,EAAKrQ,IACG,IAAxBqQ,EAAI3P,QAAQV,IACdqQ,EAAIjN,KAAKpD,GAQb,SAAS,GAAiBqlC,GACxB,OAAOA,EAAUlrB,MAAM,KAAK,GAE9B,SAAS9K,GAAUrP,GACjB,MAAO,GAAGsC,MAAMN,KAAKhC,GAYvB,SAAS+1C,KACP,OAAOzwC,SAASqjB,cAAc,OAEhC,SAAS,GAAU3oB,GACjB,MAAO,CAAC,UAAW,YAAYsmC,MAAK,SAAUnjC,GAC5C,OAAOuyC,GAAO11C,EAAOmD,MAMzB,SAAS6yC,GAAah2C,GACpB,OAAO01C,GAAO11C,EAAO,cAEvB,SAASi2C,GAAmBj2C,GAC1B,SAAUA,IAASA,EAAMk2C,QAAUl2C,EAAMk2C,OAAOj9B,YAAcjZ,GAEhE,SAASm2C,GAAmBn2C,GAC1B,OAAI,GAAUA,GACL,CAACA,GAXZ,SAAoBA,GAClB,OAAO01C,GAAO11C,EAAO,YAajBo2C,CAAWp2C,GACNqP,GAAUrP,GAGfV,MAAMgQ,QAAQtP,GACTA,EAGFqP,GAAU/J,SAASgL,iBAAiBtQ,IAE7C,SAASq2C,GAAsBC,EAAKt2C,GAClCs2C,EAAIvyC,SAAQ,SAAUmC,GAChBA,IACFA,EAAG4J,MAAMymC,mBAAqBv2C,EAAQ,SAI5C,SAASw2C,GAAmBF,EAAKtjC,GAC/BsjC,EAAIvyC,SAAQ,SAAUmC,GAChBA,GACFA,EAAGouB,aAAa,aAActhB,MAIpC,SAASyjC,GAAiBC,GACxB,IAAI7S,EAGAn/B,EADoBmxC,GAAiBa,GACT,GAGhC,OAAmB,MAAXhyC,GAA8E,OAAlDm/B,EAAwBn/B,EAAQW,oBAA1C,EAA4Ew+B,EAAsBp+B,MAAQf,EAAQW,cAAgBC,SA4B9J,SAASqxC,GAA4BC,EAAK55B,EAAQzV,GAChD,IAAI2vB,EAASla,EAAS,gBAGtB,CAAC,gBAAiB,uBAAuBjZ,SAAQ,SAAUO,GACzDsyC,EAAI1f,GAAQ5yB,EAAOiD,MAIvB,IAAIsvC,GAAe,CACjBC,SAAS,GAEPC,GAAoB,EAQxB,SAASC,KACHH,GAAaC,UAIjBD,GAAaC,SAAU,EAEnBx4C,OAAO24C,aACT3xC,SAASc,iBAAiB,YAAa8wC,KAS3C,SAASA,KACP,IAAIz4C,EAAMw4C,YAAYx4C,MAElBA,EAAMs4C,GAAoB,KAC5BF,GAAaC,SAAU,EACvBxxC,SAASgB,oBAAoB,YAAa4wC,KAG5CH,GAAoBt4C,EAStB,SAAS04C,KACP,IAAIC,EAAgB9xC,SAAS8xC,cAE7B,GAAInB,GAAmBmB,GAAgB,CACrC,IAAIxhB,EAAWwhB,EAAclB,OAEzBkB,EAAcC,OAASzhB,EAAS5iB,MAAMskC,WACxCF,EAAcC,QASpB,IACIE,GAD8B,oBAAXj5C,QAA8C,oBAAbgH,SACnC4M,UAAUkU,UAAY,GACvCoxB,GAAO,kBAAkBlvC,KAAKivC,IAyDlC,IAAIE,GAAc,CAChBC,aAAa,EACbC,cAAc,EACdC,mBAAmB,EACnBC,QAAQ,GAaNC,GAAeh2C,OAAOy6B,OAAO,CAC/Bwb,SAAU,WACR,OAAOzyC,SAASG,MAElBuyC,KAAM,CACJtX,QAAS,OACTuX,SAAU,QAEZ5hB,MAAO,EACP6hB,SAAU,CAAC,IAAK,KAChBC,uBAAwB,KACxBC,aAAa,EACbC,kBAAkB,EAClBC,aAAa,EACbC,kBAAmB,EACnBC,oBAAqB,EACrBC,eAAgB,GAChBjhC,OAAQ,CAAC,EAAG,IACZkhC,cAAe,aACfC,eAAgB,aAChBC,SAAU,aACVC,UAAW,aACXC,SAAU,aACVC,OAAQ,aACRC,QAAS,aACTC,OAAQ,aACRC,QAAS,aACTC,UAAW,aACXC,YAAa,aACbC,eAAgB,aAChBhU,UAAW,MACXiU,QAAS,GACTC,cAAe,GACfC,OAAQ,KACRC,cAAc,EACdC,OAAO,EACPC,QAAS,mBACTC,cAAe,MACdnC,GAAa,GAjDE,CAChBoC,WAAW,EACXC,UAAW,OACX3O,OAAO,EACPzK,QAAS,GACTqZ,SAAS,EACTC,SAAU,IACVC,KAAM,UACNC,MAAO,GACPC,OAAQ,OAyCNC,GAAct4C,OAAO8e,KAAKk3B,IAY9B,SAASuC,GAAuBC,GAC9B,IACI7C,GADU6C,EAAYhB,SAAW,IACXxoC,QAAO,SAAUs0B,EAAKmV,GAC9C,IAAI9rC,EAAO8rC,EAAO9rC,KACdgnC,EAAe8E,EAAO9E,aAM1B,OAJIhnC,IACF22B,EAAI32B,QAA8BxL,IAAtBq3C,EAAY7rC,GAAsB6rC,EAAY7rC,GAAQgnC,GAG7DrQ,IACN,IACH,OAAOtjC,OAAOy6B,OAAO,GAAI+d,EAAa,GAAI7C,GA2B5C,SAAS+C,GAAcvhC,EAAWrK,GAChC,IAAI6rC,EAAM34C,OAAOy6B,OAAO,GAAI3tB,EAAO,CACjC8xB,QAASiV,GAAuB/mC,EAAM8xB,QAAS,CAACznB,KAC/CrK,EAAMypC,iBAAmB,GA5B9B,SAA+Bp/B,EAAWqgC,GAuBxC,OAtBeA,EAAUx3C,OAAO8e,KAAKy5B,GAAuBv4C,OAAOy6B,OAAO,GAAIub,GAAc,CAC1FwB,QAASA,MACJc,IACctpC,QAAO,SAAUs0B,EAAK3mB,GACzC,IAAIi8B,GAAiBzhC,EAAU0hC,aAAa,cAAgBl8B,IAAQ,IAAI7M,OAExE,IAAK8oC,EACH,OAAOtV,EAGT,GAAY,YAAR3mB,EACF2mB,EAAI3mB,GAAOi8B,OAEX,IACEtV,EAAI3mB,GAAO0B,KAAKC,MAAMs6B,GACtB,MAAO5zC,GACPs+B,EAAI3mB,GAAOi8B,EAIf,OAAOtV,IACN,IAM8BwV,CAAsB3hC,EAAWrK,EAAM0qC,UAMxE,OALAmB,EAAIzC,KAAOl2C,OAAOy6B,OAAO,GAAIub,GAAaE,KAAM,GAAIyC,EAAIzC,MACxDyC,EAAIzC,KAAO,CACTC,SAAgC,SAAtBwC,EAAIzC,KAAKC,SAAsBrpC,EAAM0pC,YAAcmC,EAAIzC,KAAKC,SACtEvX,QAA8B,SAArB+Z,EAAIzC,KAAKtX,QAAqB9xB,EAAM0pC,YAAc,KAAO,cAAgBmC,EAAIzC,KAAKtX,SAEtF+Z,EA8BT,SAASI,GAAwBn2C,EAASwnC,GACxCxnC,EAAmB,UAAIwnC,EAGzB,SAAS4O,GAAmB96C,GAC1B,IAAImrC,EAAQ4K,KAcZ,OAZc,IAAV/1C,EACFmrC,EAAM75B,UAAY8jC,IAElBjK,EAAM75B,UAAY+jC,GAEd,GAAUr1C,GACZmrC,EAAM9xB,YAAYrZ,GAElB66C,GAAwB1P,EAAOnrC,IAI5BmrC,EAGT,SAAS4P,GAAWra,EAAS9xB,GACvB,GAAUA,EAAM8xB,UAClBma,GAAwBna,EAAS,IACjCA,EAAQrnB,YAAYzK,EAAM8xB,UACQ,mBAAlB9xB,EAAM8xB,UAClB9xB,EAAMirC,UACRgB,GAAwBna,EAAS9xB,EAAM8xB,SAEvCA,EAAQsa,YAAcpsC,EAAM8xB,SAIlC,SAASua,GAAY/V,GACnB,IAAI0R,EAAM1R,EAAOgW,kBACbC,EAAc9rC,GAAUunC,EAAIp9B,UAChC,MAAO,CACLo9B,IAAKA,EACLlW,QAASya,EAAYz0C,MAAK,SAAUm5B,GAClC,OAAOA,EAAKjC,UAAU8N,SAASwJ,OAEjC/J,MAAOgQ,EAAYz0C,MAAK,SAAUm5B,GAChC,OAAOA,EAAKjC,UAAU8N,SAAS0J,KAAgBvV,EAAKjC,UAAU8N,SAAS2J,OAEzE+F,SAAUD,EAAYz0C,MAAK,SAAUm5B,GACnC,OAAOA,EAAKjC,UAAU8N,SAASyJ,QAIrC,SAASqE,GAAO5jB,GACd,IAAIsP,EAAS6Q,KACTa,EAAMb,KACVa,EAAItlC,UA1eU,YA2edslC,EAAItiB,aAAa,aAAc,UAC/BsiB,EAAItiB,aAAa,WAAY,MAC7B,IAAIoM,EAAUqV,KAQd,SAASsF,EAASC,EAAWC,GAC3B,IAAIC,EAAeP,GAAY/V,GAC3B0R,EAAM4E,EAAa5E,IACnBlW,EAAU8a,EAAa9a,QACvByK,EAAQqQ,EAAarQ,MAErBoQ,EAAUrB,MACZtD,EAAItiB,aAAa,aAAcinB,EAAUrB,OAEzCtD,EAAI3L,gBAAgB,cAGa,iBAAxBsQ,EAAUzB,UACnBlD,EAAItiB,aAAa,iBAAkBinB,EAAUzB,WAE7ClD,EAAI3L,gBAAgB,kBAGlBsQ,EAAUxB,QACZnD,EAAItiB,aAAa,eAAgB,IAEjCsiB,EAAI3L,gBAAgB,gBAGtB2L,EAAI9mC,MAAMkqC,SAAyC,iBAAvBuB,EAAUvB,SAAwBuB,EAAUvB,SAAW,KAAOuB,EAAUvB,SAEhGuB,EAAUtB,KACZrD,EAAItiB,aAAa,OAAQinB,EAAUtB,MAEnCrD,EAAI3L,gBAAgB,QAGlBqQ,EAAU5a,UAAY6a,EAAU7a,SAAW4a,EAAUzB,YAAc0B,EAAU1B,WAC/EkB,GAAWra,EAAS9K,EAAShnB,OAG3B2sC,EAAUpQ,MACPA,EAEMmQ,EAAUnQ,QAAUoQ,EAAUpQ,QACvCyL,EAAIx+B,YAAY+yB,GAChByL,EAAIv9B,YAAYyhC,GAAmBS,EAAUpQ,SAH7CyL,EAAIv9B,YAAYyhC,GAAmBS,EAAUpQ,QAKtCA,GACTyL,EAAIx+B,YAAY+yB,GAIpB,OAvDAzK,EAAQpvB,UAAY4jC,GACpBxU,EAAQpM,aAAa,aAAc,UACnCymB,GAAWra,EAAS9K,EAAShnB,OAC7Bs2B,EAAO7rB,YAAYu9B,GACnBA,EAAIv9B,YAAYqnB,GAChB2a,EAASzlB,EAAShnB,MAAOgnB,EAAShnB,OAkD3B,CACLs2B,OAAQA,EACRmW,SAAUA,GAKd7B,GAAOiC,SAAU,EAEjB,IAAIC,GAAY,EACZC,GAAqB,GAErBC,GAAmB,GACvB,SAASC,GAAY5iC,EAAWqhC,GAC9B,IA5e4B7qC,EAgfxBqsC,EACAC,EACAC,EAKAC,EACAC,EACAtT,EAGAuT,EAvgBU9rC,EAufVzB,EAAQ4rC,GAAcvhC,EAAWnX,OAAOy6B,OAAO,GAAIub,GAAc,GAAIuC,IA5e7C5qC,EA4eyF6qC,EA3e9Gx4C,OAAO8e,KAAKnR,GAAKqB,QAAO,SAAUs0B,EAAK3mB,GAK5C,YAJiBxb,IAAbwM,EAAIgP,KACN2mB,EAAI3mB,GAAOhP,EAAIgP,IAGV2mB,IACN,QA4eCgX,GAAqB,EACrBC,GAAgC,EAChCC,GAAe,EACfC,GAAsB,EAItBC,EAAY,GACZC,EAAuB,GAASC,EAAa9tC,EAAM4pC,qBAKnDrsB,EAAKuvB,KAELpC,GA7gBUjpC,EA6gBOzB,EAAM0qC,SA5gBhBzU,QAAO,SAAUp+B,EAAMyK,GAChC,OAAOb,EAAI3P,QAAQ+F,KAAUyK,KAwhB3B0kB,EAAW,CAEbzJ,GAAIA,EACJlT,UAAWA,EACXisB,OAAQ6Q,KACR4G,eAnBmB,KAoBnB/tC,MAAOA,EACPoE,MAnBU,CAEV4pC,WAAW,EAEXtF,WAAW,EAEXlQ,aAAa,EAEbyV,WAAW,EAEXC,SAAS,GAUTxD,QAASA,EAETyD,mBAqoBF,WACE59C,aAAa28C,GACb38C,aAAa48C,GACb78C,qBAAqB88C,IAvoBrBgB,SA0oBF,SAAkBC,GAEZ,EAIJ,GAAIrnB,EAAS5iB,MAAMo0B,YACjB,OAGF8V,EAAW,iBAAkB,CAACtnB,EAAUqnB,IACxCE,IACA,IAAI7B,EAAY1lB,EAAShnB,MACrB2sC,EAAYf,GAAcvhC,EAAWnX,OAAOy6B,OAAO,GAAI3G,EAAShnB,MAAO,GAAIquC,EAAc,CAC3F5E,kBAAkB,KAEpBziB,EAAShnB,MAAQ2sC,EACjB6B,IAEI9B,EAAU9C,sBAAwB+C,EAAU/C,sBAC9C6E,IACAZ,EAAuB,GAASC,EAAanB,EAAU/C,sBAIrD8C,EAAU1B,gBAAkB2B,EAAU3B,cACxC/D,GAAiByF,EAAU1B,eAAe71C,SAAQ,SAAU87B,GAC1DA,EAAKoL,gBAAgB,oBAEdsQ,EAAU3B,eACnB3gC,EAAUgyB,gBAAgB,iBAG5BqS,IACAC,IAEIlC,GACFA,EAASC,EAAWC,GAGlB3lB,EAAS+mB,iBACXa,IAKAC,KAAsB15C,SAAQ,SAAU25C,GAGtCx/C,sBAAsBw/C,EAAaxH,OAAOyG,eAAetU,iBAI7D6U,EAAW,gBAAiB,CAACtnB,EAAUqnB,KA9rBvClC,WAisBF,SAAoBra,GAClB9K,EAASonB,SAAS,CAChBtc,QAASA,KAlsBXid,KAssBF,WAEM,EAKJ,IAAIC,EAAmBhoB,EAAS5iB,MAAMskC,UAClClQ,EAAcxR,EAAS5iB,MAAMo0B,YAC7ByW,GAAcjoB,EAAS5iB,MAAM4pC,UAC7BkB,EAA0BjH,GAAaC,UAAYlhB,EAAShnB,MAAM8qC,MAClExB,EAAW1C,GAAwB5f,EAAShnB,MAAMspC,SAAU,EAAGJ,GAAaI,UAEhF,GAAI0F,GAAoBxW,GAAeyW,GAAcC,EACnD,OAMF,GAAIC,IAAmBC,aAAa,YAClC,OAKF,GAFAd,EAAW,SAAU,CAACtnB,IAAW,IAEO,IAApCA,EAAShnB,MAAMqqC,OAAOrjB,GACxB,OAGFA,EAAS5iB,MAAMskC,WAAY,EAEvB2G,MACF/Y,EAAOp1B,MAAMouC,WAAa,WAG5BX,IACAY,IAEKvoB,EAAS5iB,MAAM6pC,YAClB3X,EAAOp1B,MAAMsuC,WAAa,QAK5B,GAAIH,IAAwB,CAC1B,IAAII,EAAyBC,IACzB1H,EAAMyH,EAAuBzH,IAC7BlW,EAAU2d,EAAuB3d,QAErC2V,GAAsB,CAACO,EAAKlW,GAAU,GAGxCkI,EAAgB,WACd,IAAI2V,EAEJ,GAAK3oB,EAAS5iB,MAAMskC,YAAaiF,EAAjC,CASA,GALAA,GAAsB,EAEjBrX,EAAO5B,aACZ4B,EAAOp1B,MAAMsuC,WAAaxoB,EAAShnB,MAAM6pC,eAErCwF,KAA0BroB,EAAShnB,MAAMkrC,UAAW,CACtD,IAAI0E,EAAyBF,IACzBG,EAAOD,EAAuB5H,IAC9B8H,EAAWF,EAAuB9d,QAEtC2V,GAAsB,CAACoI,EAAMC,GAAWxG,GACxC1B,GAAmB,CAACiI,EAAMC,GAAW,WAGvCC,IACArB,IACAxH,GAAa8F,GAAkBhmB,GAGuB,OAArD2oB,EAAyB3oB,EAAS+mB,iBAAmC4B,EAAuBlW,cAC7FzS,EAAS5iB,MAAM6pC,WAAY,EAC3BK,EAAW,UAAW,CAACtnB,IAEnBA,EAAShnB,MAAMkrC,WAAamE,KA9hBpC,SAA0B/F,EAAU15C,GAClCogD,EAAgB1G,EAAU15C,GA8hBtBqgD,CAAiB3G,GAAU,WACzBtiB,EAAS5iB,MAAM8pC,SAAU,EACzBI,EAAW,UAAW,CAACtnB,SAxQ/B,WACE,IACInqB,EADAssC,EAAWniB,EAAShnB,MAAMmpC,SAO1BlY,EAAOke,IAGTtyC,EADEmqB,EAAShnB,MAAM0pC,aAAeP,IAAaD,GAAaC,UAAyB,WAAbA,EACzDlY,EAAKp0B,WAELkqC,GAAuBoC,EAAU,CAAClY,IAK5Cp0B,EAAWigC,SAASxG,IACvBz5B,EAAW4N,YAAY6rB,GAGzBsY,KAGI,EAoPJsB,IAhyBAC,KAmyBF,WAEM,EAKJ,IAAIC,GAAmBppB,EAAS5iB,MAAMskC,UAClClQ,EAAcxR,EAAS5iB,MAAMo0B,YAC7ByW,GAAcjoB,EAAS5iB,MAAM4pC,UAC7B1E,EAAW1C,GAAwB5f,EAAShnB,MAAMspC,SAAU,EAAGJ,GAAaI,UAEhF,GAAI8G,GAAmB5X,GAAeyW,EACpC,OAKF,GAFAX,EAAW,SAAU,CAACtnB,IAAW,IAEO,IAApCA,EAAShnB,MAAMmqC,OAAOnjB,GACxB,OAGFA,EAAS5iB,MAAMskC,WAAY,EAC3B1hB,EAAS5iB,MAAM8pC,SAAU,EACzBP,GAAsB,EACtBH,GAAqB,EAEjB6B,MACF/Y,EAAOp1B,MAAMouC,WAAa,UAO5B,GAJAb,IACA4B,IACA1B,IAEIU,IAAwB,CAC1B,IAAIiB,EAAyBZ,IACzB1H,EAAMsI,EAAuBtI,IAC7BlW,EAAUwe,EAAuBxe,QAEjC9K,EAAShnB,MAAMkrC,YACjBzD,GAAsB,CAACO,EAAKlW,GAAUwX,GACtC1B,GAAmB,CAACI,EAAKlW,GAAU,WAIvCie,IACArB,IAEI1nB,EAAShnB,MAAMkrC,UACbmE,KAnmBR,SAA2B/F,EAAU15C,GACnCogD,EAAgB1G,GAAU,YACnBtiB,EAAS5iB,MAAMskC,WAAapS,EAAOz5B,YAAcy5B,EAAOz5B,WAAWigC,SAASxG,IAC/E1mC,OAimBA2gD,CAAkBjH,EAAUtiB,EAASwpB,SAGvCxpB,EAASwpB,WAx1BXC,sBA41BF,SAA+B/6C,GAEzB,EAIJg7C,IAAcl5C,iBAAiB,YAAaq2C,GAC5C3G,GAAa6F,GAAoBc,GACjCA,EAAqBn4C,IAn2BrBi7C,OAonBF,WACE3pB,EAAS5iB,MAAM4pC,WAAY,GApnB3B3hC,QAunBF,WAGE2a,EAASmpB,OACTnpB,EAAS5iB,MAAM4pC,WAAY,GA1nB3BwC,QAo2BF,WAEM,EAIAxpB,EAAS5iB,MAAMskC,WACjB1hB,EAASmpB,OAGX,IAAKnpB,EAAS5iB,MAAM6pC,UAClB,OAGF2C,IAIA/B,KAAsB15C,SAAQ,SAAU25C,GACtCA,EAAaxH,OAAOkJ,aAGlBla,EAAOz5B,YACTy5B,EAAOz5B,WAAW2M,YAAY8sB,GAGhC0W,GAAmBA,GAAiB/W,QAAO,SAAU1mC,GACnD,OAAOA,IAAMy3B,KAEfA,EAAS5iB,MAAM6pC,WAAY,EAC3BK,EAAW,WAAY,CAACtnB,KAj4BxBzrB,QAo4BF,WAEM,EAIJ,GAAIyrB,EAAS5iB,MAAMo0B,YACjB,OAGFxR,EAASmnB,qBACTnnB,EAASwpB,UACTjC,WACOlkC,EAAUi9B,OACjBtgB,EAAS5iB,MAAMo0B,aAAc,EAC7B8V,EAAW,YAAa,CAACtnB,MA74B3B,IAAKhnB,EAAM4qC,OAKT,OAAO5jB,EAMT,IAAI6pB,EAAgB7wC,EAAM4qC,OAAO5jB,GAC7BsP,EAASua,EAAcva,OACvBmW,EAAWoE,EAAcpE,SAE7BnW,EAAO5Q,aAAa,kBAAmB,IACvC4Q,EAAO/Y,GAAK,SAAWyJ,EAASzJ,GAChCyJ,EAASsP,OAASA,EAClBjsB,EAAUi9B,OAAStgB,EACnBsP,EAAOgR,OAAStgB,EAChB,IAAI8pB,EAAepG,EAAQ/oC,KAAI,SAAUgqC,GACvC,OAAOA,EAAOz6C,GAAG81B,MAEf+pB,EAAkB1mC,EAAU+kC,aAAa,iBAuB7C,OAtBAZ,IACAE,IACAC,IACAL,EAAW,WAAY,CAACtnB,IAEpBhnB,EAAM6qC,cACRmG,KAKF1a,EAAO9+B,iBAAiB,cAAc,WAChCwvB,EAAShnB,MAAM0pC,aAAe1iB,EAAS5iB,MAAMskC,WAC/C1hB,EAASmnB,wBAGb7X,EAAO9+B,iBAAiB,cAAc,SAAU9B,GAC1CsxB,EAAShnB,MAAM0pC,aAAe1iB,EAAShnB,MAAM+qC,QAAQj5C,QAAQ,eAAiB,IAChF4+C,IAAcl5C,iBAAiB,YAAaq2C,GAC5CA,EAAqBn4C,OAGlBsxB,EAIP,SAASiqB,IACP,IAAInG,EAAQ9jB,EAAShnB,MAAM8qC,MAC3B,OAAOp6C,MAAMgQ,QAAQoqC,GAASA,EAAQ,CAACA,EAAO,GAGhD,SAASoG,IACP,MAA2C,SAApCD,IAA6B,GAGtC,SAAS5B,IACP,IAAI8B,EAGJ,SAA6D,OAAlDA,EAAwBnqB,EAAShnB,MAAM4qC,aAAkB,EAASuG,EAAsBtE,SAGrG,SAASsC,IACP,OAAO5B,GAAiBljC,EAG1B,SAASqmC,IACP,IAAInnC,EAAS4lC,IAAmBtyC,WAChC,OAAO0M,EAASs+B,GAAiBt+B,GAAU7S,SAG7C,SAASg5C,IACP,OAAOrD,GAAY/V,GAGrB,SAAS8a,EAASC,GAIhB,OAAIrqB,EAAS5iB,MAAM6pC,YAAcjnB,EAAS5iB,MAAMskC,WAAaT,GAAaC,SAAWmF,GAA8C,UAA1BA,EAAiB94C,KACjH,EAGFqyC,GAAwB5f,EAAShnB,MAAMynB,MAAO4pB,EAAS,EAAI,EAAGnI,GAAazhB,OAGpF,SAASknB,IACPrY,EAAOp1B,MAAMowC,cAAgBtqB,EAAShnB,MAAM0pC,aAAe1iB,EAAS5iB,MAAMskC,UAAY,GAAK,OAC3FpS,EAAOp1B,MAAMqqC,OAAS,GAAKvkB,EAAShnB,MAAMurC,OAG5C,SAAS+C,EAAWiD,EAAM39C,EAAM49C,GAY5B,IAAIC,QAXwB,IAA1BD,IACFA,GAAwB,GAG1BV,EAAa37C,SAAQ,SAAUu8C,GACzBA,EAAYH,IACdG,EAAYH,GAAMz9C,WAAM,EAAQF,MAIhC49C,KAGDC,EAAkBzqB,EAAShnB,OAAOuxC,GAAMz9C,MAAM29C,EAAiB79C,GAIpE,SAASm8C,IACP,IAAI3G,EAAOpiB,EAAShnB,MAAMopC,KAE1B,GAAKA,EAAKtX,QAAV,CAIA,IAAI6f,EAAO,QAAUvI,EAAKtX,QACtBvU,EAAK+Y,EAAO/Y,GACJ0pB,GAAiBjgB,EAAShnB,MAAMgrC,eAAiB3gC,GACvDlV,SAAQ,SAAU87B,GACtB,IAAI2gB,EAAe3gB,EAAK8a,aAAa4F,GAErC,GAAI3qB,EAAS5iB,MAAMskC,UACjBzX,EAAKvL,aAAaisB,EAAMC,EAAeA,EAAe,IAAMr0B,EAAKA,OAC5D,CACL,IAAIpqB,EAAYy+C,GAAgBA,EAAa7uC,QAAQwa,EAAI,IAAIva,OAEzD7P,EACF89B,EAAKvL,aAAaisB,EAAMx+C,GAExB89B,EAAKoL,gBAAgBsV,QAM7B,SAASjD,KACHqC,GAAoB/pB,EAAShnB,MAAMopC,KAAKC,UAIhCpC,GAAiBjgB,EAAShnB,MAAMgrC,eAAiB3gC,GACvDlV,SAAQ,SAAU87B,GAClBjK,EAAShnB,MAAM0pC,YACjBzY,EAAKvL,aAAa,gBAAiBsB,EAAS5iB,MAAMskC,WAAazX,IAASke,IAAqB,OAAS,SAEtGle,EAAKoL,gBAAgB,oBAK3B,SAASoS,IACPiC,IAAch5C,oBAAoB,YAAam2C,GAC/Cd,GAAqBA,GAAmB9W,QAAO,SAAUt9B,GACvD,OAAOA,IAAak1C,KAIxB,SAASgE,EAAgBn8C,GAEvB,KAAIuyC,GAAaC,UACXwF,GAA+B,cAAfh4C,EAAMnB,OAMxByyB,EAAShnB,MAAM0pC,aAAepT,EAAOwG,SAASpnC,EAAMC,SAAxD,CAKA,GAAIw5C,IAAmBrS,SAASpnC,EAAMC,QAAS,CAC7C,GAAIsyC,GAAaC,QACf,OAGF,GAAIlhB,EAAS5iB,MAAMskC,WAAa1hB,EAAShnB,MAAM+qC,QAAQj5C,QAAQ,UAAY,EACzE,YAGFw8C,EAAW,iBAAkB,CAACtnB,EAAUtxB,KAGP,IAA/BsxB,EAAShnB,MAAMwpC,cACjBxiB,EAASmnB,qBACTnnB,EAASmpB,OAIT1C,GAAgC,EAChCr9C,YAAW,WACTq9C,GAAgC,KAK7BzmB,EAAS5iB,MAAM6pC,WAClBoC,MAKN,SAASyB,IACPpE,GAAe,EAGjB,SAASqE,IACPrE,GAAe,EAGjB,SAAS6B,IACP,IAAI54C,EAAM+5C,IACV/5C,EAAIa,iBAAiB,YAAaq6C,GAAiB,GACnDl7C,EAAIa,iBAAiB,WAAYq6C,EAAiBnL,IAClD/vC,EAAIa,iBAAiB,aAAcu6C,EAAcrL,IACjD/vC,EAAIa,iBAAiB,YAAas6C,EAAapL,IAGjD,SAAS2J,IACP,IAAI15C,EAAM+5C,IACV/5C,EAAIe,oBAAoB,YAAam6C,GAAiB,GACtDl7C,EAAIe,oBAAoB,WAAYm6C,EAAiBnL,IACrD/vC,EAAIe,oBAAoB,aAAcq6C,EAAcrL,IACpD/vC,EAAIe,oBAAoB,YAAao6C,EAAapL,IAepD,SAASsJ,EAAgB1G,EAAU15C,GACjC,IAAIo4C,EAAM0H,IAA6B1H,IAEvC,SAASrvC,EAASjD,GACZA,EAAMC,SAAWqyC,IACnBD,GAA4BC,EAAK,SAAUrvC,GAC3C/I,KAMJ,GAAiB,IAAb05C,EACF,OAAO15C,IAGTm4C,GAA4BC,EAAK,SAAUsF,GAC3CvF,GAA4BC,EAAK,MAAOrvC,GACxC20C,EAA+B30C,EAGjC,SAASrE,EAAG09C,EAAW1hC,EAASpc,QACd,IAAZA,IACFA,GAAU,GAGA+yC,GAAiBjgB,EAAShnB,MAAMgrC,eAAiB3gC,GACvDlV,SAAQ,SAAU87B,GACtBA,EAAKz5B,iBAAiBw6C,EAAW1hC,EAASpc,GAC1C05C,EAAUp5C,KAAK,CACby8B,KAAMA,EACN+gB,UAAWA,EACX1hC,QAASA,EACTpc,QAASA,OAKf,SAASs6C,IAv1BX,IAAuBp9C,EAw1Bf8/C,MACF58C,EAAG,aAAci2C,EAAW,CAC1BtQ,SAAS,IAEX3lC,EAAG,WAAY29C,EAAc,CAC3BhY,SAAS,MA71BM7oC,EAi2BL41B,EAAShnB,MAAM+qC,QAh2BxB35C,EAAMma,MAAM,OAAO0qB,OAAO1jC,UAg2BO4C,SAAQ,SAAU68C,GACtD,GAAkB,WAAdA,EAMJ,OAFA19C,EAAG09C,EAAWzH,GAENyH,GACN,IAAK,aACH19C,EAAG,aAAc29C,GACjB,MAEF,IAAK,QACH39C,EAAGs0C,GAAO,WAAa,OAAQsJ,GAC/B,MAEF,IAAK,UACH59C,EAAG,WAAY49C,OAMvB,SAAS3D,IACPX,EAAUz4C,SAAQ,SAAU+kC,GAC1B,IAAIjJ,EAAOiJ,EAAKjJ,KACZ+gB,EAAY9X,EAAK8X,UACjB1hC,EAAU4pB,EAAK5pB,QACfpc,EAAUgmC,EAAKhmC,QACnB+8B,EAAKv5B,oBAAoBs6C,EAAW1hC,EAASpc,MAE/C05C,EAAY,GAGd,SAASrD,EAAU70C,GACjB,IAAIy8C,EAEAC,GAA0B,EAE9B,GAAKprB,EAAS5iB,MAAM4pC,YAAaqE,EAAuB38C,KAAU+3C,EAAlE,CAIA,IAAI6E,EAAoG,WAA5C,OAAzCH,EAAoB9E,QAA4B,EAAS8E,EAAkB59C,MAC9F84C,EAAmB33C,EACnB63C,EAAgB73C,EAAM63C,cACtBmB,KAEK1nB,EAAS5iB,MAAMskC,WAAatB,GAAa1xC,IAK5Cq3C,GAAmB53C,SAAQ,SAAUwD,GACnC,OAAOA,EAASjD,MAKD,UAAfA,EAAMnB,OAAqByyB,EAAShnB,MAAM+qC,QAAQj5C,QAAQ,cAAgB,GAAK07C,KAAsD,IAA/BxmB,EAAShnB,MAAMwpC,aAAyBxiB,EAAS5iB,MAAMskC,UAC/J0J,GAA0B,EAE1BpB,GAAat7C,GAGI,UAAfA,EAAMnB,OACRi5C,GAAsB4E,GAGpBA,IAA4BE,GAC9BC,GAAa78C,IAIjB,SAASo4C,EAAYp4C,GACnB,IAAIC,EAASD,EAAMC,OACf68C,EAAgCrD,IAAmBrS,SAASnnC,IAAW2gC,EAAOwG,SAASnnC,GAExE,cAAfD,EAAMnB,MAAwBi+C,GAx1BtC,SAA0CC,EAAgB/8C,GACxD,IAAIO,EAAUP,EAAMO,QAChBE,EAAUT,EAAMS,QACpB,OAAOs8C,EAAe1P,OAAM,SAAU7I,GACpC,IAAIkB,EAAalB,EAAKkB,WAClBsX,EAAcxY,EAAKwY,YAEnB/I,EADQzP,EAAKl6B,MACa2pC,kBAC1BjP,EAAgB,GAAiBgY,EAAYjc,WAC7CqJ,EAAa4S,EAAYta,cAAcxvB,OAE3C,IAAKk3B,EACH,OAAO,EAGT,IAAI6S,EAAgC,WAAlBjY,EAA6BoF,EAAWriC,IAAIvH,EAAI,EAC9D08C,EAAmC,QAAlBlY,EAA0BoF,EAAWpiC,OAAOxH,EAAI,EACjE28C,EAAiC,UAAlBnY,EAA4BoF,EAAWxiC,KAAKtH,EAAI,EAC/D88C,EAAkC,SAAlBpY,EAA2BoF,EAAWviC,MAAMvH,EAAI,EAChE+8C,EAAa3X,EAAW39B,IAAMtH,EAAUw8C,EAAchJ,EACtDqJ,EAAgB78C,EAAUilC,EAAW19B,OAASk1C,EAAiBjJ,EAC/DsJ,EAAc7X,EAAW99B,KAAOrH,EAAU48C,EAAelJ,EACzDuJ,EAAej9C,EAAUmlC,EAAW79B,MAAQu1C,EAAgBnJ,EAChE,OAAOoJ,GAAcC,GAAiBC,GAAeC,KAs1BjDC,CAjBiBtE,KAAsB7yC,OAAOs6B,GAAQ30B,KAAI,SAAU20B,GACtE,IAAI8c,EAGAhvC,EAA6D,OAApDgvC,EADE9c,EAAOgR,OACwByG,qBAA0B,EAASqF,EAAsBhvC,MAEvG,OAAIA,EACK,CACLg3B,WAAY9E,EAAO/1B,wBACnBmyC,YAAatuC,EACbpE,MAAOA,GAIJ,QACNi2B,OAAO1jC,SAE2CmD,KACnD+4C,IACA8D,GAAa78C,IAIjB,SAASu8C,EAAav8C,GACH28C,EAAuB38C,IAAUsxB,EAAShnB,MAAM+qC,QAAQj5C,QAAQ,UAAY,GAAK07C,IAM9FxmB,EAAShnB,MAAM0pC,YACjB1iB,EAASypB,sBAAsB/6C,GAIjC68C,GAAa78C,IAGf,SAASw8C,EAAiBx8C,GACpBsxB,EAAShnB,MAAM+qC,QAAQj5C,QAAQ,WAAa,GAAK4D,EAAMC,SAAWw5C,KAKlEnoB,EAAShnB,MAAM0pC,aAAeh0C,EAAM+J,eAAiB62B,EAAOwG,SAASpnC,EAAM+J,gBAI/E8yC,GAAa78C,GAGf,SAAS28C,EAAuB38C,GAC9B,QAAOuyC,GAAaC,SAAUgJ,MAA+Bx7C,EAAMnB,KAAKzC,QAAQ,UAAY,EAG9F,SAAS88C,IACPgC,IACA,IAAIyC,EAAmBrsB,EAAShnB,MAC5B2qC,EAAgB0I,EAAiB1I,cACjClU,EAAY4c,EAAiB5c,UAC7B7tB,EAASyqC,EAAiBzqC,OAC1B2gC,EAAyB8J,EAAiB9J,uBAC1CM,EAAiBwJ,EAAiBxJ,eAClCtN,EAAQ8S,IAAyBhD,GAAY/V,GAAQiG,MAAQ,KAC7D+W,EAAoB/J,EAAyB,CAC/ChpC,sBAAuBgpC,EACvB3Q,eAAgB2Q,EAAuB3Q,gBAAkBuW,KACvD9kC,EA4BAusB,EAAY,CAAC,CACf/2B,KAAM,SACN3L,QAAS,CACP0U,OAAQA,IAET,CACD/I,KAAM,kBACN3L,QAAS,CACPmrC,QAAS,CACP5hC,IAAK,EACLC,OAAQ,EACRJ,KAAM,EACNC,MAAO,KAGV,CACDsC,KAAM,OACN3L,QAAS,CACPmrC,QAAS,IAEV,CACDx/B,KAAM,gBACN3L,QAAS,CACPonC,UAAWuO,IAlDK,CAClBhqC,KAAM,UACNq5B,SAAS,EACTL,MAAO,cACP3B,SAAU,CAAC,iBACXhmC,GAAI,SAAYgqC,GACd,IAAI92B,EAAQ82B,EAAM92B,MAElB,GAAIirC,IAAwB,CAC1B,IACIrH,EADwB0H,IACI1H,IAEhC,CAAC,YAAa,mBAAoB,WAAW7yC,SAAQ,SAAUw8C,GAChD,cAATA,EACF3J,EAAItiB,aAAa,iBAAkBthB,EAAMqyB,WAErCryB,EAAMi0B,WAAW/B,OAAO,eAAiBqb,GAC3C3J,EAAItiB,aAAa,QAAUisB,EAAM,IAEjC3J,EAAI3L,gBAAgB,QAAUsV,MAIpCvtC,EAAMi0B,WAAW/B,OAAS,OA+B5B+Y,KAA0B9S,GAC5B3F,EAAUpiC,KAAK,CACbqL,KAAM,QACN3L,QAAS,CACP4B,QAASymC,EACT8C,QAAS,KAKfzI,EAAUpiC,KAAKV,MAAM8iC,GAA6B,MAAjB+T,OAAwB,EAASA,EAAc/T,YAAc,IAC9F5P,EAAS+mB,eAAiB,GAAauF,EAAmBhd,EAAQpjC,OAAOy6B,OAAO,GAAIgd,EAAe,CACjGlU,UAAWA,EACXuD,cAAeA,EACfpD,UAAWA,KAIf,SAASga,IACH5pB,EAAS+mB,iBACX/mB,EAAS+mB,eAAexyC,UACxByrB,EAAS+mB,eAAiB,MAmC9B,SAASc,KACP,OAAOpuC,GAAU61B,EAAO50B,iBAAiB,sBAG3C,SAASsvC,GAAat7C,GACpBsxB,EAASmnB,qBAELz4C,GACF44C,EAAW,YAAa,CAACtnB,EAAUtxB,IAGrC65C,IACA,IAAI9nB,EAAQ2pB,GAAS,GAEjBmC,EAAwBtC,IACxBuC,EAAaD,EAAsB,GACnCE,EAAaF,EAAsB,GAEnCtL,GAAaC,SAA0B,SAAfsL,GAAyBC,IACnDhsB,EAAQgsB,GAGNhsB,EACFylB,EAAc98C,YAAW,WACvB42B,EAAS+nB,SACRtnB,GAEHT,EAAS+nB,OAIb,SAASwD,GAAa78C,GAIpB,GAHAsxB,EAASmnB,qBACTG,EAAW,cAAe,CAACtnB,EAAUtxB,IAEhCsxB,EAAS5iB,MAAMskC,WASpB,KAAI1hB,EAAShnB,MAAM+qC,QAAQj5C,QAAQ,eAAiB,GAAKk1B,EAAShnB,MAAM+qC,QAAQj5C,QAAQ,UAAY,GAAK,CAAC,aAAc,aAAaA,QAAQ4D,EAAMnB,OAAS,GAAKi5C,GAAjK,CAIA,IAAI/lB,EAAQ2pB,GAAS,GAEjB3pB,EACF0lB,EAAc/8C,YAAW,WACnB42B,EAAS5iB,MAAMskC,WACjB1hB,EAASmpB,SAEV1oB,GAIH2lB,EAA6B99C,uBAAsB,WACjD03B,EAASmpB,gBAxBXE,KAsUN,SAASqD,GAAMC,EAASC,QACA,IAAlBA,IACFA,EAAgB,IAGlB,IAAIlJ,EAAUxB,GAAawB,QAAQ1uC,OAAO43C,EAAclJ,SAAW,IAjyCnEh0C,SAASc,iBAAiB,aAAc4wC,GAAsB1B,IAC9Dh3C,OAAO8H,iBAAiB,OAAQ+wC,IAyyChC,IAAImD,EAAcx4C,OAAOy6B,OAAO,GAAIimB,EAAe,CACjDlJ,QAASA,IAWPmJ,EATWtM,GAAmBoM,GASTzxC,QAAO,SAAUs0B,EAAKnsB,GAC7C,IAAI2c,EAAW3c,GAAa4iC,GAAY5iC,EAAWqhC,GAMnD,OAJI1kB,GACFwP,EAAIhiC,KAAKwyB,GAGJwP,IACN,IACH,OAAO,GAAUmd,GAAWE,EAAU,GAAKA,EAG7CH,GAAMxK,aAAeA,GACrBwK,GAAMI,gBA3sCgB,SAAyBzF,GAMlCn7C,OAAO8e,KAAKq8B,GAClBl5C,SAAQ,SAAU0a,GACrBq5B,GAAar5B,GAAOw+B,EAAax+B,OAosCrC6jC,GAAMzL,aAAeA,GAiCK/0C,OAAOy6B,OAAO,GAAI,GAAa,CACvD0L,OAAQ,SAAgBa,GACtB,IAAI91B,EAAQ81B,EAAK91B,MACbk4B,EAAgB,CAClBhG,OAAQ,CACNd,SAAUpxB,EAAMlQ,QAAQsjC,SACxBl6B,KAAM,IACNG,IAAK,IACL3C,OAAQ,KAEVyhC,MAAO,CACL/G,SAAU,YAEZnrB,UAAW,IAEbnX,OAAOy6B,OAAOvpB,EAAM1J,SAAS47B,OAAOp1B,MAAOo7B,EAAchG,QACzDlyB,EAAMk0B,OAASgE,EAEXl4B,EAAM1J,SAAS6hC,OACjBrpC,OAAOy6B,OAAOvpB,EAAM1J,SAAS6hC,MAAMr7B,MAAOo7B,EAAcC,UAsxB9DmX,GAAMI,gBAAgB,CACpBlJ,OAAQA,KAGV,YC51EA,kBAkCI,WAAY12C,GAAZ,WACI,GAnBI,KAAA6/C,UAAoB,EAGpB,KAAA9kB,UAAoB,EAGpB,KAAA+kB,sBAAiD,GAatC3/C,MAAXH,EACA,KAAM,qCAGV,QAAwBG,IAApBH,EAAQ+/C,QACR,KAAM,gCAGV,QAAgC5/C,IAA5BH,EAAQ06B,iBAA6D,KAA5B16B,EAAQ06B,gBACjD,KAAM,gCAMV,GAHA97B,KAAKoB,QAAUA,EACfpB,KAAKohD,eAAiBx9C,SAAS2K,cAAcvO,KAAKoB,QAAQ06B,iBAE9B,OAAxB97B,KAAKohD,eACL,KAAM,gDAMV,IAHAphD,KAAKohD,eAAellB,UAAUn2B,IAAI,iBAGQ,OAAnC/F,KAAKohD,eAAe5tB,YACvBxzB,KAAKohD,eAAe1qC,YAAY1W,KAAKohD,eAAe5tB,YAGxD,IAAM6tB,GAAoB,UAC1BrhD,KAAKi4B,MAAQj4B,KAAKshD,YAAYD,EAAkBxoB,eAAe,iDAE/D74B,KAAKi4B,MAAMz2B,GAAG,eAAgBxB,KAAKuhD,mBAAmBhkD,KAAKyC,OAC3DA,KAAKi4B,MAAMz2B,GAAG,YAAaxB,KAAKwhD,gBAAgBjkD,KAAKyC,OACrDA,KAAKi4B,MAAMz2B,GAAG,cAAexB,KAAKyhD,kBAAkBlkD,KAAKyC,OACzDA,KAAKi4B,MAAMz2B,GAAG,cAAexB,KAAK0hD,kBAAkBnkD,KAAKyC,OACzDA,KAAKi4B,MAAMz2B,GAAG,YAAaxB,KAAK2hD,gBAAgBpkD,KAAKyC,OAErDqhD,EAAkB5sC,QAAQyG,MAAK,gD,kDAC3B,SAAMlb,KAAK4hD,0B,cAAX,S,cA2kBZ,OA/jBkB,YAAAA,uBAAd,W,yHAEoB,O,sBAAA,GAAM5hD,KAAKi4B,MAAO4pB,OAAOC,kBAAkB9hD,KAAKoB,QAAQ+/C,U,OAEpE,GAAc,QAFVllB,EAAQ,UAIR,OADAj8B,KAAK+hD,UAAU,6CACf,IAcJ,IAAS9jB,KAXTj+B,KAAKm8B,SAAWF,EAAME,SAGhB6lB,EAAgBp+C,SAASqjB,cAAc,OAC7CjnB,KAAKohD,eAAgBzpC,YAAYqqC,GAEjChiD,KAAKiiD,OAAS,IAAIC,EAAYF,EAAe,CACzC7lB,SAAUn8B,KAAKm8B,W,WAIV8B,GACL,IAAMP,EAASzB,EAAMkmB,QAAQlkB,GAE7B,EAAKgkB,OAAOpkB,UAAU,CAClBpT,GAAIiT,EAAOjT,GACX4U,OAAQ,EAAK+iB,gBAAgB1kB,KAIhB,OADb2kB,EAAsD,QAA1C,IAAKJ,OAAO/jB,oBAAoBR,EAAOjT,WAAG,eAAElc,cAAc,2BACnChN,IAAd8gD,GACrBA,EAAU39C,iBAAiB,UAAU,WAAM,SAAK49C,eAAe5kB,EAAOjT,OAG1E,EAAK83B,uBAAuB7kB,EAAOjT,K,OAbfwR,EAAMkmB,Q,EAArBlkB,G,OAgBTj+B,KAAKwiD,0BAELxiD,KAAKiiD,OAAOzgD,GAAG,YAAaxB,KAAKyiD,gBAAgBllD,KAAKyC,O,aAItD,M,WADAkM,QAAQC,IAAI,GACN,E,yBAUN,YAAAm2C,eAAR,SAAuB/kB,G,MACnB,GAAKv9B,KAAK0iD,UAAV,CAIA,IAAMtjB,EAA0D,QAA1C,EAAAp/B,KAAKiiD,OAAQ/jB,oBAAoBX,UAAS,eAAEhvB,cAAc,oBAE5E6wB,MAAAA,IAIgD,IAAhDp/B,KAAK2iD,6BAA6BplB,IAClCv9B,KAAKuiD,uBAAuBhlB,KAU5B,YAAAolB,6BAAR,SAAqCplB,G,MAC3B6B,EAA0D,QAA1C,EAAAp/B,KAAKiiD,OAAQ/jB,oBAAoBX,UAAS,eAAEhvB,cAAc,oBAEhF,GAAI6wB,MAAAA,EACA,OAAO,EAGX,IAAMl7B,EAAYk7B,EAAcl7B,UAIhC,OAHqBk7B,EAAc0L,aAGb5mC,EAFPk7B,EAAc3xB,wBAAwBF,OAEV,KAAO,GAQxC,YAAAg1C,uBAAd,SAAqChlB,G,4GACjC,IAA6C,IAAzCv9B,KAAKkhD,sBAAsB3jB,GAC3B,UAGJv9B,KAAKkhD,sBAAsB3jB,IAAY,EAG9BqlB,EAAY,E,sBAAGA,EAAY,IAAE,Y,iBAMb,O,sBAJXC,EAAgB7iD,KAAKiiD,OAAQ5jB,oBAAoBd,GACnDulB,EAAaD,EAAclmD,OAAS,EAAIkmD,EAAcA,EAAclmD,OAAS,GAAK,KAGrE,GAAMomD,MADX,yDAAyDxlB,EAAQ,gBAAeulB,MAAAA,EAAAA,EAAc,IAAE,c,OAG5G,OAFMp8B,EAAW,UAEHs8B,GAKY,GAAMt8B,EAASC,SAJrC3mB,KAAKijD,YACL,K,OAKJ,GAAc,QAFR9lB,EAAoB,UAItB,OADAn9B,KAAKijD,YACL,IAGJ,IAASrlB,KAAaT,EACZN,EAAOM,EAAMS,GAEnB59B,KAAKiiD,OAAQ3jB,gBAAgB,CACzB7T,GAAIoS,EAAKpS,GACTuU,QAASh/B,KAAKo+B,kBAAkBvB,IACjCU,EAAUulB,GAEbA,EAAajmB,EAAKpS,GAGtB,OAAqB,IAAjB0S,EAAMxgC,OAGN,IAICqD,KAAK2iD,6BAA6BplB,G,MACnC,M,OASJ,O,SALAv9B,KAAKkhD,sBAAsB3jB,IAAY,EACvCv9B,KAAKijD,YAIL,I,cAhDgCL,I,oBAoDxC5iD,KAAKkhD,sBAAsB3jB,IAAY,E,YASnC,YAAA6kB,gBAAR,SAAwB1kB,GAAxB,WACU2B,EAASz7B,SAASqjB,cAAc,OACtCoY,EAAOnD,UAAUn2B,IAAI,UAErB,IAAMm9C,EAAQt/C,SAASqjB,cAAc,QACrCi8B,EAAMhnB,UAAUn2B,IAAI,SACpBm9C,EAAMzjB,UAAY/B,EAAO3wB,KAEzB,IAAMo2C,EAAOv/C,SAASqjB,cAAc,QACpCk8B,EAAKjnB,UAAUn2B,IAAI,QACnBo9C,EAAKjkB,UAAY,mCAEjB,IAAMkkB,EAAcx/C,SAASqjB,cAAc,OAC3Cm8B,EAAYlnB,UAAUn2B,IAAI,aAAc,iBAExC,IAAMs9C,EAAiBz/C,SAASqjB,cAAc,KAC9Co8B,EAAen8B,KAAO,IACtBm8B,EAAe5jB,UAAY,iBAC3B4jB,EAAennB,UAAUn2B,IAAI,mBAE7B,IAAMu9C,EAAc1/C,SAASqjB,cAAc,KAC3Cq8B,EAAYp8B,KAAO,IACnBo8B,EAAY7jB,UAAY,cACxB6jB,EAAYpnB,UAAUn2B,IAAI,mBAE1Bq9C,EAAYG,OAAOF,EAAgBC,GAE/BtjD,KAAKm8B,WACLknB,EAAennB,UAAUn2B,IAAI,YAC7Bu9C,EAAYpnB,UAAUn2B,IAAI,aAG9B,IAAMy9C,EAAY,GAAML,EAAM,CAC1BvM,aAAa,EACbqB,QAAS,QACTxO,OAAO,EACPzK,QAASokB,EACT5K,MAAO,UAiCX,OA9BA6K,EAAe3+C,iBAAiB,SAAS,SAAA++C,GACrCA,EAAGp+C,iBAECg+C,EAAennB,UAAU8N,SAAS,cAItCwZ,EAAUnG,YAEwB97C,IAA9B,EAAKH,QAAQsiD,cACb,EAAKtiD,QAAQsiD,aAAahmB,EAAOjT,QAIzC64B,EAAY5+C,iBAAiB,SAAS,SAAA++C,GAClCA,EAAGp+C,iBAECg+C,EAAennB,UAAU8N,SAAS,cAItCwZ,EAAUnG,YAEqB97C,IAA3B,EAAKH,QAAQuiD,WACb,EAAKviD,QAAQuiD,UAAUjmB,EAAOjT,QAItC4U,EAAOkkB,OAAOL,EAAOC,GAEd9jB,GASH,YAAAjB,kBAAR,SAA0BvB,GAA1B,WAEU5kB,EAAYrU,SAASqjB,cAAc,OACzChP,EAAUinB,UAAYrC,EAAKmC,QAGrBpiC,OAAe,EAAGqb,EAAUrJ,iBAAiB,4BAC9Cg1C,QAAQ,CACL3rC,UAAW,OACX0c,MAAO,CACHsnB,KAAM,IACNoB,KAAM,OAIlB,IAAM8F,EAAOv/C,SAASqjB,cAAc,QACpCk8B,EAAKjnB,UAAUn2B,IAAI,QACnBo9C,EAAKjkB,UAAY,mCAEjB,IAAMkkB,EAAcx/C,SAASqjB,cAAc,OAC3Cm8B,EAAYlnB,UAAUn2B,IAAI,aAAc,iBAExC,IAAM89C,EAAajgD,SAASqjB,cAAc,KAC1C48B,EAAW38B,KAAO,IAClB28B,EAAWpkB,UAAY,YACvBokB,EAAW3nB,UAAUn2B,IAAI,mBAErB/F,KAAKm8B,UACL0nB,EAAW3nB,UAAUn2B,IAAI,YAG7Bq9C,EAAYG,OAAOM,GAEnB,IAAML,EAAY,GAAML,EAAM,CAC1BvM,aAAa,EACbP,SAAA,SAASyN,G,MACL,OAAoC,QAA7B,EAAAA,EAAIvnB,QAAQ,yBAAiB,QAAI34B,SAASG,MAErDk0C,QAAS,QACTxO,OAAO,EACPzK,QAASokB,EACT5K,MAAO,UAGXqL,EAAWn/C,iBAAiB,SAAS,SAAA++C,GACjCA,EAAGp+C,iBAECw+C,EAAW3nB,UAAU8N,SAAS,cAIlCwZ,EAAUnG,OAEV0G,QAAQC,OAAO,CACXpgC,QAAS,6CACTlX,QAAS,CACLs2C,GAAI,CACAxnB,MAAO,KACP5rB,UAAW,cACX9S,SAAU,gD,kDAGa,O,sBADfkD,KAAKiiD,OAAQ9iB,WAAWtC,EAAKpS,IACd,GAAMzqB,KAAKi4B,MAAO4pB,OAAOoC,gBAAgBpnB,EAAKpS,K,cAA9C,UAEXzqB,KAAKijD,Y,6BAITjjD,KAAKijD,Y,gCAIjBruC,OAAQ,CACJ4mB,MAAO,SACP5rB,UAAW,sBAM3B,IAAMs0C,EAAcjsC,EAAU1J,cAAc,iBAQ5C,OAPoB,OAAhB21C,GAAmD,OAA3BA,EAAY1wB,WACpC0wB,EAAY1wB,WAAW2wB,OAAOhB,GAG9BlrC,EAAUsrC,OAAOJ,GAGdlrC,GASH,YAAAqpC,YAAR,SAAoBrpB,GAChB,IAAMtC,EAAyBsC,EAgB/B,OAdAtC,EAASksB,OAAS,CACdC,kBAAmB,SAAUX,GACzB,OAA2BxrB,EAASgB,OAAO,eAAgBwqB,IAG/DiD,cAAe,SAAU3nB,EAAgBc,EAAkBD,GACvD,OAAyB3H,EAASgB,OAAO,WAAY8F,EAAQc,EAAUD,IAG3E2mB,gBAAiB,SAAUxnB,GACvB,OAAyB9G,EAASgB,OAAO,aAAc8F,KAIxD9G,GASH,YAAA+sB,QAAR,WACI,YAAuBnhD,IAAhBvB,KAAKiiD,aAAuC1gD,IAAfvB,KAAKi4B,QAAyC,IAAlBj4B,KAAKihD,UAMjE,YAAAgC,UAAR,WACIjjD,KAAK+hD,UAAU,yEAQX,YAAAA,UAAR,SAAkBn+B,G,MACd5jB,KAAKihD,UAAW,EAEhB,IAAMoD,EAAezgD,SAASqjB,cAAc,OAC5Co9B,EAAanoB,UAAUn2B,IAAI,kBACR,QAAnB,EAAA/F,KAAKohD,sBAAc,SAAEzpC,YAAY0sC,GAEjC,IAAMC,EAAY1gD,SAASqjB,cAAc,OACzCq9B,EAAUpoB,UAAUn2B,IAAI,iBACxBs+C,EAAa1sC,YAAY2sC,GAEzB,IAAMC,EAAc3gD,SAASqjB,cAAc,OAC3Cs9B,EAAYroB,UAAUn2B,IAAI,iBAC1Bu+C,EAAU3sC,YAAY4sC,GAEtB,IAAMC,EAAiB5gD,SAASqjB,cAAc,OAC9Cu9B,EAAetoB,UAAUn2B,IAAI,eAC7By+C,EAAe/kB,UAAY,QAC3B8kB,EAAY5sC,YAAY6sC,GAExB,IAAMC,EAAgB7gD,SAASqjB,cAAc,OAC7Cw9B,EAAcvoB,UAAUn2B,IAAI,cAC5Bw+C,EAAY5sC,YAAY8sC,GAExB,IAAMC,EAAgB9gD,SAASqjB,cAAc,KAC7Cy9B,EAAcjlB,UAAY7b,EAC1B6gC,EAAc9sC,YAAY+sC,GAE1B,IAAMC,EAAsB/gD,SAASqjB,cAAc,OACnD09B,EAAoBzoB,UAAUn2B,IAAI,eAClC0+C,EAAc9sC,YAAYgtC,GAE1B,IAAMC,EAAmBhhD,SAASqjB,cAAc,QAChD29B,EAAiB1oB,UAAUn2B,IAAI,MAAO,eACtC6+C,EAAiBnlB,UAAY,SAC7BklB,EAAoBhtC,YAAYitC,GAEhCA,EAAiBlgD,iBAAiB,SAAS,WACvC9H,OAAOoqB,SAAS69B,aAOhB,YAAAC,kBAAR,WACI,IAAMC,EAAanhD,SAAS2K,cAAc,gBACpCy2C,EAAkC,OAAfD,EAAsBA,EAAWt3C,wBAAwBF,OAAS,EACrF0uB,EAAQj8B,KAAKohD,eAAgB7yC,cAAc,iBAC3C6C,EAAexN,SAASE,gBAAgBsN,aAE9C6qB,EAAM7tB,MAAMb,OAAU6D,EAAe6qB,EAAMxuB,wBAAwB9C,IAAMq6C,EAAmB,EAAK,MAQ7F,YAAAxC,wBAAR,WACI,IAAMyC,EAA2BrhD,SAAS2K,cAAc,iBAEpC,OAAhB02C,IACAA,EAAY72C,MAAM82C,UAAY,QAGlCtoD,OAAO8H,iBAAiB,SAAU1E,KAAK8kD,kBAAkBvnD,KAAKyC,OAM1D,8BAA8B4G,KAAKhD,SAASwa,YAC5Cpe,KAAK8kD,oBAELloD,OAAO8H,iBAAiB,mBAAoB1E,KAAK8kD,kBAAkBvnD,KAAKyC,QAiBlE,YAAAyiD,gBAAd,SAA8BhmB,EAAgBc,EAAkBD,EAA4B6nB,G,0FACxF,IAAKnlD,KAAK0iD,UACN,U,IAGAyC,EAAA,Y,iBAEmB,O,sBAAA,GAAMnlD,KAAKi4B,MAAO4pB,OAAOuC,cAAc3nB,EAAQc,EAAUD,I,cAEzD,IAFA,UAGXt9B,KAAKijD,Y,6BAITjjD,KAAKijD,Y,+BAYT,YAAA1B,mBAAR,SAA2BJ,GAClBnhD,KAAK0iD,WAAa1iD,KAAKoB,QAAQ+/C,UAAYA,GAIhDnhD,KAAKijD,aAWD,YAAAzB,gBAAR,SAAwBL,EAAiB1kB,EAAgB2oB,EAAsBC,GAC3E,GAAKrlD,KAAK0iD,WAAa1iD,KAAKoB,QAAQ+/C,UAAYA,EAIhD,OAAuD,OAAnDnhD,KAAKiiD,OAAQ/jB,oBAAoBknB,GAC1BplD,KAAKijD,iBAGhBjjD,KAAKiiD,OAAQzjB,SAAS/B,EAAQ2oB,EAAcC,IASxC,YAAA5D,kBAAR,SAA0BN,EAAiBtkB,GACvC,GAAK78B,KAAK0iD,WAAa1iD,KAAKoB,QAAQ+/C,UAAYA,EAAhD,CAIA,IAAMniB,EAAUh/B,KAAKo+B,kBAAkBvB,GACvC78B,KAAKiiD,OAAQljB,kBAAkBlC,EAAKpS,GAAIuU,KASpC,YAAA0iB,kBAAR,SAA0BP,EAAiB1kB,GAClCz8B,KAAK0iD,WAAa1iD,KAAKoB,QAAQ+/C,UAAYA,GAIhDnhD,KAAKiiD,OAAQ9iB,WAAW1C,IAWpB,YAAAklB,gBAAR,SAAwBR,EAAiBtkB,EAAgBF,EAAoBW,GACpEt9B,KAAK0iD,WAAa1iD,KAAKoB,QAAQ+/C,UAAYA,GAIhDnhD,KAAKiiD,OAAQ3jB,gBAAgB,CACzB7T,GAAIoS,EAAKpS,GACTuU,QAASh/B,KAAKo+B,kBAAkBvB,IACjCF,EAAYW,IAIvB,EAlpBA,I","sources":["webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/animation-frame-polyfill/lib/animation-frame-polyfill.module.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/array-from/index.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/array-from/polyfill.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/atoa/atoa.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/contra/debounce.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/contra/emitter.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/create-point-cb/dist/bundle.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/crossvent/src/crossvent.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/crossvent/src/eventmap.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/custom-event/index.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/dom-autoscroller/dist/bundle.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/dom-mousemove-dispatcher/dist/bundle.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/dom-plane/dist/bundle.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/dom-set/dist/bundle.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/dragula/classes.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/dragula/dragula.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/is-array/index.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/iselement/module/index.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/jquery-deferred/index.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/jquery-deferred/lib/jquery-callbacks.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/jquery-deferred/lib/jquery-core.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/jquery-deferred/lib/jquery-deferred.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/jquery-param/jquery-param.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/signalr-no-jquery/build/jQueryShim.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/signalr-no-jquery/build/signalR.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/ticky/ticky-browser.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/tiny-emitter/index.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/type-func/dist/bundle.js","webpack://BlueBoxMoon.ProjectManagement/webpack/bootstrap","webpack://BlueBoxMoon.ProjectManagement/webpack/runtime/compat get default export","webpack://BlueBoxMoon.ProjectManagement/webpack/runtime/define property getters","webpack://BlueBoxMoon.ProjectManagement/webpack/runtime/global","webpack://BlueBoxMoon.ProjectManagement/webpack/runtime/hasOwnProperty shorthand","webpack://BlueBoxMoon.ProjectManagement/webpack/runtime/make namespace object","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/tslib/tslib.es6.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/src/kanban-board.ts","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getWindow.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/enums.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/orderModifiers.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/createPopper.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/debounce.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/mergeByName.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/modifiers/eventListeners.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/getBasePlacement.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/getVariation.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/computeOffsets.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/math.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/modifiers/computeStyles.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/modifiers/applyStyles.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/contains.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/rectToClientRect.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/expandToHashMap.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/detectOverflow.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/within.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/modifiers/hide.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/popper.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/modifiers/offset.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/modifiers/flip.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/utils/getAltAxis.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/@popperjs/core/lib/modifiers/arrow.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/node_modules/tippy.js/dist/tippy.esm.js","webpack://BlueBoxMoon.ProjectManagement/../../../../source/repos/rock-project-management/Scripts/src/project-board.ts"],"sourcesContent":["var prefix = ['webkit', 'moz', 'ms', 'o'];\nexport var requestAnimationFrame = function () {\n  for (var i = 0, limit = prefix.length; i < limit && !window.requestAnimationFrame; ++i) {\n    window.requestAnimationFrame = window[prefix[i] + 'RequestAnimationFrame'];\n  }\n\n  if (!window.requestAnimationFrame) {\n    var lastTime = 0;\n\n    window.requestAnimationFrame = function (callback) {\n      var now = new Date().getTime();\n      var ttc = Math.max(0, 16 - now - lastTime);\n      var timer = window.setTimeout(function () {\n        return callback(now + ttc);\n      }, ttc);\n      lastTime = now + ttc;\n      return timer;\n    };\n  }\n\n  return window.requestAnimationFrame.bind(window);\n}();\nexport var cancelAnimationFrame = function () {\n  for (var i = 0, limit = prefix.length; i < limit && !window.cancelAnimationFrame; ++i) {\n    window.cancelAnimationFrame = window[prefix[i] + 'CancelAnimationFrame'] || window[prefix[i] + 'CancelRequestAnimationFrame'];\n  }\n\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = function (timer) {\n      window.clearTimeout(timer);\n    };\n  }\n\n  return window.cancelAnimationFrame.bind(window);\n}();\n","module.exports = (typeof Array.from === 'function' ?\n  Array.from :\n  require('./polyfill')\n);\n","// Production steps of ECMA-262, Edition 6, 22.1.2.1\n// Reference: http://www.ecma-international.org/ecma-262/6.0/#sec-array.from\nmodule.exports = (function() {\n  var isCallable = function(fn) {\n    return typeof fn === 'function';\n  };\n  var toInteger = function (value) {\n    var number = Number(value);\n    if (isNaN(number)) { return 0; }\n    if (number === 0 || !isFinite(number)) { return number; }\n    return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n  };\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n  var toLength = function (value) {\n    var len = toInteger(value);\n    return Math.min(Math.max(len, 0), maxSafeInteger);\n  };\n  var iteratorProp = function(value) {\n    if(value != null) {\n      if(['string','number','boolean','symbol'].indexOf(typeof value) > -1){\n        return Symbol.iterator;\n      } else if (\n        (typeof Symbol !== 'undefined') &&\n        ('iterator' in Symbol) &&\n        (Symbol.iterator in value)\n      ) {\n        return Symbol.iterator;\n      }\n      // Support \"@@iterator\" placeholder, Gecko 27 to Gecko 35\n      else if ('@@iterator' in value) {\n        return '@@iterator';\n      }\n    }\n  };\n  var getMethod = function(O, P) {\n    // Assert: IsPropertyKey(P) is true.\n    if (O != null && P != null) {\n      // Let func be GetV(O, P).\n      var func = O[P];\n      // ReturnIfAbrupt(func).\n      // If func is either undefined or null, return undefined.\n      if(func == null) {\n        return void 0;\n      }\n      // If IsCallable(func) is false, throw a TypeError exception.\n      if (!isCallable(func)) {\n        throw new TypeError(func + ' is not a function');\n      }\n      return func;\n    }\n  };\n  var iteratorStep = function(iterator) {\n    // Let result be IteratorNext(iterator).\n    // ReturnIfAbrupt(result).\n    var result = iterator.next();\n    // Let done be IteratorComplete(result).\n    // ReturnIfAbrupt(done).\n    var done = Boolean(result.done);\n    // If done is true, return false.\n    if(done) {\n      return false;\n    }\n    // Return result.\n    return result;\n  };\n\n  // The length property of the from method is 1.\n  return function from(items /*, mapFn, thisArg */ ) {\n    'use strict';\n\n    // 1. Let C be the this value.\n    var C = this;\n\n    // 2. If mapfn is undefined, let mapping be false.\n    var mapFn = arguments.length > 1 ? arguments[1] : void 0;\n\n    var T;\n    if (typeof mapFn !== 'undefined') {\n      // 3. else\n      //   a. If IsCallable(mapfn) is false, throw a TypeError exception.\n      if (!isCallable(mapFn)) {\n        throw new TypeError(\n          'Array.from: when provided, the second argument must be a function'\n        );\n      }\n\n      //   b. If thisArg was supplied, let T be thisArg; else let T\n      //      be undefined.\n      if (arguments.length > 2) {\n        T = arguments[2];\n      }\n      //   c. Let mapping be true (implied by mapFn)\n    }\n\n    var A, k;\n\n    // 4. Let usingIterator be GetMethod(items, @@iterator).\n    // 5. ReturnIfAbrupt(usingIterator).\n    var usingIterator = getMethod(items, iteratorProp(items));\n\n    // 6. If usingIterator is not undefined, then\n    if (usingIterator !== void 0) {\n      // a. If IsConstructor(C) is true, then\n      //   i. Let A be the result of calling the [[Construct]]\n      //      internal method of C with an empty argument list.\n      // b. Else,\n      //   i. Let A be the result of the abstract operation ArrayCreate\n      //      with argument 0.\n      // c. ReturnIfAbrupt(A).\n      A = isCallable(C) ? Object(new C()) : [];\n\n      // d. Let iterator be GetIterator(items, usingIterator).\n      var iterator = usingIterator.call(items);\n\n      // e. ReturnIfAbrupt(iterator).\n      if (iterator == null) {\n        throw new TypeError(\n          'Array.from requires an array-like or iterable object'\n        );\n      }\n\n      // f. Let k be 0.\n      k = 0;\n\n      // g. Repeat\n      var next, nextValue;\n      while (true) {\n        // i. Let Pk be ToString(k).\n        // ii. Let next be IteratorStep(iterator).\n        // iii. ReturnIfAbrupt(next).\n        next = iteratorStep(iterator);\n\n        // iv. If next is false, then\n        if (!next) {\n\n          // 1. Let setStatus be Set(A, \"length\", k, true).\n          // 2. ReturnIfAbrupt(setStatus).\n          A.length = k;\n\n          // 3. Return A.\n          return A;\n        }\n        // v. Let nextValue be IteratorValue(next).\n        // vi. ReturnIfAbrupt(nextValue)\n        nextValue = next.value;\n\n        // vii. If mapping is true, then\n        //   1. Let mappedValue be Call(mapfn, T, nextValue, k).\n        //   2. If mappedValue is an abrupt completion, return\n        //      IteratorClose(iterator, mappedValue).\n        //   3. Let mappedValue be mappedValue.[[value]].\n        // viii. Else, let mappedValue be nextValue.\n        // ix.  Let defineStatus be the result of\n        //      CreateDataPropertyOrThrow(A, Pk, mappedValue).\n        // x. [TODO] If defineStatus is an abrupt completion, return\n        //    IteratorClose(iterator, defineStatus).\n        if (mapFn) {\n          A[k] = mapFn.call(T, nextValue, k);\n        }\n        else {\n          A[k] = nextValue;\n        }\n        // xi. Increase k by 1.\n        k++;\n      }\n      // 7. Assert: items is not an Iterable so assume it is\n      //    an array-like object.\n    } else {\n\n      // 8. Let arrayLike be ToObject(items).\n      var arrayLike = Object(items);\n\n      // 9. ReturnIfAbrupt(items).\n      if (items == null) {\n        throw new TypeError(\n          'Array.from requires an array-like object - not null or undefined'\n        );\n      }\n\n      // 10. Let len be ToLength(Get(arrayLike, \"length\")).\n      // 11. ReturnIfAbrupt(len).\n      var len = toLength(arrayLike.length);\n\n      // 12. If IsConstructor(C) is true, then\n      //     a. Let A be Construct(C, len).\n      // 13. Else\n      //     a. Let A be ArrayCreate(len).\n      // 14. ReturnIfAbrupt(A).\n      A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n      // 15. Let k be 0.\n      k = 0;\n      // 16. Repeat, while k < len (also steps a - h)\n      var kValue;\n      while (k < len) {\n        kValue = arrayLike[k];\n        if (mapFn) {\n          A[k] = mapFn.call(T, kValue, k);\n        }\n        else {\n          A[k] = kValue;\n        }\n        k++;\n      }\n      // 17. Let setStatus be Set(A, \"length\", len, true).\n      // 18. ReturnIfAbrupt(setStatus).\n      A.length = len;\n      // 19. Return A.\n    }\n    return A;\n  };\n})();\n","module.exports = function atoa (a, n) { return Array.prototype.slice.call(a, n); }\n","'use strict';\n\nvar ticky = require('ticky');\n\nmodule.exports = function debounce (fn, args, ctx) {\n  if (!fn) { return; }\n  ticky(function run () {\n    fn.apply(ctx || null, args || []);\n  });\n};\n","'use strict';\n\nvar atoa = require('atoa');\nvar debounce = require('./debounce');\n\nmodule.exports = function emitter (thing, options) {\n  var opts = options || {};\n  var evt = {};\n  if (thing === undefined) { thing = {}; }\n  thing.on = function (type, fn) {\n    if (!evt[type]) {\n      evt[type] = [fn];\n    } else {\n      evt[type].push(fn);\n    }\n    return thing;\n  };\n  thing.once = function (type, fn) {\n    fn._once = true; // thing.off(fn) still works!\n    thing.on(type, fn);\n    return thing;\n  };\n  thing.off = function (type, fn) {\n    var c = arguments.length;\n    if (c === 1) {\n      delete evt[type];\n    } else if (c === 0) {\n      evt = {};\n    } else {\n      var et = evt[type];\n      if (!et) { return thing; }\n      et.splice(et.indexOf(fn), 1);\n    }\n    return thing;\n  };\n  thing.emit = function () {\n    var args = atoa(arguments);\n    return thing.emitterSnapshot(args.shift()).apply(this, args);\n  };\n  thing.emitterSnapshot = function (type) {\n    var et = (evt[type] || []).slice(0);\n    return function () {\n      var args = atoa(arguments);\n      var ctx = this || thing;\n      if (type === 'error' && opts.throws !== false && !et.length) { throw args.length === 1 ? args[0] : args; }\n      et.forEach(function emitter (listen) {\n        if (opts.async) { debounce(listen, args, ctx); } else { listen.apply(ctx, args); }\n        if (listen._once) { thing.off(type, listen); }\n      });\n      return thing;\n    };\n  };\n  return thing;\n};\n","'use strict';\n\nvar typeFunc = require('type-func');\n\nfunction createPointCB(object, options) {\n\n    // A persistent object (as opposed to returned object) is used to save memory\n    // This is good to prevent layout thrashing, or for games, and such\n\n    // NOTE\n    // This uses IE fixes which should be OK to remove some day. :)\n    // Some speed will be gained by removal of these.\n\n    // pointCB should be saved in a variable on return\n    // This allows the usage of element.removeEventListener\n\n    options = options || {};\n\n    var allowUpdate = typeFunc.boolean(options.allowUpdate, true);\n\n    /*if(typeof options.allowUpdate === 'function'){\n        allowUpdate = options.allowUpdate;\n    }else{\n        allowUpdate = function(){return true;};\n    }*/\n\n    return function pointCB(event) {\n\n        event = event || window.event; // IE-ism\n        object.target = event.target || event.srcElement || event.originalTarget;\n        object.element = this;\n        object.type = event.type;\n\n        if (!allowUpdate(event)) {\n            return;\n        }\n\n        // Support touch\n        // http://www.creativebloq.com/javascript/make-your-site-work-touch-devices-51411644\n\n        if (event.targetTouches) {\n            object.x = event.targetTouches[0].clientX;\n            object.y = event.targetTouches[0].clientY;\n            object.pageX = event.targetTouches[0].pageX;\n            object.pageY = event.targetTouches[0].pageY;\n            object.screenX = event.targetTouches[0].screenX;\n            object.screenY = event.targetTouches[0].screenY;\n        } else {\n\n            // If pageX/Y aren't available and clientX/Y are,\n            // calculate pageX/Y - logic taken from jQuery.\n            // (This is to support old IE)\n            // NOTE Hopefully this can be removed soon.\n\n            if (event.pageX === null && event.clientX !== null) {\n                var eventDoc = event.target && event.target.ownerDocument || document;\n                var doc = eventDoc.documentElement;\n                var body = eventDoc.body;\n\n                object.pageX = event.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n                object.pageY = event.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n            } else {\n                object.pageX = event.pageX;\n                object.pageY = event.pageY;\n            }\n\n            // pageX, and pageY change with page scroll\n            // so we're not going to use those for x, and y.\n            // NOTE Most browsers also alias clientX/Y with x/y\n            // so that's something to consider down the road.\n\n            object.x = event.clientX;\n            object.y = event.clientY;\n\n            object.screenX = event.screenX;\n            object.screenY = event.screenY;\n        }\n\n        object.clientX = object.x;\n        object.clientY = object.y;\n    };\n\n    //NOTE Remember accessibility, Aria roles, and labels.\n}\n\n/*\ngit remote add origin https://github.com/hollowdoor/create_point_cb.git\ngit push -u origin master\n*/\n\nmodule.exports = createPointCB;\n//# sourceMappingURL=bundle.js.map\n","'use strict';\n\nvar customEvent = require('custom-event');\nvar eventmap = require('./eventmap');\nvar doc = global.document;\nvar addEvent = addEventEasy;\nvar removeEvent = removeEventEasy;\nvar hardCache = [];\n\nif (!global.addEventListener) {\n  addEvent = addEventHard;\n  removeEvent = removeEventHard;\n}\n\nmodule.exports = {\n  add: addEvent,\n  remove: removeEvent,\n  fabricate: fabricateEvent\n};\n\nfunction addEventEasy (el, type, fn, capturing) {\n  return el.addEventListener(type, fn, capturing);\n}\n\nfunction addEventHard (el, type, fn) {\n  return el.attachEvent('on' + type, wrap(el, type, fn));\n}\n\nfunction removeEventEasy (el, type, fn, capturing) {\n  return el.removeEventListener(type, fn, capturing);\n}\n\nfunction removeEventHard (el, type, fn) {\n  var listener = unwrap(el, type, fn);\n  if (listener) {\n    return el.detachEvent('on' + type, listener);\n  }\n}\n\nfunction fabricateEvent (el, type, model) {\n  var e = eventmap.indexOf(type) === -1 ? makeCustomEvent() : makeClassicEvent();\n  if (el.dispatchEvent) {\n    el.dispatchEvent(e);\n  } else {\n    el.fireEvent('on' + type, e);\n  }\n  function makeClassicEvent () {\n    var e;\n    if (doc.createEvent) {\n      e = doc.createEvent('Event');\n      e.initEvent(type, true, true);\n    } else if (doc.createEventObject) {\n      e = doc.createEventObject();\n    }\n    return e;\n  }\n  function makeCustomEvent () {\n    return new customEvent(type, { detail: model });\n  }\n}\n\nfunction wrapperFactory (el, type, fn) {\n  return function wrapper (originalEvent) {\n    var e = originalEvent || global.event;\n    e.target = e.target || e.srcElement;\n    e.preventDefault = e.preventDefault || function preventDefault () { e.returnValue = false; };\n    e.stopPropagation = e.stopPropagation || function stopPropagation () { e.cancelBubble = true; };\n    e.which = e.which || e.keyCode;\n    fn.call(el, e);\n  };\n}\n\nfunction wrap (el, type, fn) {\n  var wrapper = unwrap(el, type, fn) || wrapperFactory(el, type, fn);\n  hardCache.push({\n    wrapper: wrapper,\n    element: el,\n    type: type,\n    fn: fn\n  });\n  return wrapper;\n}\n\nfunction unwrap (el, type, fn) {\n  var i = find(el, type, fn);\n  if (i) {\n    var wrapper = hardCache[i].wrapper;\n    hardCache.splice(i, 1); // free up a tad of memory\n    return wrapper;\n  }\n}\n\nfunction find (el, type, fn) {\n  var i, item;\n  for (i = 0; i < hardCache.length; i++) {\n    item = hardCache[i];\n    if (item.element === el && item.type === type && item.fn === fn) {\n      return i;\n    }\n  }\n}\n","'use strict';\n\nvar eventmap = [];\nvar eventname = '';\nvar ron = /^on/;\n\nfor (eventname in global) {\n  if (ron.test(eventname)) {\n    eventmap.push(eventname.slice(2));\n  }\n}\n\nmodule.exports = eventmap;\n","\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'undefined' !== typeof document && 'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar typeFunc = require('type-func');\nvar animationFramePolyfill = require('animation-frame-polyfill');\nvar domSet = require('dom-set');\nvar domPlane = require('dom-plane');\nvar mousemoveDispatcher = _interopDefault(require('dom-mousemove-dispatcher'));\n\nfunction AutoScroller(elements, options){\n    if ( options === void 0 ) options = {};\n\n    var self = this;\n    var maxSpeed = 4, scrolling = false;\n\n    this.margin = options.margin || -1;\n    //this.scrolling = false;\n    this.scrollWhenOutside = options.scrollWhenOutside || false;\n\n    var point = {},\n        pointCB = domPlane.createPointCB(point),\n        dispatcher = mousemoveDispatcher(),\n        down = false;\n\n    window.addEventListener('mousemove', pointCB, false);\n    window.addEventListener('touchmove', pointCB, false);\n\n    if(!isNaN(options.maxSpeed)){\n        maxSpeed = options.maxSpeed;\n    }\n\n    this.autoScroll = typeFunc.boolean(options.autoScroll);\n    this.syncMove = typeFunc.boolean(options.syncMove, false);\n\n    this.destroy = function(forceCleanAnimation) {\n        window.removeEventListener('mousemove', pointCB, false);\n        window.removeEventListener('touchmove', pointCB, false);\n        window.removeEventListener('mousedown', onDown, false);\n        window.removeEventListener('touchstart', onDown, false);\n        window.removeEventListener('mouseup', onUp, false);\n        window.removeEventListener('touchend', onUp, false);\n        window.removeEventListener('pointerup', onUp, false);\n        window.removeEventListener('mouseleave', onMouseOut, false);\n\n        window.removeEventListener('mousemove', onMove, false);\n        window.removeEventListener('touchmove', onMove, false);\n\n        window.removeEventListener('scroll', setScroll, true);\n        elements = [];\n        if(forceCleanAnimation){\n          cleanAnimation();\n        }\n    };\n\n    this.add = function(){\n        var element = [], len = arguments.length;\n        while ( len-- ) element[ len ] = arguments[ len ];\n\n        domSet.addElements.apply(void 0, [ elements ].concat( element ));\n        return this;\n    };\n\n    this.remove = function(){\n        var element = [], len = arguments.length;\n        while ( len-- ) element[ len ] = arguments[ len ];\n\n        return domSet.removeElements.apply(void 0, [ elements ].concat( element ));\n    };\n\n    var hasWindow = null, windowAnimationFrame;\n\n    if(Object.prototype.toString.call(elements) !== '[object Array]'){\n        elements = [elements];\n    }\n\n    (function(temp){\n        elements = [];\n        temp.forEach(function(element){\n            if(element === window){\n                hasWindow = window;\n            }else{\n                self.add(element);\n            }\n        });\n    }(elements));\n\n    Object.defineProperties(this, {\n        down: {\n            get: function(){ return down; }\n        },\n        maxSpeed: {\n            get: function(){ return maxSpeed; }\n        },\n        point: {\n            get: function(){ return point; }\n        },\n        scrolling: {\n            get: function(){ return scrolling; }\n        }\n    });\n\n    var n = 0, current = null, animationFrame;\n\n    window.addEventListener('mousedown', onDown, false);\n    window.addEventListener('touchstart', onDown, false);\n    window.addEventListener('mouseup', onUp, false);\n    window.addEventListener('touchend', onUp, false);\n\n    /*\n    IE does not trigger mouseup event when scrolling.\n    It is a known issue that Microsoft won't fix.\n    https://connect.microsoft.com/IE/feedback/details/783058/scrollbar-trigger-mousedown-but-not-mouseup\n    IE supports pointer events instead\n    */\n    window.addEventListener('pointerup', onUp, false);\n\n    window.addEventListener('mousemove', onMove, false);\n    window.addEventListener('touchmove', onMove, false);\n\n    window.addEventListener('mouseleave', onMouseOut, false);\n\n    window.addEventListener('scroll', setScroll, true);\n\n    function setScroll(e){\n\n        for(var i=0; i<elements.length; i++){\n            if(elements[i] === e.target){\n                scrolling = true;\n                break;\n            }\n        }\n\n        if(scrolling){\n            animationFramePolyfill.requestAnimationFrame(function (){ return scrolling = false; });\n        }\n    }\n\n    function onDown(){\n        down = true;\n    }\n\n    function onUp(){\n        down = false;\n        cleanAnimation();\n    }\n    function cleanAnimation(){\n      animationFramePolyfill.cancelAnimationFrame(animationFrame);\n      animationFramePolyfill.cancelAnimationFrame(windowAnimationFrame);\n    }\n    function onMouseOut(){\n        down = false;\n    }\n\n    function getTarget(target){\n        if(!target){\n            return null;\n        }\n\n        if(current === target){\n            return target;\n        }\n\n        if(domSet.hasElement(elements, target)){\n            return target;\n        }\n\n        while(target = target.parentNode){\n            if(domSet.hasElement(elements, target)){\n                return target;\n            }\n        }\n\n        return null;\n    }\n\n    function getElementUnderPoint(){\n        var underPoint = null;\n\n        for(var i=0; i<elements.length; i++){\n            if(inside(point, elements[i])){\n                underPoint = elements[i];\n            }\n        }\n\n        return underPoint;\n    }\n\n\n    function onMove(event){\n\n        if(!self.autoScroll()) { return; }\n\n        if(event['dispatched']){ return; }\n\n        var target = event.target, body = document.body;\n\n        if(current && !inside(point, current)){\n            if(!self.scrollWhenOutside){\n                current = null;\n            }\n        }\n\n        if(target && target.parentNode === body){\n            //The special condition to improve speed.\n            target = getElementUnderPoint();\n        }else{\n            target = getTarget(target);\n\n            if(!target){\n                target = getElementUnderPoint();\n            }\n        }\n\n\n        if(target && target !== current){\n            current = target;\n        }\n\n        if(hasWindow){\n            animationFramePolyfill.cancelAnimationFrame(windowAnimationFrame);\n            windowAnimationFrame = animationFramePolyfill.requestAnimationFrame(scrollWindow);\n        }\n\n\n        if(!current){\n            return;\n        }\n\n        animationFramePolyfill.cancelAnimationFrame(animationFrame);\n        animationFrame = animationFramePolyfill.requestAnimationFrame(scrollTick);\n    }\n\n    function scrollWindow(){\n        autoScroll(hasWindow);\n\n        animationFramePolyfill.cancelAnimationFrame(windowAnimationFrame);\n        windowAnimationFrame = animationFramePolyfill.requestAnimationFrame(scrollWindow);\n    }\n\n    function scrollTick(){\n\n        if(!current){\n            return;\n        }\n\n        autoScroll(current);\n\n        animationFramePolyfill.cancelAnimationFrame(animationFrame);\n        animationFrame = animationFramePolyfill.requestAnimationFrame(scrollTick);\n\n    }\n\n\n    function autoScroll(el){\n        var rect = domPlane.getClientRect(el), scrollx, scrolly;\n\n        if(point.x < rect.left + self.margin){\n            scrollx = Math.floor(\n                Math.max(-1, (point.x - rect.left) / self.margin - 1) * self.maxSpeed\n            );\n        }else if(point.x > rect.right - self.margin){\n            scrollx = Math.ceil(\n                Math.min(1, (point.x - rect.right) / self.margin + 1) * self.maxSpeed\n            );\n        }else{\n            scrollx = 0;\n        }\n\n        if(point.y < rect.top + self.margin){\n            scrolly = Math.floor(\n                Math.max(-1, (point.y - rect.top) / self.margin - 1) * self.maxSpeed\n            );\n        }else if(point.y > rect.bottom - self.margin){\n            scrolly = Math.ceil(\n                Math.min(1, (point.y - rect.bottom) / self.margin + 1) * self.maxSpeed\n            );\n        }else{\n            scrolly = 0;\n        }\n\n        if(self.syncMove()){\n            /*\n            Notes about mousemove event dispatch.\n            screen(X/Y) should need to be updated.\n            Some other properties might need to be set.\n            Keep the syncMove option default false until all inconsistencies are taken care of.\n            */\n            dispatcher.dispatch(el, {\n                pageX: point.pageX + scrollx,\n                pageY: point.pageY + scrolly,\n                clientX: point.x + scrollx,\n                clientY: point.y + scrolly\n            });\n        }\n\n        setTimeout(function (){\n\n            if(scrolly){\n                scrollY(el, scrolly);\n            }\n\n            if(scrollx){\n                scrollX(el, scrollx);\n            }\n\n        });\n    }\n\n    function scrollY(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset, el.pageYOffset + amount);\n        }else{\n            el.scrollTop += amount;\n        }\n    }\n\n    function scrollX(el, amount){\n        if(el === window){\n            window.scrollTo(el.pageXOffset + amount, el.pageYOffset);\n        }else{\n            el.scrollLeft += amount;\n        }\n    }\n\n}\n\nfunction AutoScrollerFactory(element, options){\n    return new AutoScroller(element, options);\n}\n\nfunction inside(point, el, rect){\n    if(!rect){\n        return domPlane.pointInside(point, el);\n    }else{\n        return (point.y > rect.top && point.y < rect.bottom &&\n                point.x > rect.left && point.x < rect.right);\n    }\n}\n\n/*\ngit remote add origin https://github.com/hollowdoor/dom_autoscroller.git\ngit push -u origin master\n*/\n\nmodule.exports = AutoScrollerFactory;\n//# sourceMappingURL=bundle.js.map\n","'use strict';\n\nvar objectCreate = void 0;\nif (typeof Object.create != 'function') {\n  objectCreate = function (undefined) {\n    var Temp = function Temp() {};\n    return function (prototype, propertiesObject) {\n      if (prototype !== Object(prototype) && prototype !== null) {\n        throw TypeError('Argument must be an object, or null');\n      }\n      Temp.prototype = prototype || {};\n      var result = new Temp();\n      Temp.prototype = null;\n      if (propertiesObject !== undefined) {\n        Object.defineProperties(result, propertiesObject);\n      }\n\n      // to imitate the case of Object.create(null)\n      if (prototype === null) {\n        result.__proto__ = null;\n      }\n      return result;\n    };\n  }();\n} else {\n  objectCreate = Object.create;\n}\n\nvar objectCreate$1 = objectCreate;\n\nvar mouseEventProps = ['altKey', 'button', 'buttons', 'clientX', 'clientY', 'ctrlKey', 'metaKey', 'movementX', 'movementY', 'offsetX', 'offsetY', 'pageX', 'pageY', 'region', 'relatedTarget', 'screenX', 'screenY', 'shiftKey', 'which', 'x', 'y'];\n\nfunction createDispatcher(element) {\n\n    var defaultSettings = {\n        screenX: 0,\n        screenY: 0,\n        clientX: 0,\n        clientY: 0,\n        ctrlKey: false,\n        shiftKey: false,\n        altKey: false,\n        metaKey: false,\n        button: 0,\n        buttons: 1,\n        relatedTarget: null,\n        region: null\n    };\n\n    if (element !== undefined) {\n        element.addEventListener('mousemove', onMove);\n    }\n\n    function onMove(e) {\n        for (var i = 0; i < mouseEventProps.length; i++) {\n            defaultSettings[mouseEventProps[i]] = e[mouseEventProps[i]];\n        }\n    }\n\n    var dispatch = function () {\n        if (MouseEvent) {\n            return function m1(element, initMove, data) {\n                var evt = new MouseEvent('mousemove', createMoveInit(defaultSettings, initMove));\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        } else if (typeof document.createEvent === 'function') {\n            return function m2(element, initMove, data) {\n                var settings = createMoveInit(defaultSettings, initMove);\n                var evt = document.createEvent('MouseEvents');\n\n                evt.initMouseEvent(\"mousemove\", true, //can bubble\n                true, //cancelable\n                window, //view\n                0, //detail\n                settings.screenX, //0, //screenX\n                settings.screenY, //0, //screenY\n                settings.clientX, //80, //clientX\n                settings.clientY, //20, //clientY\n                settings.ctrlKey, //false, //ctrlKey\n                settings.altKey, //false, //altKey\n                settings.shiftKey, //false, //shiftKey\n                settings.metaKey, //false, //metaKey\n                settings.button, //0, //button\n                settings.relatedTarget //null //relatedTarget\n                );\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        } else if (typeof document.createEventObject === 'function') {\n            return function m3(element, initMove, data) {\n                var evt = document.createEventObject();\n                var settings = createMoveInit(defaultSettings, initMove);\n                for (var name in settings) {\n                    evt[name] = settings[name];\n                }\n\n                //evt.dispatched = 'mousemove';\n                setSpecial(evt, data);\n\n                return element.dispatchEvent(evt);\n            };\n        }\n    }();\n\n    function destroy() {\n        if (element) element.removeEventListener('mousemove', onMove, false);\n        defaultSettings = null;\n    }\n\n    return {\n        destroy: destroy,\n        dispatch: dispatch\n    };\n}\n\nfunction createMoveInit(defaultSettings, initMove) {\n    initMove = initMove || {};\n    var settings = objectCreate$1(defaultSettings);\n    for (var i = 0; i < mouseEventProps.length; i++) {\n        if (initMove[mouseEventProps[i]] !== undefined) settings[mouseEventProps[i]] = initMove[mouseEventProps[i]];\n    }\n\n    return settings;\n}\n\nfunction setSpecial(e, data) {\n    console.log('data ', data);\n    e.data = data || {};\n    e.dispatched = 'mousemove';\n}\n\n/*\nhttp://marcgrabanski.com/simulating-mouse-click-events-in-javascript/\n*/\n\nmodule.exports = createDispatcher;\n//# sourceMappingURL=bundle.js.map\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar createPointCb = _interopDefault(require('create-point-cb'));\n\nfunction createWindowRect() {\n    var props = {\n        top: { value: 0, enumerable: true },\n        left: { value: 0, enumerable: true },\n        right: { value: window.innerWidth, enumerable: true },\n        bottom: { value: window.innerHeight, enumerable: true },\n        width: { value: window.innerWidth, enumerable: true },\n        height: { value: window.innerHeight, enumerable: true },\n        x: { value: 0, enumerable: true },\n        y: { value: 0, enumerable: true }\n    };\n\n    if (Object.create) {\n        return Object.create({}, props);\n    } else {\n        var rect = {};\n        Object.defineProperties(rect, props);\n        return rect;\n    }\n}\n\nfunction getClientRect(el) {\n    if (el === window) {\n        return createWindowRect();\n    } else {\n        try {\n            var rect = el.getBoundingClientRect();\n            if (rect.x === undefined) {\n                rect.x = rect.left;\n                rect.y = rect.top;\n            }\n            return rect;\n        } catch (e) {\n            throw new TypeError(\"Can't call getBoundingClientRect on \" + el);\n        }\n    }\n}\n\nfunction pointInside(point, el) {\n    var rect = getClientRect(el);\n    return point.y > rect.top && point.y < rect.bottom && point.x > rect.left && point.x < rect.right;\n}\n\nexports.createPointCB = createPointCb;\nexports.getClientRect = getClientRect;\nexports.pointInside = pointInside;\n//# sourceMappingURL=bundle.js.map\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar arrayFrom = _interopDefault(require('array-from'));\nvar isArray = _interopDefault(require('is-array'));\nvar isElement = _interopDefault(require('iselement'));\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n/**\n * Returns `true` if provided input is Element.\n * @name isElement\n * @param {*} [input]\n * @returns {boolean}\n */\nvar isElement$1 = function (input) {\n  return input != null && (typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object' && input.nodeType === 1 && _typeof(input.style) === 'object' && _typeof(input.ownerDocument) === 'object';\n};\n\nfunction select(selector){\n    if(typeof selector === 'string'){\n        try{\n            return document.querySelector(selector);\n        }catch(e){\n            throw e;\n        }\n    }else if(isElement(selector)){\n        return selector;\n    }\n}\n\nfunction selectAll(selector){\n    if(typeof selector === 'string'){\n        return Array.prototype.slice.apply(\n            document.querySelectorAll(selector)\n        );\n    }else if(isArray(selector)){\n        return selector.map(select);\n    }else if('length' in selector){\n        return arrayFrom(selector).map(select);\n    }\n}\n\nfunction indexOfElement(elements, element){\n    element = resolveElement(element, true);\n    if(!isElement$1(element)) { return -1; }\n    for(var i=0; i<elements.length; i++){\n        if(elements[i] === element){\n            return i;\n        }\n    }\n    return -1;\n}\n\nfunction hasElement(elements, element){\n    return -1 !== indexOfElement(elements, element);\n}\n\nfunction domListOf(arr){\n\n    if(!arr) { return []; }\n\n    try{\n        if(typeof arr === 'string'){\n            return arrayFrom(document.querySelectorAll(arr));\n        }else if(isArray(arr)){\n            return arr.map(resolveElement);\n        }else{\n            if(typeof arr.length === 'undefined'){\n                return [resolveElement(arr)];\n            }\n\n            return arrayFrom(arr, resolveElement);\n\n        }\n    }catch(e){\n        throw new Error(e);\n    }\n\n}\n\nfunction concatElementLists(){\n    var lists = [], len = arguments.length;\n    while ( len-- ) lists[ len ] = arguments[ len ];\n\n    return lists.reduce(function (last, list){\n        return list.length ? last : last.concat(domListOf(list));\n    }, []);\n}\n\nfunction pushElements(elements, toAdd){\n\n    for(var i=0; i<toAdd.length; i++){\n        if(!hasElement(elements, toAdd[i]))\n            { elements.push(toAdd[i]); }\n    }\n\n    return toAdd;\n}\n\nfunction addElements(elements){\n    var toAdd = [], len = arguments.length - 1;\n    while ( len-- > 0 ) toAdd[ len ] = arguments[ len + 1 ];\n\n    toAdd = toAdd.map(resolveElement);\n    return pushElements(elements, toAdd);\n}\n\nfunction removeElements(elements){\n    var toRemove = [], len = arguments.length - 1;\n    while ( len-- > 0 ) toRemove[ len ] = arguments[ len + 1 ];\n\n    return toRemove.map(resolveElement).reduce(function (last, e){\n\n        var index = indexOfElement(elements, e);\n\n        if(index !== -1)\n            { return last.concat(elements.splice(index, 1)); }\n        return last;\n    }, []);\n}\n\nfunction resolveElement(element, noThrow){\n    if(typeof element === 'string'){\n        try{\n            return document.querySelector(element);\n        }catch(e){\n            throw e;\n        }\n\n    }\n\n    if(!isElement$1(element) && !noThrow){\n        throw new TypeError((element + \" is not a DOM element.\"));\n    }\n    return element;\n}\n\nexports.indexOfElement = indexOfElement;\nexports.hasElement = hasElement;\nexports.domListOf = domListOf;\nexports.concatElementLists = concatElementLists;\nexports.addElements = addElements;\nexports.removeElements = removeElements;\nexports.resolveElement = resolveElement;\nexports.select = select;\nexports.selectAll = selectAll;\n//# sourceMappingURL=bundle.js.map\n","'use strict';\n\nvar cache = {};\nvar start = '(?:^|\\\\s)';\nvar end = '(?:\\\\s|$)';\n\nfunction lookupClass (className) {\n  var cached = cache[className];\n  if (cached) {\n    cached.lastIndex = 0;\n  } else {\n    cache[className] = cached = new RegExp(start + className + end, 'g');\n  }\n  return cached;\n}\n\nfunction addClass (el, className) {\n  var current = el.className;\n  if (!current.length) {\n    el.className = className;\n  } else if (!lookupClass(className).test(current)) {\n    el.className += ' ' + className;\n  }\n}\n\nfunction rmClass (el, className) {\n  el.className = el.className.replace(lookupClass(className), ' ').trim();\n}\n\nmodule.exports = {\n  add: addClass,\n  rm: rmClass\n};\n","'use strict';\n\nvar emitter = require('contra/emitter');\nvar crossvent = require('crossvent');\nvar classes = require('./classes');\nvar doc = document;\nvar documentElement = doc.documentElement;\n\nfunction dragula (initialContainers, options) {\n  var len = arguments.length;\n  if (len === 1 && Array.isArray(initialContainers) === false) {\n    options = initialContainers;\n    initialContainers = [];\n  }\n  var _mirror; // mirror image\n  var _source; // source container\n  var _item; // item being dragged\n  var _offsetX; // reference x\n  var _offsetY; // reference y\n  var _moveX; // reference move x\n  var _moveY; // reference move y\n  var _initialSibling; // reference sibling when grabbed\n  var _currentSibling; // reference sibling now\n  var _copy; // item used for copying\n  var _renderTimer; // timer for setTimeout renderMirrorImage\n  var _lastDropTarget = null; // last container item was over\n  var _grabbed; // holds mousedown context until first mousemove\n\n  var o = options || {};\n  if (o.moves === void 0) { o.moves = always; }\n  if (o.accepts === void 0) { o.accepts = always; }\n  if (o.invalid === void 0) { o.invalid = invalidTarget; }\n  if (o.containers === void 0) { o.containers = initialContainers || []; }\n  if (o.isContainer === void 0) { o.isContainer = never; }\n  if (o.copy === void 0) { o.copy = false; }\n  if (o.copySortSource === void 0) { o.copySortSource = false; }\n  if (o.revertOnSpill === void 0) { o.revertOnSpill = false; }\n  if (o.removeOnSpill === void 0) { o.removeOnSpill = false; }\n  if (o.direction === void 0) { o.direction = 'vertical'; }\n  if (o.ignoreInputTextSelection === void 0) { o.ignoreInputTextSelection = true; }\n  if (o.mirrorContainer === void 0) { o.mirrorContainer = doc.body; }\n\n  var drake = emitter({\n    containers: o.containers,\n    start: manualStart,\n    end: end,\n    cancel: cancel,\n    remove: remove,\n    destroy: destroy,\n    canMove: canMove,\n    dragging: false\n  });\n\n  if (o.removeOnSpill === true) {\n    drake.on('over', spillOver).on('out', spillOut);\n  }\n\n  events();\n\n  return drake;\n\n  function isContainer (el) {\n    return drake.containers.indexOf(el) !== -1 || o.isContainer(el);\n  }\n\n  function events (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousedown', grab);\n    touchy(documentElement, op, 'mouseup', release);\n  }\n\n  function eventualMovements (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousemove', startBecauseMouseMoved);\n  }\n\n  function movements (remove) {\n    var op = remove ? 'remove' : 'add';\n    crossvent[op](documentElement, 'selectstart', preventGrabbed); // IE8\n    crossvent[op](documentElement, 'click', preventGrabbed);\n  }\n\n  function destroy () {\n    events(true);\n    release({});\n  }\n\n  function preventGrabbed (e) {\n    if (_grabbed) {\n      e.preventDefault();\n    }\n  }\n\n  function grab (e) {\n    _moveX = e.clientX;\n    _moveY = e.clientY;\n\n    var ignore = whichMouseButton(e) !== 1 || e.metaKey || e.ctrlKey;\n    if (ignore) {\n      return; // we only care about honest-to-god left clicks and touch events\n    }\n    var item = e.target;\n    var context = canStart(item);\n    if (!context) {\n      return;\n    }\n    _grabbed = context;\n    eventualMovements();\n    if (e.type === 'mousedown') {\n      if (isInput(item)) { // see also: https://github.com/bevacqua/dragula/issues/208\n        item.focus(); // fixes https://github.com/bevacqua/dragula/issues/176\n      } else {\n        e.preventDefault(); // fixes https://github.com/bevacqua/dragula/issues/155\n      }\n    }\n  }\n\n  function startBecauseMouseMoved (e) {\n    if (!_grabbed) {\n      return;\n    }\n    if (whichMouseButton(e) === 0) {\n      release({});\n      return; // when text is selected on an input and then dragged, mouseup doesn't fire. this is our only hope\n    }\n\n    // truthy check fixes #239, equality fixes #207, fixes #501\n    if ((e.clientX !== void 0 && Math.abs(e.clientX - _moveX) <= (o.slideFactorX || 0)) &&\n      (e.clientY !== void 0 && Math.abs(e.clientY - _moveY) <= (o.slideFactorY || 0))) {\n      return;\n    }\n\n    if (o.ignoreInputTextSelection) {\n      var clientX = getCoord('clientX', e) || 0;\n      var clientY = getCoord('clientY', e) || 0;\n      var elementBehindCursor = doc.elementFromPoint(clientX, clientY);\n      if (isInput(elementBehindCursor)) {\n        return;\n      }\n    }\n\n    var grabbed = _grabbed; // call to end() unsets _grabbed\n    eventualMovements(true);\n    movements();\n    end();\n    start(grabbed);\n\n    var offset = getOffset(_item);\n    _offsetX = getCoord('pageX', e) - offset.left;\n    _offsetY = getCoord('pageY', e) - offset.top;\n\n    classes.add(_copy || _item, 'gu-transit');\n    renderMirrorImage();\n    drag(e);\n  }\n\n  function canStart (item) {\n    if (drake.dragging && _mirror) {\n      return;\n    }\n    if (isContainer(item)) {\n      return; // don't drag container itself\n    }\n    var handle = item;\n    while (getParent(item) && isContainer(getParent(item)) === false) {\n      if (o.invalid(item, handle)) {\n        return;\n      }\n      item = getParent(item); // drag target should be a top element\n      if (!item) {\n        return;\n      }\n    }\n    var source = getParent(item);\n    if (!source) {\n      return;\n    }\n    if (o.invalid(item, handle)) {\n      return;\n    }\n\n    var movable = o.moves(item, source, handle, nextEl(item));\n    if (!movable) {\n      return;\n    }\n\n    return {\n      item: item,\n      source: source\n    };\n  }\n\n  function canMove (item) {\n    return !!canStart(item);\n  }\n\n  function manualStart (item) {\n    var context = canStart(item);\n    if (context) {\n      start(context);\n    }\n  }\n\n  function start (context) {\n    if (isCopy(context.item, context.source)) {\n      _copy = context.item.cloneNode(true);\n      drake.emit('cloned', _copy, context.item, 'copy');\n    }\n\n    _source = context.source;\n    _item = context.item;\n    _initialSibling = _currentSibling = nextEl(context.item);\n\n    drake.dragging = true;\n    drake.emit('drag', _item, _source);\n  }\n\n  function invalidTarget () {\n    return false;\n  }\n\n  function end () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    drop(item, getParent(item));\n  }\n\n  function ungrab () {\n    _grabbed = false;\n    eventualMovements(true);\n    movements(true);\n  }\n\n  function release (e) {\n    ungrab();\n\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var clientX = getCoord('clientX', e) || 0;\n    var clientY = getCoord('clientY', e) || 0;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    if (dropTarget && ((_copy && o.copySortSource) || (!_copy || dropTarget !== _source))) {\n      drop(item, dropTarget);\n    } else if (o.removeOnSpill) {\n      remove();\n    } else {\n      cancel();\n    }\n  }\n\n  function drop (item, target) {\n    var parent = getParent(item);\n    if (_copy && o.copySortSource && target === _source) {\n      parent.removeChild(_item);\n    }\n    if (isInitialPlacement(target)) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, target, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function remove () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var parent = getParent(item);\n    if (parent) {\n      parent.removeChild(item);\n    }\n    drake.emit(_copy ? 'cancel' : 'remove', item, parent, _source);\n    cleanup();\n  }\n\n  function cancel (revert) {\n    if (!drake.dragging) {\n      return;\n    }\n    var reverts = arguments.length > 0 ? revert : o.revertOnSpill;\n    var item = _copy || _item;\n    var parent = getParent(item);\n    var initial = isInitialPlacement(parent);\n    if (initial === false && reverts) {\n      if (_copy) {\n        if (parent) {\n          parent.removeChild(_copy);\n        }\n      } else {\n        _source.insertBefore(item, _initialSibling);\n      }\n    }\n    if (initial || reverts) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, parent, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function cleanup () {\n    var item = _copy || _item;\n    ungrab();\n    removeMirrorImage();\n    if (item) {\n      classes.rm(item, 'gu-transit');\n    }\n    if (_renderTimer) {\n      clearTimeout(_renderTimer);\n    }\n    drake.dragging = false;\n    if (_lastDropTarget) {\n      drake.emit('out', item, _lastDropTarget, _source);\n    }\n    drake.emit('dragend', item);\n    _source = _item = _copy = _initialSibling = _currentSibling = _renderTimer = _lastDropTarget = null;\n  }\n\n  function isInitialPlacement (target, s) {\n    var sibling;\n    if (s !== void 0) {\n      sibling = s;\n    } else if (_mirror) {\n      sibling = _currentSibling;\n    } else {\n      sibling = nextEl(_copy || _item);\n    }\n    return target === _source && sibling === _initialSibling;\n  }\n\n  function findDropTarget (elementBehindCursor, clientX, clientY) {\n    var target = elementBehindCursor;\n    while (target && !accepted()) {\n      target = getParent(target);\n    }\n    return target;\n\n    function accepted () {\n      var droppable = isContainer(target);\n      if (droppable === false) {\n        return false;\n      }\n\n      var immediate = getImmediateChild(target, elementBehindCursor);\n      var reference = getReference(target, immediate, clientX, clientY);\n      var initial = isInitialPlacement(target, reference);\n      if (initial) {\n        return true; // should always be able to drop it right back where it was\n      }\n      return o.accepts(_item, target, _source, reference);\n    }\n  }\n\n  function drag (e) {\n    if (!_mirror) {\n      return;\n    }\n    e.preventDefault();\n\n    var clientX = getCoord('clientX', e) || 0;\n    var clientY = getCoord('clientY', e) || 0;\n    var x = clientX - _offsetX;\n    var y = clientY - _offsetY;\n\n    _mirror.style.left = x + 'px';\n    _mirror.style.top = y + 'px';\n\n    var item = _copy || _item;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    var changed = dropTarget !== null && dropTarget !== _lastDropTarget;\n    if (changed || dropTarget === null) {\n      out();\n      _lastDropTarget = dropTarget;\n      over();\n    }\n    var parent = getParent(item);\n    if (dropTarget === _source && _copy && !o.copySortSource) {\n      if (parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    var reference;\n    var immediate = getImmediateChild(dropTarget, elementBehindCursor);\n    if (immediate !== null) {\n      reference = getReference(dropTarget, immediate, clientX, clientY);\n    } else if (o.revertOnSpill === true && !_copy) {\n      reference = _initialSibling;\n      dropTarget = _source;\n    } else {\n      if (_copy && parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    if (\n      (reference === null && changed) ||\n      reference !== item &&\n      reference !== nextEl(item)\n    ) {\n      _currentSibling = reference;\n      dropTarget.insertBefore(item, reference);\n      drake.emit('shadow', item, dropTarget, _source);\n    }\n    function moved (type) { drake.emit(type, item, _lastDropTarget, _source); }\n    function over () { if (changed) { moved('over'); } }\n    function out () { if (_lastDropTarget) { moved('out'); } }\n  }\n\n  function spillOver (el) {\n    classes.rm(el, 'gu-hide');\n  }\n\n  function spillOut (el) {\n    if (drake.dragging) { classes.add(el, 'gu-hide'); }\n  }\n\n  function renderMirrorImage () {\n    if (_mirror) {\n      return;\n    }\n    var rect = _item.getBoundingClientRect();\n    _mirror = _item.cloneNode(true);\n    _mirror.style.width = getRectWidth(rect) + 'px';\n    _mirror.style.height = getRectHeight(rect) + 'px';\n    classes.rm(_mirror, 'gu-transit');\n    classes.add(_mirror, 'gu-mirror');\n    o.mirrorContainer.appendChild(_mirror);\n    touchy(documentElement, 'add', 'mousemove', drag);\n    classes.add(o.mirrorContainer, 'gu-unselectable');\n    drake.emit('cloned', _mirror, _item, 'mirror');\n  }\n\n  function removeMirrorImage () {\n    if (_mirror) {\n      classes.rm(o.mirrorContainer, 'gu-unselectable');\n      touchy(documentElement, 'remove', 'mousemove', drag);\n      getParent(_mirror).removeChild(_mirror);\n      _mirror = null;\n    }\n  }\n\n  function getImmediateChild (dropTarget, target) {\n    var immediate = target;\n    while (immediate !== dropTarget && getParent(immediate) !== dropTarget) {\n      immediate = getParent(immediate);\n    }\n    if (immediate === documentElement) {\n      return null;\n    }\n    return immediate;\n  }\n\n  function getReference (dropTarget, target, x, y) {\n    var horizontal = o.direction === 'horizontal';\n    var reference = target !== dropTarget ? inside() : outside();\n    return reference;\n\n    function outside () { // slower, but able to figure out any position\n      var len = dropTarget.children.length;\n      var i;\n      var el;\n      var rect;\n      for (i = 0; i < len; i++) {\n        el = dropTarget.children[i];\n        rect = el.getBoundingClientRect();\n        if (horizontal && (rect.left + rect.width / 2) > x) { return el; }\n        if (!horizontal && (rect.top + rect.height / 2) > y) { return el; }\n      }\n      return null;\n    }\n\n    function inside () { // faster, but only available if dropped inside a child element\n      var rect = target.getBoundingClientRect();\n      if (horizontal) {\n        return resolve(x > rect.left + getRectWidth(rect) / 2);\n      }\n      return resolve(y > rect.top + getRectHeight(rect) / 2);\n    }\n\n    function resolve (after) {\n      return after ? nextEl(target) : target;\n    }\n  }\n\n  function isCopy (item, container) {\n    return typeof o.copy === 'boolean' ? o.copy : o.copy(item, container);\n  }\n}\n\nfunction touchy (el, op, type, fn) {\n  var touch = {\n    mouseup: 'touchend',\n    mousedown: 'touchstart',\n    mousemove: 'touchmove'\n  };\n  var pointers = {\n    mouseup: 'pointerup',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove'\n  };\n  var microsoft = {\n    mouseup: 'MSPointerUp',\n    mousedown: 'MSPointerDown',\n    mousemove: 'MSPointerMove'\n  };\n  if (global.navigator.pointerEnabled) {\n    crossvent[op](el, pointers[type], fn);\n  } else if (global.navigator.msPointerEnabled) {\n    crossvent[op](el, microsoft[type], fn);\n  } else {\n    crossvent[op](el, touch[type], fn);\n    crossvent[op](el, type, fn);\n  }\n}\n\nfunction whichMouseButton (e) {\n  if (e.touches !== void 0) { return e.touches.length; }\n  if (e.which !== void 0 && e.which !== 0) { return e.which; } // see https://github.com/bevacqua/dragula/issues/261\n  if (e.buttons !== void 0) { return e.buttons; }\n  var button = e.button;\n  if (button !== void 0) { // see https://github.com/jquery/jquery/blob/99e8ff1baa7ae341e94bb89c3e84570c7c3ad9ea/src/event.js#L573-L575\n    return button & 1 ? 1 : button & 2 ? 3 : (button & 4 ? 2 : 0);\n  }\n}\n\nfunction getOffset (el) {\n  var rect = el.getBoundingClientRect();\n  return {\n    left: rect.left + getScroll('scrollLeft', 'pageXOffset'),\n    top: rect.top + getScroll('scrollTop', 'pageYOffset')\n  };\n}\n\nfunction getScroll (scrollProp, offsetProp) {\n  if (typeof global[offsetProp] !== 'undefined') {\n    return global[offsetProp];\n  }\n  if (documentElement.clientHeight) {\n    return documentElement[scrollProp];\n  }\n  return doc.body[scrollProp];\n}\n\nfunction getElementBehindPoint (point, x, y) {\n  point = point || {};\n  var state = point.className || '';\n  var el;\n  point.className += ' gu-hide';\n  el = doc.elementFromPoint(x, y);\n  point.className = state;\n  return el;\n}\n\nfunction never () { return false; }\nfunction always () { return true; }\nfunction getRectWidth (rect) { return rect.width || (rect.right - rect.left); }\nfunction getRectHeight (rect) { return rect.height || (rect.bottom - rect.top); }\nfunction getParent (el) { return el.parentNode === doc ? null : el.parentNode; }\nfunction isInput (el) { return el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.tagName === 'SELECT' || isEditable(el); }\nfunction isEditable (el) {\n  if (!el) { return false; } // no parents were editable\n  if (el.contentEditable === 'false') { return false; } // stop the lookup\n  if (el.contentEditable === 'true') { return true; } // found a contentEditable element in the chain\n  return isEditable(getParent(el)); // contentEditable is set to 'inherit'\n}\n\nfunction nextEl (el) {\n  return el.nextElementSibling || manually();\n  function manually () {\n    var sibling = el;\n    do {\n      sibling = sibling.nextSibling;\n    } while (sibling && sibling.nodeType !== 1);\n    return sibling;\n  }\n}\n\nfunction getEventHost (e) {\n  // on touchend event, we have to use `e.changedTouches`\n  // see http://stackoverflow.com/questions/7192563/touchend-event-properties\n  // see https://github.com/bevacqua/dragula/issues/34\n  if (e.targetTouches && e.targetTouches.length) {\n    return e.targetTouches[0];\n  }\n  if (e.changedTouches && e.changedTouches.length) {\n    return e.changedTouches[0];\n  }\n  return e;\n}\n\nfunction getCoord (coord, e) {\n  var host = getEventHost(e);\n  var missMap = {\n    pageX: 'clientX', // IE8\n    pageY: 'clientY' // IE8\n  };\n  if (coord in missMap && !(coord in host) && missMap[coord] in host) {\n    coord = missMap[coord];\n  }\n  return host[coord];\n}\n\nmodule.exports = dragula;\n","\n/**\n * isArray\n */\n\nvar isArray = Array.isArray;\n\n/**\n * toString\n */\n\nvar str = Object.prototype.toString;\n\n/**\n * Whether or not the given `val`\n * is an array.\n *\n * example:\n *\n *        isArray([]);\n *        // > true\n *        isArray(arguments);\n *        // > false\n *        isArray('');\n *        // > false\n *\n * @param {mixed} val\n * @return {bool}\n */\n\nmodule.exports = isArray || function (val) {\n  return !! val && '[object Array]' == str.call(val);\n};\n","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n/**\n * Returns `true` if provided input is Element.\n * @name isElement\n * @param {*} [input]\n * @returns {boolean}\n */\nexport default function (input) {\n  return input != null && (typeof input === 'undefined' ? 'undefined' : _typeof(input)) === 'object' && input.nodeType === 1 && _typeof(input.style) === 'object' && _typeof(input.ownerDocument) === 'object';\n}","\nmodule.exports = require('./lib/jquery-deferred');","var jQuery = module.exports = require(\"./jquery-core.js\"),\n\tcore_rspace = /\\s+/;\n/**\n* jQuery Callbacks\n*\n* Code from: https://github.com/jquery/jquery/blob/master/src/callbacks.js\n*\n*/\n\n\n// String to Object options format cache\nvar optionsCache = {};\n\n// Convert String-formatted options into Object-formatted ones and store in cache\nfunction createOptions( options ) {\n\tvar object = optionsCache[ options ] = {};\n\tjQuery.each( options.split( core_rspace ), function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t});\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\t( optionsCache[ options ] || createOptions( options ) ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Last fire value (for non-forgettable lists)\n\t\tmemory,\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\t\t// Flag to know if list is currently firing\n\t\tfiring,\n\t\t// First callback to fire (used internally by add and fireWith)\n\t\tfiringStart,\n\t\t// End of the loop when firing\n\t\tfiringLength,\n\t\t// Index of currently firing callback (modified by remove if needed)\n\t\tfiringIndex,\n\t\t// Actual callback list\n\t\tlist = [],\n\t\t// Stack of fire calls for repeatable lists\n\t\tstack = !options.once && [],\n\t\t// Fire callbacks\n\t\tfire = function( data ) {\n\t\t\tmemory = options.memory && data;\n\t\t\tfired = true;\n\t\t\tfiringIndex = firingStart || 0;\n\t\t\tfiringStart = 0;\n\t\t\tfiringLength = list.length;\n\t\t\tfiring = true;\n\t\t\tfor ( ; list && firingIndex < firingLength; firingIndex++ ) {\n\t\t\t\tif ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {\n\t\t\t\t\tmemory = false; // To prevent further calls using add\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfiring = false;\n\t\t\tif ( list ) {\n\t\t\t\tif ( stack ) {\n\t\t\t\t\tif ( stack.length ) {\n\t\t\t\t\t\tfire( stack.shift() );\n\t\t\t\t\t}\n\t\t\t\t} else if ( memory ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t} else {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// Actual Callbacks object\n\t\tself = {\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\t// First, we save the current length\n\t\t\t\t\tvar start = list.length;\n\t\t\t\t\t(function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tvar type = jQuery.type( arg );\n\t\t\t\t\t\t\tif ( type === \"function\" ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && type !== \"string\" ) {\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t})( arguments );\n\t\t\t\t\t// Do we need to add the callbacks to the\n\t\t\t\t\t// current firing batch?\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tfiringLength = list.length;\n\t\t\t\t\t// With memory, if we're not firing then\n\t\t\t\t\t// we should call right away\n\t\t\t\t\t} else if ( memory ) {\n\t\t\t\t\t\tfiringStart = start;\n\t\t\t\t\t\tfire( memory );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\t\tvar index;\n\t\t\t\t\t\twhile( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\t\tlist.splice( index, 1 );\n\t\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\t\t\tif ( index <= firingLength ) {\n\t\t\t\t\t\t\t\t\tfiringLength--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Control if a given callback is in the list\n\t\t\thas: function( fn ) {\n\t\t\t\treturn jQuery.inArray( fn, list ) > -1;\n\t\t\t},\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tlist = [];\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Have the list do nothing anymore\n\t\t\tdisable: function() {\n\t\t\t\tlist = stack = memory = undefined;\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it disabled?\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\t\t\t// Lock the list in its current state\n\t\t\tlock: function() {\n\t\t\t\tstack = undefined;\n\t\t\t\tif ( !memory ) {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it locked?\n\t\t\tlocked: function() {\n\t\t\t\treturn !stack;\n\t\t\t},\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\targs = args || [];\n\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\tif ( list && ( !fired || stack ) ) {\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tstack.push( args );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfire( args );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n","/**\n* jQuery core object.\n*\n* Worker with jQuery deferred\n*\n* Code from: https://github.com/jquery/jquery/blob/master/src/core.js\n*\n*/\n\nvar jQuery = module.exports = {\n\ttype: type\n\t, isArray: isArray\n\t, isFunction: isFunction\n\t, isPlainObject: isPlainObject\n\t, each: each\n\t, extend: extend\n\t, noop: function() {}\n};\n\nvar toString = Object.prototype.toString;\n\nvar class2type = {};\n// Populate the class2type map\n\"Boolean Number String Function Array Date RegExp Object\".split(\" \").forEach(function(name) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n});\n\n\nfunction type( obj ) {\n\treturn obj == null ?\n\t\tString( obj ) :\n\t\t\tclass2type[ toString.call(obj) ] || \"object\";\n}\n\nfunction isFunction( obj ) {\n\treturn jQuery.type(obj) === \"function\";\n}\n\nfunction isArray( obj ) {\n\treturn jQuery.type(obj) === \"array\";\n}\n\nfunction each( object, callback, args ) {\n\tvar name, i = 0,\n\tlength = object.length,\n\tisObj = length === undefined || isFunction( object );\n\n\tif ( args ) {\n\t\tif ( isObj ) {\n\t\t\tfor ( name in object ) {\n\t\t\t\tif ( callback.apply( object[ name ], args ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( ; i < length; ) {\n\t\t\t\tif ( callback.apply( object[ i++ ], args ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// A special, fast, case for the most common use of each\n\t} else {\n\t\tif ( isObj ) {\n\t\t\tfor ( name in object ) {\n\t\t\t\tif ( callback.call( object[ name ], name, object[ name ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( ; i < length; ) {\n\t\t\t\tif ( callback.call( object[ i ], i, object[ i++ ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn object;\n}\n\nfunction isPlainObject( obj ) {\n\t// Must be an Object.\n\tif ( !obj || jQuery.type(obj) !== \"object\" ) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\nfunction extend() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\ttarget = arguments[0] || {},\n\ti = 1,\n\tlength = arguments.length,\n\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !jQuery.isFunction(target) ) {\n\t\ttarget = {};\n\t}\n\n\t// extend jQuery itself if only one argument is passed\n\tif ( length === i ) {\n\t\ttarget = this;\n\t\t--i;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\t\t// Only deal with non-null/undefined values\n\t\tif ( (options = arguments[ i ]) != null ) {\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && jQuery.isArray(src) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject(src) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n","\n/*!\n* jquery-deferred\n* Copyright(c) 2011 Hidden <zzdhidden@gmail.com>\n* MIT Licensed\n*/\n\n/**\n* Library version.\n*/\n\nvar jQuery = module.exports = require(\"./jquery-callbacks.js\"),\n\tcore_slice = Array.prototype.slice;\n\n/**\n* jQuery deferred\n*\n* Code from: https://github.com/jquery/jquery/blob/master/src/deferred.js\n* Doc: http://api.jquery.com/category/deferred-object/\n*\n*/\n\njQuery.extend({\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\t\t\t\t// action, add listener, listener list, final state\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks(\"once memory\"), \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks(\"once memory\"), \"rejected\" ],\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks(\"memory\") ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\t\t\t\t\treturn jQuery.Deferred(function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\t\t\t\t\tvar action = tuple[ 0 ],\n\t\t\t\t\t\t\t\tfn = fns[ i ];\n\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\n\t\t\t\t\t\t\tdeferred[ tuple[1] ]( jQuery.isFunction( fn ) ?\n\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\tvar returned = fn.apply( this, arguments );\n\t\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject )\n\t\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify );\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnewDefer[ action + \"With\" ]( this === deferred ? newDefer : this, [ returned ] );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} :\n\t\t\t\t\t\t\t\tnewDefer[ action ]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t}).promise();\n\t\t\t\t},\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Keep pipe for back-compat\n\t\tpromise.pipe = promise.then;\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 3 ];\n\n\t\t\t// promise[ done | fail | progress ] = list.add\n\t\t\tpromise[ tuple[1] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(function() {\n\t\t\t\t\t// state = [ resolved | rejected ]\n\t\t\t\t\tstate = stateString;\n\n\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\n\t\t\t\t}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );\n\t\t\t}\n\n\t\t\t// deferred[ resolve | reject | notify ] = list.fire\n\t\t\tdeferred[ tuple[0] ] = list.fire;\n\t\t\tdeferred[ tuple[0] + \"With\" ] = list.fireWith;\n\t\t});\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( subordinate /* , ..., subordinateN */ ) {\n\t\tvar i = 0,\n\t\t\tresolveValues = core_slice.call( arguments ),\n\t\t\tlength = resolveValues.length,\n\n\t\t\t// the count of uncompleted subordinates\n\t\t\tremaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,\n\n\t\t\t// the master Deferred. If resolveValues consist of only a single Deferred, just use that.\n\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\n\n\t\t\t// Update function for both resolve and progress values\n\t\t\tupdateFunc = function( i, contexts, values ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tcontexts[ i ] = this;\n\t\t\t\t\tvalues[ i ] = arguments.length > 1 ? core_slice.call( arguments ) : value;\n\t\t\t\t\tif( values === progressValues ) {\n\t\t\t\t\t\tdeferred.notifyWith( contexts, values );\n\t\t\t\t\t} else if ( !( --remaining ) ) {\n\t\t\t\t\t\tdeferred.resolveWith( contexts, values );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tprogressValues, progressContexts, resolveContexts;\n\n\t\t// add listeners to Deferred subordinates; treat others as resolved\n\t\tif ( length > 1 ) {\n\t\t\tprogressValues = new Array( length );\n\t\t\tprogressContexts = new Array( length );\n\t\t\tresolveContexts = new Array( length );\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {\n\t\t\t\t\tresolveValues[ i ].promise()\n\t\t\t\t\t\t.done( updateFunc( i, resolveContexts, resolveValues ) )\n\t\t\t\t\t\t.fail( deferred.reject )\n\t\t\t\t\t\t.progress( updateFunc( i, progressContexts, progressValues ) );\n\t\t\t\t} else {\n\t\t\t\t\t--remaining;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// if we're not waiting on anything, resolve the master\n\t\tif ( !remaining ) {\n\t\t\tdeferred.resolveWith( resolveContexts, resolveValues );\n\t\t}\n\n\t\treturn deferred.promise();\n\t}\n});\n","/**\n * @preserve jquery-param (c) 2015 KNOWLEDGECODE | MIT\n */\n(function (global) {\n    'use strict';\n\n    var param = function (a) {\n        var s = [], rbracket = /\\[\\]$/,\n            isArray = function (obj) {\n                return Object.prototype.toString.call(obj) === '[object Array]';\n            }, add = function (k, v) {\n                v = typeof v === 'function' ? v() : v === null ? '' : v === undefined ? '' : v;\n                s[s.length] = encodeURIComponent(k) + '=' + encodeURIComponent(v);\n            }, buildParams = function (prefix, obj) {\n                var i, len, key;\n\n                if (prefix) {\n                    if (isArray(obj)) {\n                        for (i = 0, len = obj.length; i < len; i++) {\n                            if (rbracket.test(prefix)) {\n                                add(prefix, obj[i]);\n                            } else {\n                                buildParams(prefix + '[' + (typeof obj[i] === 'object' ? i : '') + ']', obj[i]);\n                            }\n                        }\n                    } else if (obj && String(obj) === '[object Object]') {\n                        for (key in obj) {\n                            buildParams(prefix + '[' + key + ']', obj[key]);\n                        }\n                    } else {\n                        add(prefix, obj);\n                    }\n                } else if (isArray(obj)) {\n                    for (i = 0, len = obj.length; i < len; i++) {\n                        add(obj[i].name, obj[i].value);\n                    }\n                } else {\n                    for (key in obj) {\n                        buildParams(key, obj[key]);\n                    }\n                }\n                return s;\n            };\n\n        return buildParams('', a).join('&').replace(/%20/g, '+');\n    };\n\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        module.exports = param;\n    } else if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return param;\n        });\n    } else {\n        global.param = param;\n    }\n\n}(this));\n\n","'use strict';\r\n\r\nvar jQueryDeferred = require('jquery-deferred');\r\nvar jQueryParam = require('jquery-param');\r\n\r\nvar jqueryFunction = function jqueryFunction(subject) {\r\n  var events = subject.events || {};\r\n\r\n  if (subject && subject === subject.window) return {\r\n    0: subject,\r\n    load: function load(handler) {\r\n      return subject.addEventListener('load', handler, false);\r\n    },\r\n    bind: function bind(event, handler) {\r\n      return subject.addEventListener(event, handler, false);\r\n    },\r\n    unbind: function unbind(event, handler) {\r\n      return subject.removeEventListener(event, handler, false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    0: subject,\r\n\r\n    unbind: function unbind(event, handler) {\r\n      var handlers = events[event] || [];\r\n\r\n      if (handler) {\r\n        var idx = handlers.indexOf(handler);\r\n        if (idx !== -1) handlers.splice(idx, 1);\r\n      } else handlers = [];\r\n\r\n      events[event] = handlers;\r\n      subject.events = events;\r\n    },\r\n    bind: function bind(event, handler) {\r\n      var current = events[event] || [];\r\n      events[event] = current.concat(handler);\r\n      subject.events = events;\r\n    },\r\n    triggerHandler: function triggerHandler(event, args) {\r\n      var _this = this;\r\n\r\n      var handlers = events[event] || [];\r\n      handlers.forEach(function (fn) {\r\n        if (args && args[0] && args[0].type === undefined) {\r\n          args = [{\r\n            type: event\r\n          }].concat(args || []);\r\n        } else {\r\n          args = args || [];\r\n        }\r\n\r\n        fn.apply(_this, args);\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nvar xhr = function xhr() {\r\n  try {\r\n    return new window.XMLHttpRequest();\r\n  } catch (e) {}\r\n};\r\n\r\nvar ajax = function ajax(options) {\r\n  var request = xhr();\r\n\r\n  if (options.xhrFields && options.xhrFields.withCredentials) {\r\n    request.withCredentials = true;\r\n  }\r\n\r\n  request.onreadystatechange = function () {\r\n    if (request.readyState !== 4) {\r\n      return;\r\n    }\r\n\r\n    if (request.status === 200 && !request._hasError) {\r\n      try {\r\n        options.success && options.success(JSON.parse(request.responseText));\r\n      } catch (e) {\r\n        options.error && options.error(request);\r\n      }\r\n    } else {\r\n      options.error && options.error(request);\r\n    }\r\n  };\r\n\r\n  request.withCredentials = options.xhrFields.withCredentials;\r\n  var cacheBuster = \"_=\" + new Date().getTime();\r\n  if (options.url.indexOf(\"?\") === -1) {\r\n\t\toptions.url += \"?\" + cacheBuster;\r\n\t} else if (options.url.indexOf(\"_=\") === -1) {\r\n    options.url += \"&\" + cacheBuster;\r\n  } else {\r\n    options.url = options.url.replace(/_=\\d+/, cacheBuster);\r\n  }\r\n  request.open(options.type, options.url);\r\n  request.setRequestHeader('content-type', options.contentType);\r\n  if (options.headers) {\r\n    Object.keys(options.headers).forEach(function (key) {\r\n      var value = options.headers[key];\r\n      request.setRequestHeader(key, value);\r\n    });\r\n  }\r\n\r\n  request.send(options.data.data && 'data=' + encodeURIComponent(options.data.data));\r\n\r\n  return {\r\n    abort: function abort(reason) {\r\n      return request.abort(reason);\r\n    }\r\n  };\r\n};\r\n\r\nmodule.exports = jQueryDeferred.extend(jqueryFunction, jQueryDeferred, {\r\n  defaultAjaxHeaders: null,\r\n  ajax: ajax,\r\n  inArray: function inArray(arr, item) {\r\n    return arr.indexOf(item) !== -1;\r\n  },\r\n  trim: function trim(str) {\r\n    return str && str.trim();\r\n  },\r\n  isEmptyObject: function isEmptyObject(obj) {\r\n    return !obj || Object.keys(obj).length === 0;\r\n  },\r\n  makeArray: function makeArray(arr) {\r\n    return [].slice.call(arr, 0);\r\n  },\r\n  param: function param(obj) {\r\n    return jQueryParam(obj);\r\n  },\r\n  support: {\r\n    cors: function () {\r\n      var xhrObj = xhr();\r\n      return !!xhrObj && \"withCredentials\" in xhrObj;\r\n    }()\r\n  }\r\n});","'use strict';\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar jQueryShim = require('./jQueryShim');\r\n\r\n/* jquery.signalR.core.js */\r\n/*global window:false */\r\n/*!\r\n * ASP.NET SignalR JavaScript Library 2.4.1\r\n * http://signalr.net/\r\n *\r\n * Copyright (c) .NET Foundation. All rights reserved.\r\n * Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n *\r\n */\r\n\r\n/// <reference path=\"Scripts/jquery-1.6.4.js\" />\r\n/// <reference path=\"jquery.signalR.version.js\" />\r\n(function ($, window, undefined) {\r\n\r\n    var resources = {\r\n        nojQuery: \"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.\",\r\n        noTransportOnInit: \"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.\",\r\n        errorOnNegotiate: \"Error during negotiation request.\",\r\n        stoppedWhileLoading: \"The connection was stopped during page load.\",\r\n        stoppedWhileNegotiating: \"The connection was stopped during the negotiate request.\",\r\n        errorParsingNegotiateResponse: \"Error parsing negotiate response.\",\r\n        errorRedirectionExceedsLimit: \"Negotiate redirection limit exceeded.\",\r\n        errorDuringStartRequest: \"Error during start request. Stopping the connection.\",\r\n        errorFromServer: \"Error message received from the server: '{0}'.\",\r\n        stoppedDuringStartRequest: \"The connection was stopped during the start request.\",\r\n        errorParsingStartResponse: \"Error parsing start response: '{0}'. Stopping the connection.\",\r\n        invalidStartResponse: \"Invalid start response: '{0}'. Stopping the connection.\",\r\n        protocolIncompatible: \"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.\",\r\n        aspnetCoreSignalrServer: \"Detected a connection attempt to an ASP.NET Core SignalR Server. This client only supports connecting to an ASP.NET SignalR Server. See https://aka.ms/signalr-core-differences for details.\",\r\n        sendFailed: \"Send failed.\",\r\n        parseFailed: \"Failed at parsing response: {0}\",\r\n        longPollFailed: \"Long polling request failed.\",\r\n        eventSourceFailedToConnect: \"EventSource failed to connect.\",\r\n        eventSourceError: \"Error raised by EventSource\",\r\n        webSocketClosed: \"WebSocket closed.\",\r\n        pingServerFailedInvalidResponse: \"Invalid ping response when pinging server: '{0}'.\",\r\n        pingServerFailed: \"Failed to ping server.\",\r\n        pingServerFailedStatusCode: \"Failed to ping server.  Server responded with status code {0}, stopping the connection.\",\r\n        pingServerFailedParse: \"Failed to parse ping server response, stopping the connection.\",\r\n        noConnectionTransport: \"Connection is in an invalid state, there is no transport active.\",\r\n        webSocketsInvalidState: \"The Web Socket transport is in an invalid state, transitioning into reconnecting.\",\r\n        reconnectTimeout: \"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.\",\r\n        reconnectWindowTimeout: \"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection.\",\r\n        jsonpNotSupportedWithAccessToken: \"The JSONP protocol does not support connections that require a Bearer token to connect, such as the Azure SignalR Service.\"\r\n    };\r\n\r\n    if (typeof $ !== \"function\") {\r\n        // no jQuery!\r\n        throw new Error(resources.nojQuery);\r\n    }\r\n\r\n    var _signalR,\r\n        _connection,\r\n        _pageLoaded = window.document.readyState === \"complete\",\r\n        _pageWindow = $(window),\r\n        _negotiateAbortText = \"__Negotiate Aborted__\",\r\n        events = {\r\n        onStart: \"onStart\",\r\n        onStarting: \"onStarting\",\r\n        onReceived: \"onReceived\",\r\n        onError: \"onError\",\r\n        onConnectionSlow: \"onConnectionSlow\",\r\n        onReconnecting: \"onReconnecting\",\r\n        onReconnect: \"onReconnect\",\r\n        onStateChanged: \"onStateChanged\",\r\n        onDisconnect: \"onDisconnect\"\r\n    },\r\n        ajaxDefaults = {\r\n        processData: true,\r\n        timeout: null,\r\n        async: true,\r\n        global: false,\r\n        cache: false\r\n    },\r\n        _log = function _log(msg, logging) {\r\n        if (logging === false) {\r\n            return;\r\n        }\r\n        var m;\r\n        if (typeof window.console === \"undefined\") {\r\n            return;\r\n        }\r\n        m = \"[\" + new Date().toTimeString() + \"] SignalR: \" + msg;\r\n        if (window.console.debug) {\r\n            window.console.debug(m);\r\n        } else if (window.console.log) {\r\n            window.console.log(m);\r\n        }\r\n    },\r\n        changeState = function changeState(connection, expectedState, newState) {\r\n        if (expectedState === connection.state) {\r\n            connection.state = newState;\r\n\r\n            $(connection).triggerHandler(events.onStateChanged, [{ oldState: expectedState, newState: newState }]);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n        isDisconnecting = function isDisconnecting(connection) {\r\n        return connection.state === _signalR.connectionState.disconnected;\r\n    },\r\n        supportsKeepAlive = function supportsKeepAlive(connection) {\r\n        return connection._.keepAliveData.activated && connection.transport.supportsKeepAlive(connection);\r\n    },\r\n        configureStopReconnectingTimeout = function configureStopReconnectingTimeout(connection) {\r\n        var stopReconnectingTimeout, onReconnectTimeout;\r\n\r\n        // Check if this connection has already been configured to stop reconnecting after a specified timeout.\r\n        // Without this check if a connection is stopped then started events will be bound multiple times.\r\n        if (!connection._.configuredStopReconnectingTimeout) {\r\n            onReconnectTimeout = function onReconnectTimeout(connection) {\r\n                var message = _signalR._.format(_signalR.resources.reconnectTimeout, connection.disconnectTimeout);\r\n                connection.log(message);\r\n                $(connection).triggerHandler(events.onError, [_signalR._.error(message, /* source */\"TimeoutException\")]);\r\n                connection.stop( /* async */false, /* notifyServer */false);\r\n            };\r\n\r\n            connection.reconnecting(function () {\r\n                var connection = this;\r\n\r\n                // Guard against state changing in a previous user defined even handler\r\n                if (connection.state === _signalR.connectionState.reconnecting) {\r\n                    stopReconnectingTimeout = window.setTimeout(function () {\r\n                        onReconnectTimeout(connection);\r\n                    }, connection.disconnectTimeout);\r\n                }\r\n            });\r\n\r\n            connection.stateChanged(function (data) {\r\n                if (data.oldState === _signalR.connectionState.reconnecting) {\r\n                    // Clear the pending reconnect timeout check\r\n                    window.clearTimeout(stopReconnectingTimeout);\r\n                }\r\n            });\r\n\r\n            connection._.configuredStopReconnectingTimeout = true;\r\n        }\r\n    };\r\n\r\n    _signalR = function signalR(url, qs, logging) {\r\n        /// <summary>Creates a new SignalR connection for the given url</summary>\r\n        /// <param name=\"url\" type=\"String\">The URL of the long polling endpoint</param>\r\n        /// <param name=\"qs\" type=\"Object\">\r\n        ///     [Optional] Custom querystring parameters to add to the connection URL.\r\n        ///     If an object, every non-function member will be added to the querystring.\r\n        ///     If a string, it's added to the QS as specified.\r\n        /// </param>\r\n        /// <param name=\"logging\" type=\"Boolean\">\r\n        ///     [Optional] A flag indicating whether connection logging is enabled to the browser\r\n        ///     console/log. Defaults to false.\r\n        /// </param>\r\n\r\n        return new _signalR.fn.init(url, qs, logging);\r\n    };\r\n\r\n    _signalR._ = {\r\n        defaultContentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\r\n\r\n        ieVersion: function () {\r\n            var version, matches;\r\n\r\n            if (window.navigator.appName === 'Microsoft Internet Explorer') {\r\n                // Check if the user agent has the pattern \"MSIE (one or more numbers).(one or more numbers)\";\r\n                matches = /MSIE ([0-9]+\\.[0-9]+)/.exec(window.navigator.userAgent);\r\n\r\n                if (matches) {\r\n                    version = window.parseFloat(matches[1]);\r\n                }\r\n            }\r\n\r\n            // undefined value means not IE\r\n            return version;\r\n        }(),\r\n\r\n        error: function error(message, source, context) {\r\n            var e = new Error(message);\r\n            e.source = source;\r\n\r\n            if (typeof context !== \"undefined\") {\r\n                e.context = context;\r\n            }\r\n\r\n            return e;\r\n        },\r\n\r\n        transportError: function transportError(message, transport, source, context) {\r\n            var e = this.error(message, source, context);\r\n            e.transport = transport ? transport.name : undefined;\r\n            return e;\r\n        },\r\n\r\n        format: function format() {\r\n            /// <summary>Usage: format(\"Hi {0}, you are {1}!\", \"Foo\", 100) </summary>\r\n            var s = arguments[0];\r\n            for (var i = 0; i < arguments.length - 1; i++) {\r\n                s = s.replace(\"{\" + i + \"}\", arguments[i + 1]);\r\n            }\r\n            return s;\r\n        },\r\n\r\n        firefoxMajorVersion: function firefoxMajorVersion(userAgent) {\r\n            // Firefox user agents: http://useragentstring.com/pages/Firefox/\r\n            var matches = userAgent.match(/Firefox\\/(\\d+)/);\r\n            if (!matches || !matches.length || matches.length < 2) {\r\n                return 0;\r\n            }\r\n            return parseInt(matches[1], 10 /* radix */);\r\n        },\r\n\r\n        configurePingInterval: function configurePingInterval(connection) {\r\n            var config = connection._.config,\r\n                onFail = function onFail(error) {\r\n                $(connection).triggerHandler(events.onError, [error]);\r\n            };\r\n\r\n            if (config && !connection._.pingIntervalId && config.pingInterval) {\r\n                connection._.pingIntervalId = window.setInterval(function () {\r\n                    _signalR.transports._logic.pingServer(connection).fail(onFail);\r\n                }, config.pingInterval);\r\n            }\r\n        }\r\n    };\r\n\r\n    _signalR.events = events;\r\n\r\n    _signalR.resources = resources;\r\n\r\n    _signalR.ajaxDefaults = ajaxDefaults;\r\n\r\n    _signalR.changeState = changeState;\r\n\r\n    _signalR.isDisconnecting = isDisconnecting;\r\n\r\n    _signalR.connectionState = {\r\n        connecting: 0,\r\n        connected: 1,\r\n        reconnecting: 2,\r\n        disconnected: 4\r\n    };\r\n\r\n    _signalR.hub = {\r\n        start: function start() {\r\n            // This will get replaced with the real hub connection start method when hubs is referenced correctly\r\n            throw new Error(\"SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'></script>.\");\r\n        }\r\n    };\r\n\r\n    // .on() was added in version 1.7.0, .load() was removed in version 3.0.0 so we fallback to .load() if .on() does\r\n    // not exist to not break existing applications\r\n    if (typeof _pageWindow.on == \"function\") {\r\n        _pageWindow.on(\"load\", function () {\r\n            _pageLoaded = true;\r\n        });\r\n    } else {\r\n        _pageWindow.load(function () {\r\n            _pageLoaded = true;\r\n        });\r\n    }\r\n\r\n    function validateTransport(requestedTransport, connection) {\r\n        /// <summary>Validates the requested transport by cross checking it with the pre-defined signalR.transports</summary>\r\n        /// <param name=\"requestedTransport\" type=\"Object\">The designated transports that the user has specified.</param>\r\n        /// <param name=\"connection\" type=\"signalR\">The connection that will be using the requested transports.  Used for logging purposes.</param>\r\n        /// <returns type=\"Object\" />\r\n\r\n        if ($.isArray(requestedTransport)) {\r\n            // Go through transport array and remove an \"invalid\" tranports\r\n            for (var i = requestedTransport.length - 1; i >= 0; i--) {\r\n                var transport = requestedTransport[i];\r\n                if ($.type(transport) !== \"string\" || !_signalR.transports[transport]) {\r\n                    connection.log(\"Invalid transport: \" + transport + \", removing it from the transports list.\");\r\n                    requestedTransport.splice(i, 1);\r\n                }\r\n            }\r\n\r\n            // Verify we still have transports left, if we dont then we have invalid transports\r\n            if (requestedTransport.length === 0) {\r\n                connection.log(\"No transports remain within the specified transport array.\");\r\n                requestedTransport = null;\r\n            }\r\n        } else if (!_signalR.transports[requestedTransport] && requestedTransport !== \"auto\") {\r\n            connection.log(\"Invalid transport: \" + requestedTransport.toString() + \".\");\r\n            requestedTransport = null;\r\n        } else if (requestedTransport === \"auto\" && _signalR._.ieVersion <= 8) {\r\n            // If we're doing an auto transport and we're IE8 then force longPolling, #1764\r\n            return [\"longPolling\"];\r\n        }\r\n\r\n        return requestedTransport;\r\n    }\r\n\r\n    function getDefaultPort(protocol) {\r\n        if (protocol === \"http:\") {\r\n            return 80;\r\n        } else if (protocol === \"https:\") {\r\n            return 443;\r\n        }\r\n    }\r\n\r\n    function addDefaultPort(protocol, url) {\r\n        // Remove ports  from url.  We have to check if there's a / or end of line\r\n        // following the port in order to avoid removing ports such as 8080.\r\n        if (url.match(/:\\d+$/)) {\r\n            return url;\r\n        } else {\r\n            return url + \":\" + getDefaultPort(protocol);\r\n        }\r\n    }\r\n\r\n    function ConnectingMessageBuffer(connection, drainCallback) {\r\n        var that = this,\r\n            buffer = [];\r\n\r\n        that.tryBuffer = function (message) {\r\n            if (connection.state === $.signalR.connectionState.connecting) {\r\n                buffer.push(message);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n        that.drain = function () {\r\n            // Ensure that the connection is connected when we drain (do not want to drain while a connection is not active)\r\n            if (connection.state === $.signalR.connectionState.connected) {\r\n                while (buffer.length > 0) {\r\n                    drainCallback(buffer.shift());\r\n                }\r\n            }\r\n        };\r\n\r\n        that.clear = function () {\r\n            buffer = [];\r\n        };\r\n    }\r\n\r\n    _signalR.fn = _signalR.prototype = {\r\n        init: function init(url, qs, logging) {\r\n            var $connection = $(this);\r\n\r\n            this.url = url;\r\n            this.qs = qs;\r\n            this.lastError = null;\r\n            this._ = {\r\n                keepAliveData: {},\r\n                connectingMessageBuffer: new ConnectingMessageBuffer(this, function (message) {\r\n                    $connection.triggerHandler(events.onReceived, [message]);\r\n                }),\r\n                lastMessageAt: new Date().getTime(),\r\n                lastActiveAt: new Date().getTime(),\r\n                beatInterval: 5000, // Default value, will only be overridden if keep alive is enabled,\r\n                beatHandle: null,\r\n                totalTransportConnectTimeout: 0, // This will be the sum of the TransportConnectTimeout sent in response to negotiate and connection.transportConnectTimeout\r\n                redirectQs: null\r\n            };\r\n            if (typeof logging === \"boolean\") {\r\n                this.logging = logging;\r\n            }\r\n        },\r\n\r\n        _parseResponse: function _parseResponse(response) {\r\n            var that = this;\r\n\r\n            if (!response) {\r\n                return response;\r\n            } else if (typeof response === \"string\") {\r\n                return that.json.parse(response);\r\n            } else {\r\n                return response;\r\n            }\r\n        },\r\n\r\n        _originalJson: window.JSON,\r\n\r\n        json: window.JSON,\r\n\r\n        isCrossDomain: function isCrossDomain(url, against) {\r\n            /// <summary>Checks if url is cross domain</summary>\r\n            /// <param name=\"url\" type=\"String\">The base URL</param>\r\n            /// <param name=\"against\" type=\"Object\">\r\n            ///     An optional argument to compare the URL against, if not specified it will be set to window.location.\r\n            ///     If specified it must contain a protocol and a host property.\r\n            /// </param>\r\n            var link;\r\n\r\n            url = $.trim(url);\r\n\r\n            against = against || window.location;\r\n\r\n            if (url.indexOf(\"http\") !== 0) {\r\n                return false;\r\n            }\r\n\r\n            // Create an anchor tag.\r\n            link = window.document.createElement(\"a\");\r\n            link.href = url;\r\n\r\n            // When checking for cross domain we have to special case port 80 because the window.location will remove the\r\n            return link.protocol + addDefaultPort(link.protocol, link.host) !== against.protocol + addDefaultPort(against.protocol, against.host);\r\n        },\r\n\r\n        ajaxDataType: \"text\",\r\n\r\n        contentType: \"application/json; charset=UTF-8\",\r\n\r\n        logging: false,\r\n\r\n        state: _signalR.connectionState.disconnected,\r\n\r\n        clientProtocol: \"2.1\",\r\n\r\n        // We want to support older servers since the 2.0 change is to support redirection results, which isn't\r\n        // really breaking in the protocol. So if a user updates their client to 2.0 protocol version there's\r\n        // no reason they can't still connect to a 1.5 server. The 2.1 protocol is sent by the client so the SignalR\r\n        // service knows the client will use they query string returned via the RedirectUrl for subsequent requests.\r\n        // It doesn't matter whether the server reflects back 2.1 or continues using 2.0 as the protocol version.\r\n        supportedProtocols: [\"1.5\", \"2.0\", \"2.1\"],\r\n\r\n        negotiateRedirectSupportedProtocols: [\"2.0\", \"2.1\"],\r\n\r\n        reconnectDelay: 2000,\r\n\r\n        transportConnectTimeout: 0,\r\n\r\n        disconnectTimeout: 30000, // This should be set by the server in response to the negotiate request (30s default)\r\n\r\n        reconnectWindow: 30000, // This should be set by the server in response to the negotiate request\r\n\r\n        keepAliveWarnAt: 2 / 3, // Warn user of slow connection if we breach the X% mark of the keep alive timeout\r\n\r\n        start: function start(options, callback) {\r\n            /// <summary>Starts the connection</summary>\r\n            /// <param name=\"options\" type=\"Object\">Options map</param>\r\n            /// <param name=\"callback\" type=\"Function\">A callback function to execute when the connection has started</param>\r\n            var connection = this,\r\n                config = {\r\n                pingInterval: 300000,\r\n                waitForPageLoad: true,\r\n                transport: \"auto\",\r\n                jsonp: false\r\n            },\r\n                _initialize,\r\n                deferred = connection._deferral || $.Deferred(),\r\n                // Check to see if there is a pre-existing deferral that's being built on, if so we want to keep using it\r\n            parser = window.document.createElement(\"a\"),\r\n                setConnectionUrl = function setConnectionUrl(connection, url) {\r\n                if (connection.url === url && connection.baseUrl) {\r\n                    // when the url related properties are already set\r\n                    return;\r\n                }\r\n\r\n                connection.url = url;\r\n\r\n                // Resolve the full url\r\n                parser.href = connection.url;\r\n                if (!parser.protocol || parser.protocol === \":\") {\r\n                    connection.protocol = window.document.location.protocol;\r\n                    connection.host = parser.host || window.document.location.host;\r\n                } else {\r\n                    connection.protocol = parser.protocol;\r\n                    connection.host = parser.host;\r\n                }\r\n\r\n                connection.baseUrl = connection.protocol + \"//\" + connection.host;\r\n\r\n                // Set the websocket protocol\r\n                connection.wsProtocol = connection.protocol === \"https:\" ? \"wss://\" : \"ws://\";\r\n\r\n                // If the url is protocol relative, prepend the current windows protocol to the url.\r\n                if (connection.url.indexOf(\"//\") === 0) {\r\n                    connection.url = window.location.protocol + connection.url;\r\n                    connection.log(\"Protocol relative URL detected, normalizing it to '\" + connection.url + \"'.\");\r\n                }\r\n\r\n                if (connection.isCrossDomain(connection.url)) {\r\n                    connection.log(\"Auto detected cross domain url.\");\r\n\r\n                    if (config.transport === \"auto\") {\r\n                        // Cross-domain does not support foreverFrame\r\n                        config.transport = [\"webSockets\", \"serverSentEvents\", \"longPolling\"];\r\n                    }\r\n\r\n                    if (typeof connection.withCredentials === \"undefined\") {\r\n                        connection.withCredentials = true;\r\n                    }\r\n\r\n                    // Determine if jsonp is the only choice for negotiation, ajaxSend and ajaxAbort.\r\n                    // i.e. if the browser doesn't supports CORS\r\n                    // If it is, ignore any preference to the contrary, and switch to jsonp.\r\n                    if (!$.support.cors) {\r\n                        connection.ajaxDataType = \"jsonp\";\r\n                        connection.log(\"Using jsonp because this browser doesn't support CORS.\");\r\n                    }\r\n\r\n                    connection.contentType = _signalR._.defaultContentType;\r\n                }\r\n            };\r\n\r\n            connection.lastError = null;\r\n\r\n            // Persist the deferral so that if start is called multiple times the same deferral is used.\r\n            connection._deferral = deferred;\r\n\r\n            if (!connection.json) {\r\n                // no JSON!\r\n                throw new Error(\"SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.\");\r\n            }\r\n\r\n            if ($.type(options) === \"function\") {\r\n                // Support calling with single callback parameter\r\n                callback = options;\r\n            } else if ($.type(options) === \"object\") {\r\n                $.extend(config, options);\r\n                if ($.type(config.callback) === \"function\") {\r\n                    callback = config.callback;\r\n                }\r\n            }\r\n\r\n            config.transport = validateTransport(config.transport, connection);\r\n\r\n            // If the transport is invalid throw an error and abort start\r\n            if (!config.transport) {\r\n                throw new Error(\"SignalR: Invalid transport(s) specified, aborting start.\");\r\n            }\r\n\r\n            connection._.config = config;\r\n\r\n            // Check to see if start is being called prior to page load\r\n            // If waitForPageLoad is true we then want to re-direct function call to the window load event\r\n            if (!_pageLoaded && config.waitForPageLoad === true) {\r\n                connection._.deferredStartHandler = function () {\r\n                    connection.start(options, callback);\r\n                };\r\n                _pageWindow.bind(\"load\", connection._.deferredStartHandler);\r\n\r\n                return deferred.promise();\r\n            }\r\n\r\n            // If we're already connecting just return the same deferral as the original connection start\r\n            if (connection.state === _signalR.connectionState.connecting) {\r\n                return deferred.promise();\r\n            } else if (changeState(connection, _signalR.connectionState.disconnected, _signalR.connectionState.connecting) === false) {\r\n                // We're not connecting so try and transition into connecting.\r\n                // If we fail to transition then we're either in connected or reconnecting.\r\n\r\n                deferred.resolve(connection);\r\n                return deferred.promise();\r\n            }\r\n\r\n            configureStopReconnectingTimeout(connection);\r\n\r\n            // If jsonp with no/auto transport is specified, then set the transport to long polling\r\n            // since that is the only transport for which jsonp really makes sense.\r\n            // Some developers might actually choose to specify jsonp for same origin requests\r\n            // as demonstrated by Issue #623.\r\n            if (config.transport === \"auto\" && config.jsonp === true) {\r\n                config.transport = \"longPolling\";\r\n            }\r\n\r\n            connection.withCredentials = config.withCredentials;\r\n\r\n            // Save the original url so that we can reset it when we stop and restart the connection\r\n            connection._originalUrl = connection.url;\r\n\r\n            connection.ajaxDataType = config.jsonp ? \"jsonp\" : \"text\";\r\n\r\n            setConnectionUrl(connection, connection.url);\r\n\r\n            $(connection).bind(events.onStart, function (e, data) {\r\n                if ($.type(callback) === \"function\") {\r\n                    callback.call(connection);\r\n                }\r\n                deferred.resolve(connection);\r\n            });\r\n\r\n            connection._.initHandler = _signalR.transports._logic.initHandler(connection);\r\n\r\n            _initialize = function initialize(transports, index) {\r\n                var noTransportError = _signalR._.error(resources.noTransportOnInit);\r\n\r\n                index = index || 0;\r\n                if (index >= transports.length) {\r\n                    if (index === 0) {\r\n                        connection.log(\"No transports supported by the server were selected.\");\r\n                    } else if (index === 1) {\r\n                        connection.log(\"No fallback transports were selected.\");\r\n                    } else {\r\n                        connection.log(\"Fallback transports exhausted.\");\r\n                    }\r\n\r\n                    // No transport initialized successfully\r\n                    $(connection).triggerHandler(events.onError, [noTransportError]);\r\n                    deferred.reject(noTransportError);\r\n                    // Stop the connection if it has connected and move it into the disconnected state\r\n                    connection.stop();\r\n                    return;\r\n                }\r\n\r\n                // The connection was aborted\r\n                if (connection.state === _signalR.connectionState.disconnected) {\r\n                    return;\r\n                }\r\n\r\n                var transportName = transports[index],\r\n                    transport = _signalR.transports[transportName],\r\n                    onFallback = function onFallback() {\r\n                    _initialize(transports, index + 1);\r\n                };\r\n\r\n                connection.transport = transport;\r\n\r\n                try {\r\n                    connection._.initHandler.start(transport, function () {\r\n                        // success\r\n                        // Firefox 11+ doesn't allow sync XHR withCredentials: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#withCredentials\r\n                        var isFirefox11OrGreater = _signalR._.firefoxMajorVersion(window.navigator.userAgent) >= 11,\r\n                            asyncAbort = true;\r\n\r\n                        connection.log(\"The start request succeeded. Transitioning to the connected state.\");\r\n\r\n                        if (supportsKeepAlive(connection)) {\r\n                            _signalR.transports._logic.monitorKeepAlive(connection);\r\n                        }\r\n\r\n                        _signalR.transports._logic.startHeartbeat(connection);\r\n\r\n                        // Used to ensure low activity clients maintain their authentication.\r\n                        // Must be configured once a transport has been decided to perform valid ping requests.\r\n                        _signalR._.configurePingInterval(connection);\r\n\r\n                        if (!changeState(connection, _signalR.connectionState.connecting, _signalR.connectionState.connected)) {\r\n                            connection.log(\"WARNING! The connection was not in the connecting state.\");\r\n                        }\r\n\r\n                        // Drain any incoming buffered messages (messages that came in prior to connect)\r\n                        connection._.connectingMessageBuffer.drain();\r\n\r\n                        $(connection).triggerHandler(events.onStart);\r\n\r\n                        // wire the stop handler for when the user leaves the page\r\n                        _pageWindow.bind(\"unload\", function () {\r\n                            connection.log(\"Window unloading, stopping the connection.\");\r\n\r\n                            connection.stop(asyncAbort);\r\n                        });\r\n\r\n                        if (isFirefox11OrGreater) {\r\n                            // Firefox does not fire cross-domain XHRs in the normal unload handler on tab close.\r\n                            // #2400\r\n                            _pageWindow.bind(\"beforeunload\", function () {\r\n                                // If connection.stop() runs runs in beforeunload and fails, it will also fail\r\n                                // in unload unless connection.stop() runs after a timeout.\r\n                                window.setTimeout(function () {\r\n                                    connection.stop(asyncAbort);\r\n                                }, 0);\r\n                            });\r\n                        }\r\n                    }, onFallback);\r\n                } catch (error) {\r\n                    connection.log(transport.name + \" transport threw '\" + error.message + \"' when attempting to start.\");\r\n                    onFallback();\r\n                }\r\n            };\r\n\r\n            var url = connection.url + \"/negotiate\",\r\n                onFailed = function onFailed(error, connection) {\r\n                var err = _signalR._.error(resources.errorOnNegotiate, error, connection._.negotiateRequest);\r\n\r\n                $(connection).triggerHandler(events.onError, err);\r\n                deferred.reject(err);\r\n                // Stop the connection if negotiate failed\r\n                connection.stop();\r\n            };\r\n\r\n            $(connection).triggerHandler(events.onStarting);\r\n\r\n            url = _signalR.transports._logic.prepareQueryString(connection, url);\r\n\r\n            connection.log(\"Negotiating with '\" + url + \"'.\");\r\n\r\n            // Save the ajax negotiate request object so we can abort it if stop is called while the request is in flight.\r\n            connection._.negotiateRequest = function () {\r\n                var res,\r\n                    redirects = 0,\r\n                    MAX_REDIRECTS = 100,\r\n                    keepAliveData,\r\n                    protocolError,\r\n                    transports = [],\r\n                    supportedTransports = [],\r\n                    negotiate = function negotiate(connection, onSuccess) {\r\n                    var url = _signalR.transports._logic.prepareQueryString(connection, connection.url + \"/negotiate\");\r\n                    connection.log(\"Negotiating with '\" + url + \"'.\");\r\n                    var options = {\r\n                        url: url,\r\n                        error: function error(_error, statusText) {\r\n                            // We don't want to cause any errors if we're aborting our own negotiate request.\r\n                            if (statusText !== _negotiateAbortText) {\r\n                                onFailed(_error, connection);\r\n                            } else {\r\n                                // This rejection will noop if the deferred has already been resolved or rejected.\r\n                                deferred.reject(_signalR._.error(resources.stoppedWhileNegotiating, null /* error */, connection._.negotiateRequest));\r\n                            }\r\n                        },\r\n                        success: onSuccess\r\n                    };\r\n\r\n                    if (connection.accessToken) {\r\n                        options.headers = { \"Authorization\": \"Bearer \" + connection.accessToken };\r\n                    }\r\n\r\n                    return _signalR.transports._logic.ajax(connection, options);\r\n                },\r\n                    callback = function callback(result) {\r\n                    try {\r\n                        res = connection._parseResponse(result);\r\n                    } catch (error) {\r\n                        onFailed(_signalR._.error(resources.errorParsingNegotiateResponse, error), connection);\r\n                        return;\r\n                    }\r\n\r\n                    // Check if the server is an ASP.NET Core app\r\n                    if (res.availableTransports) {\r\n                        protocolError = _signalR._.error(resources.aspnetCoreSignalrServer);\r\n                        $(connection).triggerHandler(events.onError, [protocolError]);\r\n                        deferred.reject(protocolError);\r\n                        return;\r\n                    }\r\n\r\n                    if (!res.ProtocolVersion || connection.supportedProtocols.indexOf(res.ProtocolVersion) === -1) {\r\n                        protocolError = _signalR._.error(_signalR._.format(resources.protocolIncompatible, connection.clientProtocol, res.ProtocolVersion));\r\n                        $(connection).triggerHandler(events.onError, [protocolError]);\r\n                        deferred.reject(protocolError);\r\n\r\n                        return;\r\n                    }\r\n\r\n                    // Check for a redirect response (which must have a ProtocolVersion of 2.0 or greater)\r\n                    // ProtocolVersion 2.1 is the highest supported by the client, so we can just check for 2.0 or 2.1 for now\r\n                    // instead of trying to do proper version string comparison in JavaScript.\r\n                    if (connection.negotiateRedirectSupportedProtocols.indexOf(res.ProtocolVersion) !== -1) {\r\n                        if (res.Error) {\r\n                            protocolError = _signalR._.error(_signalR._.format(resources.errorFromServer, res.Error));\r\n                            $(connection).triggerHandler(events.onError, [protocolError]);\r\n                            deferred.reject(protocolError);\r\n                            return;\r\n                        } else if (res.RedirectUrl) {\r\n                            if (redirects === MAX_REDIRECTS) {\r\n                                onFailed(_signalR._.error(resources.errorRedirectionExceedsLimit), connection);\r\n                                return;\r\n                            }\r\n\r\n                            if (config.transport === \"auto\") {\r\n                                // Redirected connections do not support foreverFrame\r\n                                config.transport = [\"webSockets\", \"serverSentEvents\", \"longPolling\"];\r\n                            }\r\n\r\n                            connection.log(\"Received redirect to: \" + res.RedirectUrl);\r\n                            connection.accessToken = res.AccessToken;\r\n\r\n                            var splitUrlAndQs = res.RedirectUrl.split(\"?\", 2);\r\n                            setConnectionUrl(connection, splitUrlAndQs[0]);\r\n\r\n                            // Update redirectQs with query string from only the most recent RedirectUrl.\r\n                            connection._.redirectQs = splitUrlAndQs.length === 2 ? splitUrlAndQs[1] : null;\r\n\r\n                            if (connection.ajaxDataType === \"jsonp\" && connection.accessToken) {\r\n                                onFailed(_signalR._.error(resources.jsonpNotSupportedWithAccessToken), connection);\r\n                                return;\r\n                            }\r\n\r\n                            redirects++;\r\n                            negotiate(connection, callback);\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n                    keepAliveData = connection._.keepAliveData;\r\n                    connection.appRelativeUrl = res.Url;\r\n                    connection.id = res.ConnectionId;\r\n                    connection.token = res.ConnectionToken;\r\n                    connection.webSocketServerUrl = res.WebSocketServerUrl;\r\n\r\n                    // The long poll timeout is the ConnectionTimeout plus 10 seconds\r\n                    connection._.pollTimeout = res.ConnectionTimeout * 1000 + 10000; // in ms\r\n\r\n                    // Once the server has labeled the PersistentConnection as Disconnected, we should stop attempting to reconnect\r\n                    // after res.DisconnectTimeout seconds.\r\n                    connection.disconnectTimeout = res.DisconnectTimeout * 1000; // in ms\r\n\r\n                    // Add the TransportConnectTimeout from the response to the transportConnectTimeout from the client to calculate the total timeout\r\n                    connection._.totalTransportConnectTimeout = connection.transportConnectTimeout + res.TransportConnectTimeout * 1000;\r\n\r\n                    // If we have a keep alive\r\n                    if (res.KeepAliveTimeout) {\r\n                        // Register the keep alive data as activated\r\n                        keepAliveData.activated = true;\r\n\r\n                        // Timeout to designate when to force the connection into reconnecting converted to milliseconds\r\n                        keepAliveData.timeout = res.KeepAliveTimeout * 1000;\r\n\r\n                        // Timeout to designate when to warn the developer that the connection may be dead or is not responding.\r\n                        keepAliveData.timeoutWarning = keepAliveData.timeout * connection.keepAliveWarnAt;\r\n\r\n                        // Instantiate the frequency in which we check the keep alive.  It must be short in order to not miss/pick up any changes\r\n                        connection._.beatInterval = (keepAliveData.timeout - keepAliveData.timeoutWarning) / 3;\r\n                    } else {\r\n                        keepAliveData.activated = false;\r\n                    }\r\n\r\n                    connection.reconnectWindow = connection.disconnectTimeout + (keepAliveData.timeout || 0);\r\n\r\n                    $.each(_signalR.transports, function (key) {\r\n                        if (key.indexOf(\"_\") === 0 || key === \"webSockets\" && !res.TryWebSockets) {\r\n                            return true;\r\n                        }\r\n                        supportedTransports.push(key);\r\n                    });\r\n\r\n                    if ($.isArray(config.transport)) {\r\n                        $.each(config.transport, function (_, transport) {\r\n                            if ($.inArray(transport, supportedTransports) >= 0) {\r\n                                transports.push(transport);\r\n                            }\r\n                        });\r\n                    } else if (config.transport === \"auto\") {\r\n                        transports = supportedTransports;\r\n                    } else if ($.inArray(config.transport, supportedTransports) >= 0) {\r\n                        transports.push(config.transport);\r\n                    }\r\n\r\n                    _initialize(transports);\r\n                };\r\n\r\n                return negotiate(connection, callback);\r\n            }();\r\n\r\n            return deferred.promise();\r\n        },\r\n\r\n        starting: function starting(callback) {\r\n            /// <summary>Adds a callback that will be invoked before anything is sent over the connection</summary>\r\n            /// <param name=\"callback\" type=\"Function\">A callback function to execute before the connection is fully instantiated.</param>\r\n            /// <returns type=\"signalR\" />\r\n            var connection = this;\r\n            $(connection).bind(events.onStarting, function (e, data) {\r\n                callback.call(connection);\r\n            });\r\n            return connection;\r\n        },\r\n\r\n        send: function send(data) {\r\n            /// <summary>Sends data over the connection</summary>\r\n            /// <param name=\"data\" type=\"String\">The data to send over the connection</param>\r\n            /// <returns type=\"signalR\" />\r\n            var connection = this;\r\n\r\n            if (connection.state === _signalR.connectionState.disconnected) {\r\n                // Connection hasn't been started yet\r\n                throw new Error(\"SignalR: Connection must be started before data can be sent. Call .start() before .send()\");\r\n            }\r\n\r\n            if (connection.state === _signalR.connectionState.connecting) {\r\n                // Connection hasn't been started yet\r\n                throw new Error(\"SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.\");\r\n            }\r\n\r\n            connection.transport.send(connection, data);\r\n            // REVIEW: Should we return deferred here?\r\n            return connection;\r\n        },\r\n\r\n        received: function received(callback) {\r\n            /// <summary>Adds a callback that will be invoked after anything is received over the connection</summary>\r\n            /// <param name=\"callback\" type=\"Function\">A callback function to execute when any data is received on the connection</param>\r\n            /// <returns type=\"signalR\" />\r\n            var connection = this;\r\n            $(connection).bind(events.onReceived, function (e, data) {\r\n                callback.call(connection, data);\r\n            });\r\n            return connection;\r\n        },\r\n\r\n        stateChanged: function stateChanged(callback) {\r\n            /// <summary>Adds a callback that will be invoked when the connection state changes</summary>\r\n            /// <param name=\"callback\" type=\"Function\">A callback function to execute when the connection state changes</param>\r\n            /// <returns type=\"signalR\" />\r\n            var connection = this;\r\n            $(connection).bind(events.onStateChanged, function (e, data) {\r\n                callback.call(connection, data);\r\n            });\r\n            return connection;\r\n        },\r\n\r\n        error: function error(callback) {\r\n            /// <summary>Adds a callback that will be invoked after an error occurs with the connection</summary>\r\n            /// <param name=\"callback\" type=\"Function\">A callback function to execute when an error occurs on the connection</param>\r\n            /// <returns type=\"signalR\" />\r\n            var connection = this;\r\n            $(connection).bind(events.onError, function (e, errorData, sendData) {\r\n                connection.lastError = errorData;\r\n                // In practice 'errorData' is the SignalR built error object.\r\n                // In practice 'sendData' is undefined for all error events except those triggered by\r\n                // 'ajaxSend' and 'webSockets.send'.'sendData' is the original send payload.\r\n                callback.call(connection, errorData, sendData);\r\n            });\r\n            return connection;\r\n        },\r\n\r\n        disconnected: function disconnected(callback) {\r\n            /// <summary>Adds a callback that will be invoked when the client disconnects</summary>\r\n            /// <param name=\"callback\" type=\"Function\">A callback function to execute when the connection is broken</param>\r\n            /// <returns type=\"signalR\" />\r\n            var connection = this;\r\n            $(connection).bind(events.onDisconnect, function (e, data) {\r\n                callback.call(connection);\r\n            });\r\n            return connection;\r\n        },\r\n\r\n        connectionSlow: function connectionSlow(callback) {\r\n            /// <summary>Adds a callback that will be invoked when the client detects a slow connection</summary>\r\n            /// <param name=\"callback\" type=\"Function\">A callback function to execute when the connection is slow</param>\r\n            /// <returns type=\"signalR\" />\r\n            var connection = this;\r\n            $(connection).bind(events.onConnectionSlow, function (e, data) {\r\n                callback.call(connection);\r\n            });\r\n\r\n            return connection;\r\n        },\r\n\r\n        reconnecting: function reconnecting(callback) {\r\n            /// <summary>Adds a callback that will be invoked when the underlying transport begins reconnecting</summary>\r\n            /// <param name=\"callback\" type=\"Function\">A callback function to execute when the connection enters a reconnecting state</param>\r\n            /// <returns type=\"signalR\" />\r\n            var connection = this;\r\n            $(connection).bind(events.onReconnecting, function (e, data) {\r\n                callback.call(connection);\r\n            });\r\n            return connection;\r\n        },\r\n\r\n        reconnected: function reconnected(callback) {\r\n            /// <summary>Adds a callback that will be invoked when the underlying transport reconnects</summary>\r\n            /// <param name=\"callback\" type=\"Function\">A callback function to execute when the connection is restored</param>\r\n            /// <returns type=\"signalR\" />\r\n            var connection = this;\r\n            $(connection).bind(events.onReconnect, function (e, data) {\r\n                callback.call(connection);\r\n            });\r\n            return connection;\r\n        },\r\n\r\n        stop: function stop(async, notifyServer) {\r\n            /// <summary>Stops listening</summary>\r\n            /// <param name=\"async\" type=\"Boolean\">Whether or not to asynchronously abort the connection</param>\r\n            /// <param name=\"notifyServer\" type=\"Boolean\">Whether we want to notify the server that we are aborting the connection</param>\r\n            /// <returns type=\"signalR\" />\r\n            var connection = this,\r\n\r\n            // Save deferral because this is always cleaned up\r\n            deferral = connection._deferral;\r\n\r\n            // Verify that we've bound a load event.\r\n            if (connection._.deferredStartHandler) {\r\n                // Unbind the event.\r\n                _pageWindow.unbind(\"load\", connection._.deferredStartHandler);\r\n            }\r\n\r\n            // Always clean up private non-timeout based state.\r\n            delete connection._.config;\r\n            delete connection._.deferredStartHandler;\r\n\r\n            // This needs to be checked despite the connection state because a connection start can be deferred until page load.\r\n            // If we've deferred the start due to a page load we need to unbind the \"onLoad\" -> start event.\r\n            if (!_pageLoaded && (!connection._.config || connection._.config.waitForPageLoad === true)) {\r\n                connection.log(\"Stopping connection prior to negotiate.\");\r\n\r\n                // If we have a deferral we should reject it\r\n                if (deferral) {\r\n                    deferral.reject(_signalR._.error(resources.stoppedWhileLoading));\r\n                }\r\n\r\n                // Short-circuit because the start has not been fully started.\r\n                return;\r\n            }\r\n\r\n            if (connection.state === _signalR.connectionState.disconnected) {\r\n                return;\r\n            }\r\n\r\n            connection.log(\"Stopping connection.\");\r\n\r\n            // Clear this no matter what\r\n            window.clearTimeout(connection._.beatHandle);\r\n            window.clearInterval(connection._.pingIntervalId);\r\n\r\n            if (connection.transport) {\r\n                connection.transport.stop(connection);\r\n\r\n                if (notifyServer !== false) {\r\n                    connection.transport.abort(connection, async);\r\n                }\r\n\r\n                if (supportsKeepAlive(connection)) {\r\n                    _signalR.transports._logic.stopMonitoringKeepAlive(connection);\r\n                }\r\n\r\n                connection.transport = null;\r\n            }\r\n\r\n            if (connection._.negotiateRequest) {\r\n                // If the negotiation request has already completed this will noop.\r\n                connection._.negotiateRequest.abort(_negotiateAbortText);\r\n                delete connection._.negotiateRequest;\r\n            }\r\n\r\n            // Ensure that initHandler.stop() is called before connection._deferral is deleted\r\n            if (connection._.initHandler) {\r\n                connection._.initHandler.stop();\r\n            }\r\n\r\n            delete connection._deferral;\r\n            delete connection.messageId;\r\n            delete connection.groupsToken;\r\n            delete connection.id;\r\n            delete connection._.pingIntervalId;\r\n            delete connection._.lastMessageAt;\r\n            delete connection._.lastActiveAt;\r\n\r\n            // Clear out our message buffer\r\n            connection._.connectingMessageBuffer.clear();\r\n\r\n            // Clean up this event\r\n            $(connection).unbind(events.onStart);\r\n\r\n            // Reset the URL and clear the access token\r\n            delete connection.accessToken;\r\n            delete connection.protocol;\r\n            delete connection.host;\r\n            delete connection.baseUrl;\r\n            delete connection.wsProtocol;\r\n            delete connection.contentType;\r\n            connection.url = connection._originalUrl;\r\n            connection._.redirectQs = null;\r\n\r\n            // Trigger the disconnect event\r\n            changeState(connection, connection.state, _signalR.connectionState.disconnected);\r\n            $(connection).triggerHandler(events.onDisconnect);\r\n\r\n            return connection;\r\n        },\r\n\r\n        log: function log(msg) {\r\n            _log(msg, this.logging);\r\n        }\r\n    };\r\n\r\n    _signalR.fn.init.prototype = _signalR.fn;\r\n\r\n    _signalR.noConflict = function () {\r\n        /// <summary>Reinstates the original value of $.connection and returns the signalR object for manual assignment</summary>\r\n        /// <returns type=\"signalR\" />\r\n        if ($.connection === _signalR) {\r\n            $.connection = _connection;\r\n        }\r\n        return _signalR;\r\n    };\r\n\r\n    if ($.connection) {\r\n        _connection = $.connection;\r\n    }\r\n\r\n    $.connection = $.signalR = _signalR;\r\n})(jQueryShim, window);\r\n/* jquery.signalR.transports.common.js */\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n\r\n/*global window:false */\r\n/// <reference path=\"jquery.signalR.core.js\" />\r\n\r\n(function ($, window, undefined) {\r\n\r\n    var signalR = $.signalR,\r\n        events = $.signalR.events,\r\n        changeState = $.signalR.changeState,\r\n        startAbortText = \"__Start Aborted__\",\r\n        transportLogic;\r\n\r\n    signalR.transports = {};\r\n\r\n    function beat(connection) {\r\n        if (connection._.keepAliveData.monitoring) {\r\n            checkIfAlive(connection);\r\n        }\r\n\r\n        // Ensure that we successfully marked active before continuing the heartbeat.\r\n        if (transportLogic.markActive(connection)) {\r\n            connection._.beatHandle = window.setTimeout(function () {\r\n                beat(connection);\r\n            }, connection._.beatInterval);\r\n        }\r\n    }\r\n\r\n    function checkIfAlive(connection) {\r\n        var keepAliveData = connection._.keepAliveData,\r\n            timeElapsed;\r\n\r\n        // Only check if we're connected\r\n        if (connection.state === signalR.connectionState.connected) {\r\n            timeElapsed = new Date().getTime() - connection._.lastMessageAt;\r\n\r\n            // Check if the keep alive has completely timed out\r\n            if (timeElapsed >= keepAliveData.timeout) {\r\n                connection.log(\"Keep alive timed out.  Notifying transport that connection has been lost.\");\r\n\r\n                // Notify transport that the connection has been lost\r\n                connection.transport.lostConnection(connection);\r\n            } else if (timeElapsed >= keepAliveData.timeoutWarning) {\r\n                // This is to assure that the user only gets a single warning\r\n                if (!keepAliveData.userNotified) {\r\n                    connection.log(\"Keep alive has been missed, connection may be dead/slow.\");\r\n                    $(connection).triggerHandler(events.onConnectionSlow);\r\n                    keepAliveData.userNotified = true;\r\n                }\r\n            } else {\r\n                keepAliveData.userNotified = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    function getAjaxUrl(connection, path) {\r\n        var url = connection.url + path;\r\n\r\n        if (connection.transport) {\r\n            url += \"?transport=\" + connection.transport.name;\r\n        }\r\n\r\n        return transportLogic.prepareQueryString(connection, url);\r\n    }\r\n\r\n    function InitHandler(connection) {\r\n        this.connection = connection;\r\n\r\n        this.startRequested = false;\r\n        this.startCompleted = false;\r\n        this.connectionStopped = false;\r\n    }\r\n\r\n    InitHandler.prototype = {\r\n        start: function start(transport, onSuccess, onFallback) {\r\n            var that = this,\r\n                connection = that.connection,\r\n                failCalled = false;\r\n\r\n            if (that.startRequested || that.connectionStopped) {\r\n                connection.log(\"WARNING! \" + transport.name + \" transport cannot be started. Initialization ongoing or completed.\");\r\n                return;\r\n            }\r\n\r\n            connection.log(transport.name + \" transport starting.\");\r\n\r\n            transport.start(connection, function () {\r\n                if (!failCalled) {\r\n                    that.initReceived(transport, onSuccess);\r\n                }\r\n            }, function (error) {\r\n                // Don't allow the same transport to cause onFallback to be called twice\r\n                if (!failCalled) {\r\n                    failCalled = true;\r\n                    that.transportFailed(transport, error, onFallback);\r\n                }\r\n\r\n                // Returns true if the transport should stop;\r\n                // false if it should attempt to reconnect\r\n                return !that.startCompleted || that.connectionStopped;\r\n            });\r\n\r\n            that.transportTimeoutHandle = window.setTimeout(function () {\r\n                if (!failCalled) {\r\n                    failCalled = true;\r\n                    connection.log(transport.name + \" transport timed out when trying to connect.\");\r\n                    that.transportFailed(transport, undefined, onFallback);\r\n                }\r\n            }, connection._.totalTransportConnectTimeout);\r\n        },\r\n\r\n        stop: function stop() {\r\n            this.connectionStopped = true;\r\n            window.clearTimeout(this.transportTimeoutHandle);\r\n            signalR.transports._logic.tryAbortStartRequest(this.connection);\r\n        },\r\n\r\n        initReceived: function initReceived(transport, onSuccess) {\r\n            var that = this,\r\n                connection = that.connection;\r\n\r\n            if (that.startRequested) {\r\n                connection.log(\"WARNING! The client received multiple init messages.\");\r\n                return;\r\n            }\r\n\r\n            if (that.connectionStopped) {\r\n                return;\r\n            }\r\n\r\n            that.startRequested = true;\r\n            window.clearTimeout(that.transportTimeoutHandle);\r\n\r\n            connection.log(transport.name + \" transport connected. Initiating start request.\");\r\n            signalR.transports._logic.ajaxStart(connection, function () {\r\n                that.startCompleted = true;\r\n                onSuccess();\r\n            });\r\n        },\r\n\r\n        transportFailed: function transportFailed(transport, error, onFallback) {\r\n            var connection = this.connection,\r\n                deferred = connection._deferral,\r\n                wrappedError;\r\n\r\n            if (this.connectionStopped) {\r\n                return;\r\n            }\r\n\r\n            window.clearTimeout(this.transportTimeoutHandle);\r\n\r\n            if (!this.startRequested) {\r\n                transport.stop(connection);\r\n\r\n                connection.log(transport.name + \" transport failed to connect. Attempting to fall back.\");\r\n                onFallback();\r\n            } else if (!this.startCompleted) {\r\n                // Do not attempt to fall back if a start request is ongoing during a transport failure.\r\n                // Instead, trigger an error and stop the connection.\r\n                wrappedError = signalR._.error(signalR.resources.errorDuringStartRequest, error);\r\n\r\n                connection.log(transport.name + \" transport failed during the start request. Stopping the connection.\");\r\n                $(connection).triggerHandler(events.onError, [wrappedError]);\r\n                if (deferred) {\r\n                    deferred.reject(wrappedError);\r\n                }\r\n\r\n                connection.stop();\r\n            } else {\r\n                // The start request has completed, but the connection has not stopped.\r\n                // No need to do anything here. The transport should attempt its normal reconnect logic.\r\n            }\r\n        }\r\n    };\r\n\r\n    transportLogic = signalR.transports._logic = {\r\n        ajax: function ajax(connection, options) {\r\n            return $.ajax($.extend( /*deep copy*/true, {}, $.signalR.ajaxDefaults, {\r\n                type: \"GET\",\r\n                data: {},\r\n                xhrFields: { withCredentials: connection.withCredentials },\r\n                contentType: connection.contentType,\r\n                dataType: connection.ajaxDataType\r\n            }, options));\r\n        },\r\n\r\n        pingServer: function pingServer(connection) {\r\n            /// <summary>Pings the server</summary>\r\n            /// <param name=\"connection\" type=\"signalr\">Connection associated with the server ping</param>\r\n            /// <returns type=\"signalR\" />\r\n            var url,\r\n                xhr,\r\n                deferral = $.Deferred();\r\n\r\n            if (connection.transport) {\r\n                url = connection.url + \"/ping\";\r\n\r\n                url = transportLogic.addQs(url, connection.qs);\r\n\r\n                xhr = transportLogic.ajax(connection, {\r\n                    url: url,\r\n                    headers: connection.accessToken ? { \"Authorization\": \"Bearer \" + connection.accessToken } : {},\r\n                    success: function success(result) {\r\n                        var data;\r\n\r\n                        try {\r\n                            data = connection._parseResponse(result);\r\n                        } catch (error) {\r\n                            deferral.reject(signalR._.transportError(signalR.resources.pingServerFailedParse, connection.transport, error, xhr));\r\n                            connection.stop();\r\n                            return;\r\n                        }\r\n\r\n                        if (data.Response === \"pong\") {\r\n                            deferral.resolve();\r\n                        } else {\r\n                            deferral.reject(signalR._.transportError(signalR._.format(signalR.resources.pingServerFailedInvalidResponse, result), connection.transport, null /* error */\r\n                            , xhr));\r\n                        }\r\n                    },\r\n                    error: function error(_error2) {\r\n                        if (_error2.status === 401 || _error2.status === 403) {\r\n                            deferral.reject(signalR._.transportError(signalR._.format(signalR.resources.pingServerFailedStatusCode, _error2.status), connection.transport, _error2, xhr));\r\n                            connection.stop();\r\n                        } else {\r\n                            deferral.reject(signalR._.transportError(signalR.resources.pingServerFailed, connection.transport, _error2, xhr));\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                deferral.reject(signalR._.transportError(signalR.resources.noConnectionTransport, connection.transport));\r\n            }\r\n\r\n            return deferral.promise();\r\n        },\r\n\r\n        prepareQueryString: function prepareQueryString(connection, url) {\r\n            var preparedUrl;\r\n\r\n            // Use addQs to start since it handles the ?/& prefix for us\r\n            preparedUrl = transportLogic.addQs(url, \"clientProtocol=\" + connection.clientProtocol);\r\n\r\n            if (typeof connection._.redirectQs === \"string\") {\r\n                // Add the redirect-specified query string params if any\r\n                preparedUrl = transportLogic.addQs(preparedUrl, connection._.redirectQs);\r\n            } else {\r\n                // Otherwise, add the user-specified query string params if any\r\n                preparedUrl = transportLogic.addQs(preparedUrl, connection.qs);\r\n            }\r\n\r\n            if (connection.token) {\r\n                preparedUrl += \"&connectionToken=\" + window.encodeURIComponent(connection.token);\r\n            }\r\n\r\n            if (connection.data) {\r\n                preparedUrl += \"&connectionData=\" + window.encodeURIComponent(connection.data);\r\n            }\r\n\r\n            return preparedUrl;\r\n        },\r\n\r\n        addQs: function addQs(url, qs) {\r\n            var appender = url.indexOf(\"?\") !== -1 ? \"&\" : \"?\",\r\n                firstChar;\r\n\r\n            if (!qs) {\r\n                return url;\r\n            }\r\n\r\n            if ((typeof qs === 'undefined' ? 'undefined' : _typeof(qs)) === \"object\") {\r\n                return url + appender + $.param(qs);\r\n            }\r\n\r\n            if (typeof qs === \"string\") {\r\n                firstChar = qs.charAt(0);\r\n\r\n                if (firstChar === \"?\" || firstChar === \"&\") {\r\n                    appender = \"\";\r\n                }\r\n\r\n                return url + appender + qs;\r\n            }\r\n\r\n            throw new Error(\"Query string property must be either a string or object.\");\r\n        },\r\n\r\n        // BUG #2953: The url needs to be same otherwise it will cause a memory leak\r\n        getUrl: function getUrl(connection, transport, reconnecting, poll, ajaxPost) {\r\n            /// <summary>Gets the url for making a GET based connect request</summary>\r\n            var baseUrl = transport === \"webSockets\" ? \"\" : connection.baseUrl,\r\n                url = baseUrl + connection.appRelativeUrl,\r\n                qs = \"transport=\" + transport;\r\n\r\n            if (!ajaxPost && connection.groupsToken) {\r\n                qs += \"&groupsToken=\" + window.encodeURIComponent(connection.groupsToken);\r\n            }\r\n\r\n            if (!reconnecting) {\r\n                url += \"/connect\";\r\n            } else {\r\n                if (poll) {\r\n                    // longPolling transport specific\r\n                    url += \"/poll\";\r\n                } else {\r\n                    url += \"/reconnect\";\r\n                }\r\n\r\n                if (!ajaxPost && connection.messageId) {\r\n                    qs += \"&messageId=\" + window.encodeURIComponent(connection.messageId);\r\n                }\r\n            }\r\n            url += \"?\" + qs;\r\n            url = transportLogic.prepareQueryString(connection, url);\r\n\r\n            // With sse or ws, access_token in request header is not supported\r\n            if (connection.transport && connection.accessToken) {\r\n                if (connection.transport.name === \"serverSentEvents\" || connection.transport.name === \"webSockets\") {\r\n                    url += \"&access_token=\" + window.encodeURIComponent(connection.accessToken);\r\n                }\r\n            }\r\n\r\n            if (!ajaxPost) {\r\n                url += \"&tid=\" + Math.floor(Math.random() * 11);\r\n            }\r\n\r\n            return url;\r\n        },\r\n\r\n        maximizePersistentResponse: function maximizePersistentResponse(minPersistentResponse) {\r\n            return {\r\n                MessageId: minPersistentResponse.C,\r\n                Messages: minPersistentResponse.M,\r\n                Initialized: typeof minPersistentResponse.S !== \"undefined\" ? true : false,\r\n                ShouldReconnect: typeof minPersistentResponse.T !== \"undefined\" ? true : false,\r\n                LongPollDelay: minPersistentResponse.L,\r\n                GroupsToken: minPersistentResponse.G,\r\n                Error: minPersistentResponse.E\r\n            };\r\n        },\r\n\r\n        updateGroups: function updateGroups(connection, groupsToken) {\r\n            if (groupsToken) {\r\n                connection.groupsToken = groupsToken;\r\n            }\r\n        },\r\n\r\n        stringifySend: function stringifySend(connection, message) {\r\n            if (typeof message === \"string\" || typeof message === \"undefined\" || message === null) {\r\n                return message;\r\n            }\r\n            return connection.json.stringify(message);\r\n        },\r\n\r\n        ajaxSend: function ajaxSend(connection, data) {\r\n            var payload = transportLogic.stringifySend(connection, data),\r\n                url = getAjaxUrl(connection, \"/send\"),\r\n                xhr,\r\n                onFail = function onFail(error, connection) {\r\n                $(connection).triggerHandler(events.onError, [signalR._.transportError(signalR.resources.sendFailed, connection.transport, error, xhr), data]);\r\n            };\r\n\r\n            xhr = transportLogic.ajax(connection, {\r\n                url: url,\r\n                type: connection.ajaxDataType === \"jsonp\" ? \"GET\" : \"POST\",\r\n                contentType: signalR._.defaultContentType,\r\n                headers: connection.accessToken ? { \"Authorization\": \"Bearer \" + connection.accessToken } : {},\r\n                data: {\r\n                    data: payload\r\n                },\r\n                success: function success(result) {\r\n                    var res;\r\n\r\n                    if (result) {\r\n                        try {\r\n                            res = connection._parseResponse(result);\r\n                        } catch (error) {\r\n                            onFail(error, connection);\r\n                            connection.stop();\r\n                            return;\r\n                        }\r\n\r\n                        transportLogic.triggerReceived(connection, res);\r\n                    }\r\n                },\r\n                error: function error(_error3, textStatus) {\r\n                    if (textStatus === \"abort\" || textStatus === \"parsererror\") {\r\n                        // The parsererror happens for sends that don't return any data, and hence\r\n                        // don't write the jsonp callback to the response. This is harder to fix on the server\r\n                        // so just hack around it on the client for now.\r\n                        return;\r\n                    }\r\n\r\n                    onFail(_error3, connection);\r\n                }\r\n            });\r\n\r\n            return xhr;\r\n        },\r\n\r\n        ajaxAbort: function ajaxAbort(connection, async) {\r\n            if (typeof connection.transport === \"undefined\") {\r\n                return;\r\n            }\r\n\r\n            // Async by default unless explicitly overidden\r\n            async = typeof async === \"undefined\" ? true : async;\r\n\r\n            var url = getAjaxUrl(connection, \"/abort\");\r\n\r\n            transportLogic.ajax(connection, {\r\n                url: url,\r\n                async: async,\r\n                timeout: 1000,\r\n                type: \"POST\",\r\n                headers: connection.accessToken ? { \"Authorization\": \"Bearer \" + connection.accessToken } : {},\r\n                dataType: \"text\" // We don't want to use JSONP here even when JSONP is enabled\r\n            });\r\n\r\n            connection.log(\"Fired ajax abort async = \" + async + \".\");\r\n        },\r\n\r\n        ajaxStart: function ajaxStart(connection, onSuccess) {\r\n            var rejectDeferred = function rejectDeferred(error) {\r\n                var deferred = connection._deferral;\r\n                if (deferred) {\r\n                    deferred.reject(error);\r\n                }\r\n            },\r\n                triggerStartError = function triggerStartError(error) {\r\n                connection.log(\"The start request failed. Stopping the connection.\");\r\n                $(connection).triggerHandler(events.onError, [error]);\r\n                rejectDeferred(error);\r\n                connection.stop();\r\n            };\r\n\r\n            connection._.startRequest = transportLogic.ajax(connection, {\r\n                url: getAjaxUrl(connection, \"/start\"),\r\n                headers: connection.accessToken ? { \"Authorization\": \"Bearer \" + connection.accessToken } : {},\r\n                success: function success(result, statusText, xhr) {\r\n                    var data;\r\n\r\n                    try {\r\n                        data = connection._parseResponse(result);\r\n                    } catch (error) {\r\n                        triggerStartError(signalR._.error(signalR._.format(signalR.resources.errorParsingStartResponse, result), error, xhr));\r\n                        return;\r\n                    }\r\n\r\n                    if (data.Response === \"started\") {\r\n                        onSuccess();\r\n                    } else {\r\n                        triggerStartError(signalR._.error(signalR._.format(signalR.resources.invalidStartResponse, result), null /* error */, xhr));\r\n                    }\r\n                },\r\n                error: function error(xhr, statusText, _error4) {\r\n                    if (statusText !== startAbortText) {\r\n                        triggerStartError(signalR._.error(signalR.resources.errorDuringStartRequest, _error4, xhr));\r\n                    } else {\r\n                        // Stop has been called, no need to trigger the error handler\r\n                        // or stop the connection again with onStartError\r\n                        connection.log(\"The start request aborted because connection.stop() was called.\");\r\n                        rejectDeferred(signalR._.error(signalR.resources.stoppedDuringStartRequest, null /* error */, xhr));\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        tryAbortStartRequest: function tryAbortStartRequest(connection) {\r\n            if (connection._.startRequest) {\r\n                // If the start request has already completed this will noop.\r\n                connection._.startRequest.abort(startAbortText);\r\n                delete connection._.startRequest;\r\n            }\r\n        },\r\n\r\n        tryInitialize: function tryInitialize(connection, persistentResponse, onInitialized) {\r\n            if (persistentResponse.Initialized && onInitialized) {\r\n                onInitialized();\r\n            } else if (persistentResponse.Initialized) {\r\n                connection.log(\"WARNING! The client received an init message after reconnecting.\");\r\n            }\r\n        },\r\n\r\n        triggerReceived: function triggerReceived(connection, data) {\r\n            if (!connection._.connectingMessageBuffer.tryBuffer(data)) {\r\n                $(connection).triggerHandler(events.onReceived, [data]);\r\n            }\r\n        },\r\n\r\n        processMessages: function processMessages(connection, minData, onInitialized) {\r\n            var data;\r\n\r\n            if (minData && typeof minData.I !== \"undefined\") {\r\n                // This is a response to a message the client sent\r\n                transportLogic.triggerReceived(connection, minData);\r\n                return;\r\n            }\r\n\r\n            // Update the last message time stamp\r\n            transportLogic.markLastMessage(connection);\r\n\r\n            if (minData) {\r\n                // This is a message send directly to the client\r\n                data = transportLogic.maximizePersistentResponse(minData);\r\n\r\n                if (data.Error) {\r\n                    // This is a global error, stop the connection.\r\n                    connection.log(\"Received an error message from the server: \" + minData.E);\r\n                    $(connection).triggerHandler(signalR.events.onError, [signalR._.error(minData.E, /* source */\"ServerError\")]);\r\n                    connection.stop( /* async */false, /* notifyServer */false);\r\n                    return;\r\n                }\r\n\r\n                transportLogic.updateGroups(connection, data.GroupsToken);\r\n\r\n                if (data.MessageId) {\r\n                    connection.messageId = data.MessageId;\r\n                }\r\n\r\n                if (data.Messages) {\r\n                    $.each(data.Messages, function (index, message) {\r\n                        transportLogic.triggerReceived(connection, message);\r\n                    });\r\n\r\n                    transportLogic.tryInitialize(connection, data, onInitialized);\r\n                }\r\n            }\r\n        },\r\n\r\n        monitorKeepAlive: function monitorKeepAlive(connection) {\r\n            var keepAliveData = connection._.keepAliveData;\r\n\r\n            // If we haven't initiated the keep alive timeouts then we need to\r\n            if (!keepAliveData.monitoring) {\r\n                keepAliveData.monitoring = true;\r\n\r\n                transportLogic.markLastMessage(connection);\r\n\r\n                // Save the function so we can unbind it on stop\r\n                connection._.keepAliveData.reconnectKeepAliveUpdate = function () {\r\n                    // Mark a new message so that keep alive doesn't time out connections\r\n                    transportLogic.markLastMessage(connection);\r\n                };\r\n\r\n                // Update Keep alive on reconnect\r\n                $(connection).bind(events.onReconnect, connection._.keepAliveData.reconnectKeepAliveUpdate);\r\n\r\n                connection.log(\"Now monitoring keep alive with a warning timeout of \" + keepAliveData.timeoutWarning + \", keep alive timeout of \" + keepAliveData.timeout + \" and disconnecting timeout of \" + connection.disconnectTimeout);\r\n            } else {\r\n                connection.log(\"Tried to monitor keep alive but it's already being monitored.\");\r\n            }\r\n        },\r\n\r\n        stopMonitoringKeepAlive: function stopMonitoringKeepAlive(connection) {\r\n            var keepAliveData = connection._.keepAliveData;\r\n\r\n            // Only attempt to stop the keep alive monitoring if its being monitored\r\n            if (keepAliveData.monitoring) {\r\n                // Stop monitoring\r\n                keepAliveData.monitoring = false;\r\n\r\n                // Remove the updateKeepAlive function from the reconnect event\r\n                $(connection).unbind(events.onReconnect, connection._.keepAliveData.reconnectKeepAliveUpdate);\r\n\r\n                // Clear all the keep alive data\r\n                connection._.keepAliveData = {};\r\n                connection.log(\"Stopping the monitoring of the keep alive.\");\r\n            }\r\n        },\r\n\r\n        startHeartbeat: function startHeartbeat(connection) {\r\n            connection._.lastActiveAt = new Date().getTime();\r\n            beat(connection);\r\n        },\r\n\r\n        markLastMessage: function markLastMessage(connection) {\r\n            connection._.lastMessageAt = new Date().getTime();\r\n        },\r\n\r\n        markActive: function markActive(connection) {\r\n            if (transportLogic.verifyLastActive(connection)) {\r\n                connection._.lastActiveAt = new Date().getTime();\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        isConnectedOrReconnecting: function isConnectedOrReconnecting(connection) {\r\n            return connection.state === signalR.connectionState.connected || connection.state === signalR.connectionState.reconnecting;\r\n        },\r\n\r\n        ensureReconnectingState: function ensureReconnectingState(connection) {\r\n            if (changeState(connection, signalR.connectionState.connected, signalR.connectionState.reconnecting) === true) {\r\n                $(connection).triggerHandler(events.onReconnecting);\r\n            }\r\n            return connection.state === signalR.connectionState.reconnecting;\r\n        },\r\n\r\n        clearReconnectTimeout: function clearReconnectTimeout(connection) {\r\n            if (connection && connection._.reconnectTimeout) {\r\n                window.clearTimeout(connection._.reconnectTimeout);\r\n                delete connection._.reconnectTimeout;\r\n            }\r\n        },\r\n\r\n        verifyLastActive: function verifyLastActive(connection) {\r\n            if (new Date().getTime() - connection._.lastActiveAt >= connection.reconnectWindow) {\r\n                var message = signalR._.format(signalR.resources.reconnectWindowTimeout, new Date(connection._.lastActiveAt), connection.reconnectWindow);\r\n                connection.log(message);\r\n                $(connection).triggerHandler(events.onError, [signalR._.error(message, /* source */\"TimeoutException\")]);\r\n                connection.stop( /* async */false, /* notifyServer */false);\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        reconnect: function reconnect(connection, transportName) {\r\n            var transport = signalR.transports[transportName];\r\n\r\n            // We should only set a reconnectTimeout if we are currently connected\r\n            // and a reconnectTimeout isn't already set.\r\n            if (transportLogic.isConnectedOrReconnecting(connection) && !connection._.reconnectTimeout) {\r\n                // Need to verify before the setTimeout occurs because an application sleep could occur during the setTimeout duration.\r\n                if (!transportLogic.verifyLastActive(connection)) {\r\n                    return;\r\n                }\r\n\r\n                connection._.reconnectTimeout = window.setTimeout(function () {\r\n                    if (!transportLogic.verifyLastActive(connection)) {\r\n                        return;\r\n                    }\r\n\r\n                    transport.stop(connection);\r\n\r\n                    if (transportLogic.ensureReconnectingState(connection)) {\r\n                        connection.log(transportName + \" reconnecting.\");\r\n                        transport.start(connection);\r\n                    }\r\n                }, connection.reconnectDelay);\r\n            }\r\n        },\r\n\r\n        handleParseFailure: function handleParseFailure(connection, result, error, onFailed, context) {\r\n            var wrappedError = signalR._.transportError(signalR._.format(signalR.resources.parseFailed, result), connection.transport, error, context);\r\n\r\n            // If we're in the initialization phase trigger onFailed, otherwise stop the connection.\r\n            if (onFailed && onFailed(wrappedError)) {\r\n                connection.log(\"Failed to parse server response while attempting to connect.\");\r\n            } else {\r\n                $(connection).triggerHandler(events.onError, [wrappedError]);\r\n                connection.stop();\r\n            }\r\n        },\r\n\r\n        initHandler: function initHandler(connection) {\r\n            return new InitHandler(connection);\r\n        },\r\n\r\n        foreverFrame: {\r\n            count: 0,\r\n            connections: {}\r\n        }\r\n    };\r\n})(jQueryShim, window);\r\n/* jquery.signalR.transports.webSockets.js */\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n\r\n\r\n/*global window:false */\r\n/// <reference path=\"jquery.signalR.transports.common.js\" />\r\n\r\n(function ($, window, undefined) {\r\n\r\n    var signalR = $.signalR,\r\n        events = $.signalR.events,\r\n        changeState = $.signalR.changeState,\r\n        transportLogic = signalR.transports._logic;\r\n\r\n    signalR.transports.webSockets = {\r\n        name: \"webSockets\",\r\n\r\n        supportsKeepAlive: function supportsKeepAlive() {\r\n            return true;\r\n        },\r\n\r\n        send: function send(connection, data) {\r\n            var payload = transportLogic.stringifySend(connection, data);\r\n\r\n            try {\r\n                connection.socket.send(payload);\r\n            } catch (ex) {\r\n                $(connection).triggerHandler(events.onError, [signalR._.transportError(signalR.resources.webSocketsInvalidState, connection.transport, ex, connection.socket), data]);\r\n            }\r\n        },\r\n\r\n        start: function start(connection, onSuccess, onFailed) {\r\n            var url,\r\n                opened = false,\r\n                that = this,\r\n                reconnecting = !onSuccess,\r\n                $connection = $(connection);\r\n\r\n            if (!window.WebSocket) {\r\n                onFailed();\r\n                return;\r\n            }\r\n\r\n            if (!connection.socket) {\r\n                if (connection.webSocketServerUrl) {\r\n                    url = connection.webSocketServerUrl;\r\n                } else {\r\n                    url = connection.wsProtocol + connection.host;\r\n                }\r\n\r\n                url += transportLogic.getUrl(connection, this.name, reconnecting);\r\n\r\n                connection.log(\"Connecting to websocket endpoint '\" + url + \"'.\");\r\n                connection.socket = new window.WebSocket(url);\r\n\r\n                connection.socket.onopen = function () {\r\n                    opened = true;\r\n                    connection.log(\"Websocket opened.\");\r\n\r\n                    transportLogic.clearReconnectTimeout(connection);\r\n\r\n                    if (changeState(connection, signalR.connectionState.reconnecting, signalR.connectionState.connected) === true) {\r\n                        $connection.triggerHandler(events.onReconnect);\r\n                    }\r\n                };\r\n\r\n                connection.socket.onclose = function (event) {\r\n                    var error;\r\n\r\n                    // Only handle a socket close if the close is from the current socket.\r\n                    // Sometimes on disconnect the server will push down an onclose event\r\n                    // to an expired socket.\r\n\r\n                    if (this === connection.socket) {\r\n                        if (opened && typeof event.wasClean !== \"undefined\" && event.wasClean === false) {\r\n                            // Ideally this would use the websocket.onerror handler (rather than checking wasClean in onclose) but\r\n                            // I found in some circumstances Chrome won't call onerror. This implementation seems to work on all browsers.\r\n                            error = signalR._.transportError(signalR.resources.webSocketClosed, connection.transport, event);\r\n\r\n                            connection.log(\"Unclean disconnect from websocket: \" + (event.reason || \"[no reason given].\"));\r\n                        } else {\r\n                            connection.log(\"Websocket closed.\");\r\n                        }\r\n\r\n                        if (!onFailed || !onFailed(error)) {\r\n                            if (error) {\r\n                                $(connection).triggerHandler(events.onError, [error]);\r\n                            }\r\n\r\n                            that.reconnect(connection);\r\n                        }\r\n                    }\r\n                };\r\n\r\n                connection.socket.onmessage = function (event) {\r\n                    var data;\r\n\r\n                    try {\r\n                        data = connection._parseResponse(event.data);\r\n                    } catch (error) {\r\n                        transportLogic.handleParseFailure(connection, event.data, error, onFailed, event);\r\n                        return;\r\n                    }\r\n\r\n                    if (data) {\r\n                        transportLogic.processMessages(connection, data, onSuccess);\r\n                    }\r\n                };\r\n            }\r\n        },\r\n\r\n        reconnect: function reconnect(connection) {\r\n            transportLogic.reconnect(connection, this.name);\r\n        },\r\n\r\n        lostConnection: function lostConnection(connection) {\r\n            this.reconnect(connection);\r\n        },\r\n\r\n        stop: function stop(connection) {\r\n            // Don't trigger a reconnect after stopping\r\n            transportLogic.clearReconnectTimeout(connection);\r\n\r\n            if (connection.socket) {\r\n                connection.log(\"Closing the Websocket.\");\r\n                connection.socket.close();\r\n                connection.socket = null;\r\n            }\r\n        },\r\n\r\n        abort: function abort(connection, async) {\r\n            transportLogic.ajaxAbort(connection, async);\r\n        }\r\n    };\r\n})(jQueryShim, window);\r\n/* jquery.signalR.transports.serverSentEvents.js */\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n\r\n\r\n/*global window:false */\r\n/// <reference path=\"jquery.signalR.transports.common.js\" />\r\n\r\n(function ($, window, undefined) {\r\n\r\n    var signalR = $.signalR,\r\n        events = $.signalR.events,\r\n        changeState = $.signalR.changeState,\r\n        transportLogic = signalR.transports._logic,\r\n        clearReconnectAttemptTimeout = function clearReconnectAttemptTimeout(connection) {\r\n        window.clearTimeout(connection._.reconnectAttemptTimeoutHandle);\r\n        delete connection._.reconnectAttemptTimeoutHandle;\r\n    };\r\n\r\n    signalR.transports.serverSentEvents = {\r\n        name: \"serverSentEvents\",\r\n\r\n        supportsKeepAlive: function supportsKeepAlive() {\r\n            return true;\r\n        },\r\n\r\n        timeOut: 3000,\r\n\r\n        start: function start(connection, onSuccess, onFailed) {\r\n            var that = this,\r\n                opened = false,\r\n                $connection = $(connection),\r\n                reconnecting = !onSuccess,\r\n                url;\r\n\r\n            if (connection.eventSource) {\r\n                connection.log(\"The connection already has an event source. Stopping it.\");\r\n                connection.stop();\r\n            }\r\n\r\n            if (!window.EventSource) {\r\n                if (onFailed) {\r\n                    connection.log(\"This browser doesn't support SSE.\");\r\n                    onFailed();\r\n                }\r\n                return;\r\n            }\r\n\r\n            url = transportLogic.getUrl(connection, this.name, reconnecting);\r\n\r\n            try {\r\n                connection.log(\"Attempting to connect to SSE endpoint '\" + url + \"'.\");\r\n                connection.eventSource = new window.EventSource(url, { withCredentials: connection.withCredentials });\r\n            } catch (e) {\r\n                connection.log(\"EventSource failed trying to connect with error \" + e.Message + \".\");\r\n                if (onFailed) {\r\n                    // The connection failed, call the failed callback\r\n                    onFailed();\r\n                } else {\r\n                    $connection.triggerHandler(events.onError, [signalR._.transportError(signalR.resources.eventSourceFailedToConnect, connection.transport, e)]);\r\n                    if (reconnecting) {\r\n                        // If we were reconnecting, rather than doing initial connect, then try reconnect again\r\n                        that.reconnect(connection);\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (reconnecting) {\r\n                connection._.reconnectAttemptTimeoutHandle = window.setTimeout(function () {\r\n                    if (opened === false) {\r\n                        // If we're reconnecting and the event source is attempting to connect,\r\n                        // don't keep retrying. This causes duplicate connections to spawn.\r\n                        if (connection.eventSource.readyState !== window.EventSource.OPEN) {\r\n                            // If we were reconnecting, rather than doing initial connect, then try reconnect again\r\n                            that.reconnect(connection);\r\n                        }\r\n                    }\r\n                }, that.timeOut);\r\n            }\r\n\r\n            connection.eventSource.addEventListener(\"open\", function (e) {\r\n                connection.log(\"EventSource connected.\");\r\n\r\n                clearReconnectAttemptTimeout(connection);\r\n                transportLogic.clearReconnectTimeout(connection);\r\n\r\n                if (opened === false) {\r\n                    opened = true;\r\n\r\n                    if (changeState(connection, signalR.connectionState.reconnecting, signalR.connectionState.connected) === true) {\r\n                        $connection.triggerHandler(events.onReconnect);\r\n                    }\r\n                }\r\n            }, false);\r\n\r\n            connection.eventSource.addEventListener(\"message\", function (e) {\r\n                var res;\r\n\r\n                // process messages\r\n                if (e.data === \"initialized\") {\r\n                    return;\r\n                }\r\n\r\n                try {\r\n                    res = connection._parseResponse(e.data);\r\n                } catch (error) {\r\n                    transportLogic.handleParseFailure(connection, e.data, error, onFailed, e);\r\n                    return;\r\n                }\r\n\r\n                transportLogic.processMessages(connection, res, onSuccess);\r\n            }, false);\r\n\r\n            connection.eventSource.addEventListener(\"error\", function (e) {\r\n                var error = signalR._.transportError(signalR.resources.eventSourceError, connection.transport, e);\r\n\r\n                // Only handle an error if the error is from the current Event Source.\r\n                // Sometimes on disconnect the server will push down an error event\r\n                // to an expired Event Source.\r\n                if (this !== connection.eventSource) {\r\n                    return;\r\n                }\r\n\r\n                if (onFailed && onFailed(error)) {\r\n                    return;\r\n                }\r\n\r\n                connection.log(\"EventSource readyState: \" + connection.eventSource.readyState + \".\");\r\n\r\n                if (e.eventPhase === window.EventSource.CLOSED) {\r\n                    // We don't use the EventSource's native reconnect function as it\r\n                    // doesn't allow us to change the URL when reconnecting. We need\r\n                    // to change the URL to not include the /connect suffix, and pass\r\n                    // the last message id we received.\r\n                    connection.log(\"EventSource reconnecting due to the server connection ending.\");\r\n                    that.reconnect(connection);\r\n                } else {\r\n                    // connection error\r\n                    connection.log(\"EventSource error.\");\r\n                    $connection.triggerHandler(events.onError, [error]);\r\n                }\r\n            }, false);\r\n        },\r\n\r\n        reconnect: function reconnect(connection) {\r\n            transportLogic.reconnect(connection, this.name);\r\n        },\r\n\r\n        lostConnection: function lostConnection(connection) {\r\n            this.reconnect(connection);\r\n        },\r\n\r\n        send: function send(connection, data) {\r\n            transportLogic.ajaxSend(connection, data);\r\n        },\r\n\r\n        stop: function stop(connection) {\r\n            // Don't trigger a reconnect after stopping\r\n            clearReconnectAttemptTimeout(connection);\r\n            transportLogic.clearReconnectTimeout(connection);\r\n\r\n            if (connection && connection.eventSource) {\r\n                connection.log(\"EventSource calling close().\");\r\n                connection.eventSource.close();\r\n                connection.eventSource = null;\r\n                delete connection.eventSource;\r\n            }\r\n        },\r\n\r\n        abort: function abort(connection, async) {\r\n            transportLogic.ajaxAbort(connection, async);\r\n        }\r\n    };\r\n})(jQueryShim, window);\r\n/* jquery.signalR.transports.foreverFrame.js */\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n\r\n\r\n/*global window:false */\r\n/// <reference path=\"jquery.signalR.transports.common.js\" />\r\n\r\n(function ($, window, undefined) {\r\n\r\n    var signalR = $.signalR,\r\n        events = $.signalR.events,\r\n        changeState = $.signalR.changeState,\r\n        transportLogic = signalR.transports._logic,\r\n        createFrame = function createFrame() {\r\n        var frame = window.document.createElement(\"iframe\");\r\n        frame.setAttribute(\"style\", \"position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;\");\r\n        return frame;\r\n    },\r\n\r\n    // Used to prevent infinite loading icon spins in older versions of ie\r\n    // We build this object inside a closure so we don't pollute the rest of\r\n    // the foreverFrame transport with unnecessary functions/utilities.\r\n    loadPreventer = function () {\r\n        var loadingFixIntervalId = null,\r\n            loadingFixInterval = 1000,\r\n            attachedTo = 0;\r\n\r\n        return {\r\n            prevent: function prevent() {\r\n                // Prevent additional iframe removal procedures from newer browsers\r\n                if (signalR._.ieVersion <= 8) {\r\n                    // We only ever want to set the interval one time, so on the first attachedTo\r\n                    if (attachedTo === 0) {\r\n                        // Create and destroy iframe every 3 seconds to prevent loading icon, super hacky\r\n                        loadingFixIntervalId = window.setInterval(function () {\r\n                            var tempFrame = createFrame();\r\n\r\n                            window.document.body.appendChild(tempFrame);\r\n                            window.document.body.removeChild(tempFrame);\r\n\r\n                            tempFrame = null;\r\n                        }, loadingFixInterval);\r\n                    }\r\n\r\n                    attachedTo++;\r\n                }\r\n            },\r\n            cancel: function cancel() {\r\n                // Only clear the interval if there's only one more object that the loadPreventer is attachedTo\r\n                if (attachedTo === 1) {\r\n                    window.clearInterval(loadingFixIntervalId);\r\n                }\r\n\r\n                if (attachedTo > 0) {\r\n                    attachedTo--;\r\n                }\r\n            }\r\n        };\r\n    }();\r\n\r\n    signalR.transports.foreverFrame = {\r\n        name: \"foreverFrame\",\r\n\r\n        supportsKeepAlive: function supportsKeepAlive() {\r\n            return true;\r\n        },\r\n\r\n        // Added as a value here so we can create tests to verify functionality\r\n        iframeClearThreshold: 50,\r\n\r\n        start: function start(connection, onSuccess, onFailed) {\r\n            if (connection.accessToken) {\r\n                if (onFailed) {\r\n                    connection.log(\"Forever Frame does not support connections that require a Bearer token to connect, such as the Azure SignalR Service.\");\r\n                    onFailed();\r\n                }\r\n                return;\r\n            }\r\n\r\n            var that = this,\r\n                frameId = transportLogic.foreverFrame.count += 1,\r\n                url,\r\n                frame = createFrame(),\r\n                frameLoadHandler = function frameLoadHandler() {\r\n                connection.log(\"Forever frame iframe finished loading and is no longer receiving messages.\");\r\n                if (!onFailed || !onFailed()) {\r\n                    that.reconnect(connection);\r\n                }\r\n            };\r\n\r\n            if (window.EventSource) {\r\n                // If the browser supports SSE, don't use Forever Frame\r\n                if (onFailed) {\r\n                    connection.log(\"Forever Frame is not supported by SignalR on browsers with SSE support.\");\r\n                    onFailed();\r\n                }\r\n                return;\r\n            }\r\n\r\n            frame.setAttribute(\"data-signalr-connection-id\", connection.id);\r\n\r\n            // Start preventing loading icon\r\n            // This will only perform work if the loadPreventer is not attached to another connection.\r\n            loadPreventer.prevent();\r\n\r\n            // Build the url\r\n            url = transportLogic.getUrl(connection, this.name);\r\n            url += \"&frameId=\" + frameId;\r\n\r\n            // add frame to the document prior to setting URL to avoid caching issues.\r\n            window.document.documentElement.appendChild(frame);\r\n\r\n            connection.log(\"Binding to iframe's load event.\");\r\n\r\n            if (frame.addEventListener) {\r\n                frame.addEventListener(\"load\", frameLoadHandler, false);\r\n            } else if (frame.attachEvent) {\r\n                frame.attachEvent(\"onload\", frameLoadHandler);\r\n            }\r\n\r\n            frame.src = url;\r\n            transportLogic.foreverFrame.connections[frameId] = connection;\r\n\r\n            connection.frame = frame;\r\n            connection.frameId = frameId;\r\n\r\n            if (onSuccess) {\r\n                connection.onSuccess = function () {\r\n                    connection.log(\"Iframe transport started.\");\r\n                    onSuccess();\r\n                };\r\n            }\r\n        },\r\n\r\n        reconnect: function reconnect(connection) {\r\n            var that = this;\r\n\r\n            // Need to verify connection state and verify before the setTimeout occurs because an application sleep could occur during the setTimeout duration.\r\n            if (transportLogic.isConnectedOrReconnecting(connection) && transportLogic.verifyLastActive(connection)) {\r\n                window.setTimeout(function () {\r\n                    // Verify that we're ok to reconnect.\r\n                    if (!transportLogic.verifyLastActive(connection)) {\r\n                        return;\r\n                    }\r\n\r\n                    if (connection.frame && transportLogic.ensureReconnectingState(connection)) {\r\n                        var frame = connection.frame,\r\n                            src = transportLogic.getUrl(connection, that.name, true) + \"&frameId=\" + connection.frameId;\r\n                        connection.log(\"Updating iframe src to '\" + src + \"'.\");\r\n                        frame.src = src;\r\n                    }\r\n                }, connection.reconnectDelay);\r\n            }\r\n        },\r\n\r\n        lostConnection: function lostConnection(connection) {\r\n            this.reconnect(connection);\r\n        },\r\n\r\n        send: function send(connection, data) {\r\n            transportLogic.ajaxSend(connection, data);\r\n        },\r\n\r\n        receive: function receive(connection, data) {\r\n            var cw, body, response;\r\n\r\n            if (connection.json !== connection._originalJson) {\r\n                // If there's a custom JSON parser configured then serialize the object\r\n                // using the original (browser) JSON parser and then deserialize it using\r\n                // the custom parser (connection._parseResponse does that). This is so we\r\n                // can easily send the response from the server as \"raw\" JSON but still\r\n                // support custom JSON deserialization in the browser.\r\n                data = connection._originalJson.stringify(data);\r\n            }\r\n\r\n            response = connection._parseResponse(data);\r\n\r\n            transportLogic.processMessages(connection, response, connection.onSuccess);\r\n\r\n            // Protect against connection stopping from a callback trigger within the processMessages above.\r\n            if (connection.state === $.signalR.connectionState.connected) {\r\n                // Delete the script & div elements\r\n                connection.frameMessageCount = (connection.frameMessageCount || 0) + 1;\r\n                if (connection.frameMessageCount > signalR.transports.foreverFrame.iframeClearThreshold) {\r\n                    connection.frameMessageCount = 0;\r\n                    cw = connection.frame.contentWindow || connection.frame.contentDocument;\r\n                    if (cw && cw.document && cw.document.body) {\r\n                        body = cw.document.body;\r\n\r\n                        // Remove all the child elements from the iframe's body to conserver memory\r\n                        while (body.firstChild) {\r\n                            body.removeChild(body.firstChild);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        stop: function stop(connection) {\r\n            var cw = null;\r\n\r\n            // Stop attempting to prevent loading icon\r\n            loadPreventer.cancel();\r\n\r\n            if (connection.frame) {\r\n                if (connection.frame.stop) {\r\n                    connection.frame.stop();\r\n                } else {\r\n                    try {\r\n                        cw = connection.frame.contentWindow || connection.frame.contentDocument;\r\n                        if (cw.document && cw.document.execCommand) {\r\n                            cw.document.execCommand(\"Stop\");\r\n                        }\r\n                    } catch (e) {\r\n                        connection.log(\"Error occurred when stopping foreverFrame transport. Message = \" + e.message + \".\");\r\n                    }\r\n                }\r\n\r\n                // Ensure the iframe is where we left it\r\n                if (connection.frame.parentNode === window.document.documentElement) {\r\n                    window.document.documentElement.removeChild(connection.frame);\r\n                }\r\n\r\n                delete transportLogic.foreverFrame.connections[connection.frameId];\r\n                connection.frame = null;\r\n                connection.frameId = null;\r\n                delete connection.frame;\r\n                delete connection.frameId;\r\n                delete connection.onSuccess;\r\n                delete connection.frameMessageCount;\r\n                connection.log(\"Stopping forever frame.\");\r\n            }\r\n        },\r\n\r\n        abort: function abort(connection, async) {\r\n            transportLogic.ajaxAbort(connection, async);\r\n        },\r\n\r\n        getConnection: function getConnection(id) {\r\n            return transportLogic.foreverFrame.connections[id];\r\n        },\r\n\r\n        started: function started(connection) {\r\n            if (changeState(connection, signalR.connectionState.reconnecting, signalR.connectionState.connected) === true) {\r\n\r\n                $(connection).triggerHandler(events.onReconnect);\r\n            }\r\n        }\r\n    };\r\n})(jQueryShim, window);\r\n/* jquery.signalR.transports.longPolling.js */\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n\r\n\r\n/*global window:false */\r\n/// <reference path=\"jquery.signalR.transports.common.js\" />\r\n\r\n(function ($, window, undefined) {\r\n\r\n    var signalR = $.signalR,\r\n        events = $.signalR.events,\r\n        changeState = $.signalR.changeState,\r\n        isDisconnecting = $.signalR.isDisconnecting,\r\n        transportLogic = signalR.transports._logic;\r\n\r\n    signalR.transports.longPolling = {\r\n        name: \"longPolling\",\r\n\r\n        supportsKeepAlive: function supportsKeepAlive() {\r\n            return false;\r\n        },\r\n\r\n        reconnectDelay: 3000,\r\n\r\n        start: function start(connection, onSuccess, onFailed) {\r\n            /// <summary>Starts the long polling connection</summary>\r\n            /// <param name=\"connection\" type=\"signalR\">The SignalR connection to start</param>\r\n            var that = this,\r\n                _fireConnect = function fireConnect() {\r\n                _fireConnect = $.noop;\r\n\r\n                connection.log(\"LongPolling connected.\");\r\n\r\n                if (onSuccess) {\r\n                    onSuccess();\r\n                } else {\r\n                    connection.log(\"WARNING! The client received an init message after reconnecting.\");\r\n                }\r\n            },\r\n                tryFailConnect = function tryFailConnect(error) {\r\n                if (onFailed(error)) {\r\n                    connection.log(\"LongPolling failed to connect.\");\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n            },\r\n                privateData = connection._,\r\n                reconnectErrors = 0,\r\n                fireReconnected = function fireReconnected(instance) {\r\n                window.clearTimeout(privateData.reconnectTimeoutId);\r\n                privateData.reconnectTimeoutId = null;\r\n\r\n                if (changeState(instance, signalR.connectionState.reconnecting, signalR.connectionState.connected) === true) {\r\n                    // Successfully reconnected!\r\n                    instance.log(\"Raising the reconnect event\");\r\n                    $(instance).triggerHandler(events.onReconnect);\r\n                }\r\n            },\r\n\r\n            // 1 hour\r\n            maxFireReconnectedTimeout = 3600000;\r\n\r\n            if (connection.pollXhr) {\r\n                connection.log(\"Polling xhr requests already exists, aborting.\");\r\n                connection.stop();\r\n            }\r\n\r\n            connection.messageId = null;\r\n\r\n            privateData.reconnectTimeoutId = null;\r\n\r\n            privateData.pollTimeoutId = window.setTimeout(function () {\r\n                (function poll(instance, raiseReconnect) {\r\n                    var messageId = instance.messageId,\r\n                        connect = messageId === null,\r\n                        reconnecting = !connect,\r\n                        polling = !raiseReconnect,\r\n                        url = transportLogic.getUrl(instance, that.name, reconnecting, polling, true /* use Post for longPolling */),\r\n                        postData = {};\r\n\r\n                    if (instance.messageId) {\r\n                        postData.messageId = instance.messageId;\r\n                    }\r\n\r\n                    if (instance.groupsToken) {\r\n                        postData.groupsToken = instance.groupsToken;\r\n                    }\r\n\r\n                    // If we've disconnected during the time we've tried to re-instantiate the poll then stop.\r\n                    if (isDisconnecting(instance) === true) {\r\n                        return;\r\n                    }\r\n\r\n                    connection.log(\"Opening long polling request to '\" + url + \"'.\");\r\n                    instance.pollXhr = transportLogic.ajax(connection, {\r\n                        xhrFields: {\r\n                            onprogress: function onprogress() {\r\n                                transportLogic.markLastMessage(connection);\r\n                            }\r\n                        },\r\n                        url: url,\r\n                        type: \"POST\",\r\n                        contentType: signalR._.defaultContentType,\r\n                        data: postData,\r\n                        timeout: connection._.pollTimeout,\r\n                        headers: connection.accessToken ? { \"Authorization\": \"Bearer \" + connection.accessToken } : {},\r\n                        success: function success(result) {\r\n                            var minData,\r\n                                delay = 0,\r\n                                data,\r\n                                shouldReconnect;\r\n\r\n                            connection.log(\"Long poll complete.\");\r\n\r\n                            // Reset our reconnect errors so if we transition into a reconnecting state again we trigger\r\n                            // reconnected quickly\r\n                            reconnectErrors = 0;\r\n\r\n                            try {\r\n                                // Remove any keep-alives from the beginning of the result\r\n                                minData = connection._parseResponse(result);\r\n                            } catch (error) {\r\n                                transportLogic.handleParseFailure(instance, result, error, tryFailConnect, instance.pollXhr);\r\n                                return;\r\n                            }\r\n\r\n                            // If there's currently a timeout to trigger reconnect, fire it now before processing messages\r\n                            if (privateData.reconnectTimeoutId !== null) {\r\n                                fireReconnected(instance);\r\n                            }\r\n\r\n                            if (minData) {\r\n                                data = transportLogic.maximizePersistentResponse(minData);\r\n                            }\r\n\r\n                            transportLogic.processMessages(instance, minData, _fireConnect);\r\n\r\n                            if (data && $.type(data.LongPollDelay) === \"number\") {\r\n                                delay = data.LongPollDelay;\r\n                            }\r\n\r\n                            if (isDisconnecting(instance) === true) {\r\n                                return;\r\n                            }\r\n\r\n                            shouldReconnect = data && data.ShouldReconnect;\r\n                            if (shouldReconnect) {\r\n                                // Transition into the reconnecting state\r\n                                // If this fails then that means that the user transitioned the connection into a invalid state in processMessages.\r\n                                if (!transportLogic.ensureReconnectingState(instance)) {\r\n                                    return;\r\n                                }\r\n                            }\r\n\r\n                            // We never want to pass a raiseReconnect flag after a successful poll.  This is handled via the error function\r\n                            if (delay > 0) {\r\n                                privateData.pollTimeoutId = window.setTimeout(function () {\r\n                                    poll(instance, shouldReconnect);\r\n                                }, delay);\r\n                            } else {\r\n                                poll(instance, shouldReconnect);\r\n                            }\r\n                        },\r\n\r\n                        error: function error(data, textStatus) {\r\n                            var error = signalR._.transportError(signalR.resources.longPollFailed, connection.transport, data, instance.pollXhr);\r\n\r\n                            // Stop trying to trigger reconnect, connection is in an error state\r\n                            // If we're not in the reconnect state this will noop\r\n                            window.clearTimeout(privateData.reconnectTimeoutId);\r\n                            privateData.reconnectTimeoutId = null;\r\n\r\n                            if (textStatus === \"abort\") {\r\n                                connection.log(\"Aborted xhr request.\");\r\n                                return;\r\n                            }\r\n\r\n                            if (!tryFailConnect(error)) {\r\n\r\n                                // Increment our reconnect errors, we assume all errors to be reconnect errors\r\n                                // In the case that it's our first error this will cause Reconnect to be fired\r\n                                // after 1 second due to reconnectErrors being = 1.\r\n                                reconnectErrors++;\r\n\r\n                                if (connection.state !== signalR.connectionState.reconnecting) {\r\n                                    connection.log(\"An error occurred using longPolling. Status = \" + textStatus + \".  Response = \" + data.responseText + \".\");\r\n                                    $(instance).triggerHandler(events.onError, [error]);\r\n                                }\r\n\r\n                                // We check the state here to verify that we're not in an invalid state prior to verifying Reconnect.\r\n                                // If we're not in connected or reconnecting then the next ensureReconnectingState check will fail and will return.\r\n                                // Therefore we don't want to change that failure code path.\r\n                                if ((connection.state === signalR.connectionState.connected || connection.state === signalR.connectionState.reconnecting) && !transportLogic.verifyLastActive(connection)) {\r\n                                    return;\r\n                                }\r\n\r\n                                // Transition into the reconnecting state\r\n                                // If this fails then that means that the user transitioned the connection into the disconnected or connecting state within the above error handler trigger.\r\n                                if (!transportLogic.ensureReconnectingState(instance)) {\r\n                                    return;\r\n                                }\r\n\r\n                                // Call poll with the raiseReconnect flag as true after the reconnect delay\r\n                                privateData.pollTimeoutId = window.setTimeout(function () {\r\n                                    poll(instance, true);\r\n                                }, that.reconnectDelay);\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    // This will only ever pass after an error has occurred via the poll ajax procedure.\r\n                    if (reconnecting && raiseReconnect === true) {\r\n                        // We wait to reconnect depending on how many times we've failed to reconnect.\r\n                        // This is essentially a heuristic that will exponentially increase in wait time before\r\n                        // triggering reconnected.  This depends on the \"error\" handler of Poll to cancel this\r\n                        // timeout if it triggers before the Reconnected event fires.\r\n                        // The Math.min at the end is to ensure that the reconnect timeout does not overflow.\r\n                        privateData.reconnectTimeoutId = window.setTimeout(function () {\r\n                            fireReconnected(instance);\r\n                        }, Math.min(1000 * (Math.pow(2, reconnectErrors) - 1), maxFireReconnectedTimeout));\r\n                    }\r\n                })(connection);\r\n            }, 250); // Have to delay initial poll so Chrome doesn't show loader spinner in tab\r\n        },\r\n\r\n        lostConnection: function lostConnection(connection) {\r\n            if (connection.pollXhr) {\r\n                connection.pollXhr.abort(\"lostConnection\");\r\n            }\r\n        },\r\n\r\n        send: function send(connection, data) {\r\n            transportLogic.ajaxSend(connection, data);\r\n        },\r\n\r\n        stop: function stop(connection) {\r\n            /// <summary>Stops the long polling connection</summary>\r\n            /// <param name=\"connection\" type=\"signalR\">The SignalR connection to stop</param>\r\n\r\n            window.clearTimeout(connection._.pollTimeoutId);\r\n            window.clearTimeout(connection._.reconnectTimeoutId);\r\n\r\n            delete connection._.pollTimeoutId;\r\n            delete connection._.reconnectTimeoutId;\r\n\r\n            if (connection.pollXhr) {\r\n                connection.pollXhr.abort();\r\n                connection.pollXhr = null;\r\n                delete connection.pollXhr;\r\n            }\r\n        },\r\n\r\n        abort: function abort(connection, async) {\r\n            transportLogic.ajaxAbort(connection, async);\r\n        }\r\n    };\r\n})(jQueryShim, window);\r\n/* jquery.signalR.hubs.js */\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n\r\n/*global window:false */\r\n/// <reference path=\"jquery.signalR.core.js\" />\r\n\r\n(function ($, window, undefined) {\r\n\r\n    var nextGuid = 0;\r\n    var eventNamespace = \".hubProxy\",\r\n        signalR = $.signalR;\r\n\r\n    function makeEventName(event) {\r\n        return event + eventNamespace;\r\n    }\r\n\r\n    // Equivalent to Array.prototype.map\r\n    function map(arr, fun, thisp) {\r\n        var i,\r\n            length = arr.length,\r\n            result = [];\r\n        for (i = 0; i < length; i += 1) {\r\n            if (arr.hasOwnProperty(i)) {\r\n                result[i] = fun.call(thisp, arr[i], i, arr);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    function getArgValue(a) {\r\n        return $.isFunction(a) ? null : $.type(a) === \"undefined\" ? null : a;\r\n    }\r\n\r\n    function hasMembers(obj) {\r\n        for (var key in obj) {\r\n            // If we have any properties in our callback map then we have callbacks and can exit the loop via return\r\n            if (obj.hasOwnProperty(key)) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    function clearInvocationCallbacks(connection, error) {\r\n        /// <param name=\"connection\" type=\"hubConnection\" />\r\n        var callbacks = connection._.invocationCallbacks,\r\n            callback;\r\n\r\n        if (hasMembers(callbacks)) {\r\n            connection.log(\"Clearing hub invocation callbacks with error: \" + error + \".\");\r\n        }\r\n\r\n        // Reset the callback cache now as we have a local var referencing it\r\n        connection._.invocationCallbackId = 0;\r\n        delete connection._.invocationCallbacks;\r\n        connection._.invocationCallbacks = {};\r\n\r\n        // Loop over the callbacks and invoke them.\r\n        // We do this using a local var reference and *after* we've cleared the cache\r\n        // so that if a fail callback itself tries to invoke another method we don't\r\n        // end up with its callback in the list we're looping over.\r\n        for (var callbackId in callbacks) {\r\n            callback = callbacks[callbackId];\r\n            callback.method.call(callback.scope, { E: error });\r\n        }\r\n    }\r\n\r\n    function isCallbackFromGeneratedHubProxy(callback) {\r\n        // https://github.com/SignalR/SignalR/issues/4310\r\n        // The stringified callback from the old generated hub proxy is 137 characters in Edge, Firefox and Chrome.\r\n        // We slice to avoid wasting too many cycles searching through the text of a long large function.\r\n        return $.isFunction(callback) && callback.toString().slice(0, 256).indexOf(\"// Call the client hub method\") >= 0;\r\n    }\r\n\r\n    // hubProxy\r\n    function hubProxy(hubConnection, hubName) {\r\n        /// <summary>\r\n        ///     Creates a new proxy object for the given hub connection that can be used to invoke\r\n        ///     methods on server hubs and handle client method invocation requests from the server.\r\n        /// </summary>\r\n        return new hubProxy.fn.init(hubConnection, hubName);\r\n    }\r\n\r\n    hubProxy.fn = hubProxy.prototype = {\r\n        init: function init(connection, hubName) {\r\n            this.state = {};\r\n            this.connection = connection;\r\n            this.hubName = hubName;\r\n            this._ = {\r\n                callbackMap: {}\r\n            };\r\n        },\r\n\r\n        constructor: hubProxy,\r\n\r\n        hasSubscriptions: function hasSubscriptions() {\r\n            return hasMembers(this._.callbackMap);\r\n        },\r\n\r\n        on: function on(eventName, callback, callbackIdentity) {\r\n            /// <summary>Wires up a callback to be invoked when a invocation request is received from the server hub.</summary>\r\n            /// <param name=\"eventName\" type=\"String\">The name of the hub event to register the callback for.</param>\r\n            /// <param name=\"callback\" type=\"Function\">The callback to be invoked.</param>\r\n            /// <param name=\"callbackIdentity\" type=\"Object\">An optional object to use as the \"identity\" for the callback when checking if the handler has already been registered. Defaults to the value of 'callback' if not provided.</param>\r\n            var that = this,\r\n                callbackMap = that._.callbackMap,\r\n                isFromOldGeneratedHubProxy = !callbackIdentity && isCallbackFromGeneratedHubProxy(callback);\r\n\r\n            // We need the third \"identity\" argument because the registerHubProxies call made by signalr/js wraps the user-provided callback in a custom wrapper which breaks the identity comparison.\r\n            // callbackIdentity allows the caller of `on` to provide a separate object to use as the \"identity\". `registerHubProxies` uses the original user callback as this identity object.\r\n            callbackIdentity = callbackIdentity || callback;\r\n\r\n            // Assign a global ID to the identity object. This tags the object so we can detect the same object when it comes back.\r\n            if (!callbackIdentity._signalRGuid) {\r\n                callbackIdentity._signalRGuid = nextGuid++;\r\n            }\r\n\r\n            // Normalize the event name to lowercase\r\n            eventName = eventName.toLowerCase();\r\n\r\n            // If there is not an event registered for this callback yet we want to create its event space in the callback map.\r\n            var callbackSpace = callbackMap[eventName];\r\n            if (!callbackSpace) {\r\n                callbackSpace = [];\r\n                callbackMap[eventName] = callbackSpace;\r\n            }\r\n\r\n            // Check if there's already a registration\r\n            var registration;\r\n            for (var i = 0; i < callbackSpace.length; i++) {\r\n                if (callbackSpace[i].guid === callbackIdentity._signalRGuid || isFromOldGeneratedHubProxy && callbackSpace[i].isFromOldGeneratedHubProxy) {\r\n                    registration = callbackSpace[i];\r\n                }\r\n            }\r\n\r\n            // Create a registration if there isn't one already\r\n            if (!registration) {\r\n                registration = {\r\n                    guid: callbackIdentity._signalRGuid,\r\n                    eventHandlers: [],\r\n                    isFromOldGeneratedHubProxy: isFromOldGeneratedHubProxy\r\n                };\r\n                callbackMap[eventName].push(registration);\r\n            }\r\n\r\n            var handler = function handler(e, data) {\r\n                callback.apply(that, data);\r\n            };\r\n            registration.eventHandlers.push(handler);\r\n\r\n            $(that).bind(makeEventName(eventName), handler);\r\n\r\n            return that;\r\n        },\r\n\r\n        off: function off(eventName, callback, callbackIdentity) {\r\n            /// <summary>Removes the callback invocation request from the server hub for the given event name.</summary>\r\n            /// <param name=\"eventName\" type=\"String\">The name of the hub event to unregister the callback for.</param>\r\n            /// <param name=\"callback\" type=\"Function\">The callback to be removed.</param>\r\n            /// <param name=\"callbackIdentity\" type=\"Object\">An optional object to use as the \"identity\" when looking up the callback. Corresponds to the same parameter provided to 'on'. Defaults to the value of 'callback' if not provided.</param>\r\n            var that = this,\r\n                callbackMap = that._.callbackMap,\r\n                callbackSpace,\r\n                isFromOldGeneratedHubProxy = !callbackIdentity && isCallbackFromGeneratedHubProxy(callback);\r\n\r\n            callbackIdentity = callbackIdentity || callback;\r\n\r\n            // Normalize the event name to lowercase\r\n            eventName = eventName.toLowerCase();\r\n\r\n            callbackSpace = callbackMap[eventName];\r\n\r\n            // Verify that there is an event space to unbind\r\n            if (callbackSpace) {\r\n\r\n                if (callback) {\r\n                    // Find the callback registration\r\n                    var callbackRegistration;\r\n                    var callbackIndex;\r\n                    for (var i = 0; i < callbackSpace.length; i++) {\r\n                        if (callbackSpace[i].guid === callbackIdentity._signalRGuid || isFromOldGeneratedHubProxy && callbackSpace[i].isFromOldGeneratedHubProxy) {\r\n                            callbackIndex = i;\r\n                            callbackRegistration = callbackSpace[i];\r\n                        }\r\n                    }\r\n\r\n                    // Only unbind if there's an event bound with eventName and a callback with the specified callback\r\n                    if (callbackRegistration) {\r\n                        // Unbind all event handlers associated with the registration.\r\n                        for (var j = 0; j < callbackRegistration.eventHandlers.length; j++) {\r\n                            $(that).unbind(makeEventName(eventName), callbackRegistration.eventHandlers[j]);\r\n                        }\r\n\r\n                        // Remove the registration from the list\r\n                        callbackSpace.splice(i, 1);\r\n\r\n                        // Check if there are any registrations left, if not we need to destroy it.\r\n                        if (callbackSpace.length === 0) {\r\n                            delete callbackMap[eventName];\r\n                        }\r\n                    }\r\n                } else if (!callback) {\r\n                    // Check if we're removing the whole event and we didn't error because of an invalid callback\r\n                    $(that).unbind(makeEventName(eventName));\r\n\r\n                    delete callbackMap[eventName];\r\n                }\r\n            }\r\n\r\n            return that;\r\n        },\r\n\r\n        invoke: function invoke(methodName) {\r\n            /// <summary>Invokes a server hub method with the given arguments.</summary>\r\n            /// <param name=\"methodName\" type=\"String\">The name of the server hub method.</param>\r\n\r\n            var that = this,\r\n                connection = that.connection,\r\n                args = $.makeArray(arguments).slice(1),\r\n                argValues = map(args, getArgValue),\r\n                data = { H: that.hubName, M: methodName, A: argValues, I: connection._.invocationCallbackId },\r\n                d = $.Deferred(),\r\n                callback = function callback(minResult) {\r\n                var result = that._maximizeHubResponse(minResult),\r\n                    source,\r\n                    error;\r\n\r\n                // Update the hub state\r\n                $.extend(that.state, result.State);\r\n\r\n                if (result.Progress) {\r\n                    if (d.notifyWith) {\r\n                        // Progress is only supported in jQuery 1.7+\r\n                        d.notifyWith(that, [result.Progress.Data]);\r\n                    } else if (!connection._.progressjQueryVersionLogged) {\r\n                        connection.log(\"A hub method invocation progress update was received but the version of jQuery in use (\" + $.prototype.jquery + \") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications.\");\r\n                        connection._.progressjQueryVersionLogged = true;\r\n                    }\r\n                } else if (result.Error) {\r\n                    // Server hub method threw an exception, log it & reject the deferred\r\n                    if (result.StackTrace) {\r\n                        connection.log(result.Error + \"\\n\" + result.StackTrace + \".\");\r\n                    }\r\n\r\n                    // result.ErrorData is only set if a HubException was thrown\r\n                    source = result.IsHubException ? \"HubException\" : \"Exception\";\r\n                    error = signalR._.error(result.Error, source);\r\n                    error.data = result.ErrorData;\r\n\r\n                    connection.log(that.hubName + \".\" + methodName + \" failed to execute. Error: \" + error.message);\r\n                    d.rejectWith(that, [error]);\r\n                } else {\r\n                    // Server invocation succeeded, resolve the deferred\r\n                    connection.log(\"Invoked \" + that.hubName + \".\" + methodName);\r\n                    d.resolveWith(that, [result.Result]);\r\n                }\r\n            };\r\n\r\n            connection._.invocationCallbacks[connection._.invocationCallbackId.toString()] = { scope: that, method: callback };\r\n            connection._.invocationCallbackId += 1;\r\n\r\n            if (!$.isEmptyObject(that.state)) {\r\n                data.S = that.state;\r\n            }\r\n\r\n            connection.log(\"Invoking \" + that.hubName + \".\" + methodName);\r\n            connection.send(data);\r\n\r\n            return d.promise();\r\n        },\r\n\r\n        _maximizeHubResponse: function _maximizeHubResponse(minHubResponse) {\r\n            return {\r\n                State: minHubResponse.S,\r\n                Result: minHubResponse.R,\r\n                Progress: minHubResponse.P ? {\r\n                    Id: minHubResponse.P.I,\r\n                    Data: minHubResponse.P.D\r\n                } : null,\r\n                Id: minHubResponse.I,\r\n                IsHubException: minHubResponse.H,\r\n                Error: minHubResponse.E,\r\n                StackTrace: minHubResponse.T,\r\n                ErrorData: minHubResponse.D\r\n            };\r\n        }\r\n    };\r\n\r\n    hubProxy.fn.init.prototype = hubProxy.fn;\r\n\r\n    // hubConnection\r\n    function hubConnection(url, options) {\r\n        /// <summary>Creates a new hub connection.</summary>\r\n        /// <param name=\"url\" type=\"String\">[Optional] The hub route url, defaults to \"/signalr\".</param>\r\n        /// <param name=\"options\" type=\"Object\">[Optional] Settings to use when creating the hubConnection.</param>\r\n        var settings = {\r\n            qs: null,\r\n            logging: false,\r\n            useDefaultPath: true\r\n        };\r\n\r\n        $.extend(settings, options);\r\n\r\n        if (!url || settings.useDefaultPath) {\r\n            url = (url || \"\") + \"/signalr\";\r\n        }\r\n        return new hubConnection.fn.init(url, settings);\r\n    }\r\n\r\n    hubConnection.fn = hubConnection.prototype = $.connection();\r\n\r\n    hubConnection.fn.init = function (url, options) {\r\n        var settings = {\r\n            qs: null,\r\n            logging: false,\r\n            useDefaultPath: true\r\n        },\r\n            connection = this;\r\n\r\n        $.extend(settings, options);\r\n\r\n        // Call the base constructor\r\n        $.signalR.fn.init.call(connection, url, settings.qs, settings.logging);\r\n\r\n        // Object to store hub proxies for this connection\r\n        connection.proxies = {};\r\n\r\n        connection._.invocationCallbackId = 0;\r\n        connection._.invocationCallbacks = {};\r\n\r\n        // Wire up the received handler\r\n        connection.received(function (minData) {\r\n            var data, proxy, dataCallbackId, callback, hubName, eventName;\r\n            if (!minData) {\r\n                return;\r\n            }\r\n\r\n            // We have to handle progress updates first in order to ensure old clients that receive\r\n            // progress updates enter the return value branch and then no-op when they can't find\r\n            // the callback in the map (because the minData.I value will not be a valid callback ID)\r\n            // Process progress notification\r\n            if (typeof minData.P !== \"undefined\") {\r\n                dataCallbackId = minData.P.I.toString();\r\n                callback = connection._.invocationCallbacks[dataCallbackId];\r\n                if (callback) {\r\n                    callback.method.call(callback.scope, minData);\r\n                }\r\n            } else if (typeof minData.I !== \"undefined\") {\r\n                // We received the return value from a server method invocation, look up callback by id and call it\r\n                dataCallbackId = minData.I.toString();\r\n                callback = connection._.invocationCallbacks[dataCallbackId];\r\n                if (callback) {\r\n                    // Delete the callback from the proxy\r\n                    connection._.invocationCallbacks[dataCallbackId] = null;\r\n                    delete connection._.invocationCallbacks[dataCallbackId];\r\n\r\n                    // Invoke the callback\r\n                    callback.method.call(callback.scope, minData);\r\n                }\r\n            } else {\r\n                data = this._maximizeClientHubInvocation(minData);\r\n\r\n                // We received a client invocation request, i.e. broadcast from server hub\r\n                connection.log(\"Triggering client hub event '\" + data.Method + \"' on hub '\" + data.Hub + \"'.\");\r\n\r\n                // Normalize the names to lowercase\r\n                hubName = data.Hub.toLowerCase();\r\n                eventName = data.Method.toLowerCase();\r\n\r\n                // Trigger the local invocation event\r\n                proxy = this.proxies[hubName];\r\n\r\n                // Update the hub state\r\n                $.extend(proxy.state, data.State);\r\n                $(proxy).triggerHandler(makeEventName(eventName), [data.Args]);\r\n            }\r\n        });\r\n\r\n        connection.error(function (errData, origData) {\r\n            var callbackId, callback;\r\n\r\n            if (!origData) {\r\n                // No original data passed so this is not a send error\r\n                return;\r\n            }\r\n\r\n            callbackId = origData.I;\r\n            callback = connection._.invocationCallbacks[callbackId];\r\n\r\n            // Verify that there is a callback bound (could have been cleared)\r\n            if (callback) {\r\n                // Delete the callback\r\n                connection._.invocationCallbacks[callbackId] = null;\r\n                delete connection._.invocationCallbacks[callbackId];\r\n\r\n                // Invoke the callback with an error to reject the promise\r\n                callback.method.call(callback.scope, { E: errData });\r\n            }\r\n        });\r\n\r\n        connection.reconnecting(function () {\r\n            if (connection.transport && connection.transport.name === \"webSockets\") {\r\n                clearInvocationCallbacks(connection, \"Connection started reconnecting before invocation result was received.\");\r\n            }\r\n        });\r\n\r\n        connection.disconnected(function () {\r\n            clearInvocationCallbacks(connection, \"Connection was disconnected before invocation result was received.\");\r\n        });\r\n    };\r\n\r\n    hubConnection.fn._maximizeClientHubInvocation = function (minClientHubInvocation) {\r\n        return {\r\n            Hub: minClientHubInvocation.H,\r\n            Method: minClientHubInvocation.M,\r\n            Args: minClientHubInvocation.A,\r\n            State: minClientHubInvocation.S\r\n        };\r\n    };\r\n\r\n    hubConnection.fn._registerSubscribedHubs = function () {\r\n        /// <summary>\r\n        ///     Sets the starting event to loop through the known hubs and register any new hubs\r\n        ///     that have been added to the proxy.\r\n        /// </summary>\r\n        var connection = this;\r\n\r\n        if (!connection._subscribedToHubs) {\r\n            connection._subscribedToHubs = true;\r\n            connection.starting(function () {\r\n                // Set the connection's data object with all the hub proxies with active subscriptions.\r\n                // These proxies will receive notifications from the server.\r\n                var subscribedHubs = [];\r\n\r\n                $.each(connection.proxies, function (key) {\r\n                    if (this.hasSubscriptions()) {\r\n                        subscribedHubs.push({ name: key });\r\n                        connection.log(\"Client subscribed to hub '\" + key + \"'.\");\r\n                    }\r\n                });\r\n\r\n                if (subscribedHubs.length === 0) {\r\n                    connection.log(\"No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to.\");\r\n                }\r\n\r\n                connection.data = connection.json.stringify(subscribedHubs);\r\n            });\r\n        }\r\n    };\r\n\r\n    hubConnection.fn.createHubProxy = function (hubName) {\r\n        /// <summary>\r\n        ///     Creates a new proxy object for the given hub connection that can be used to invoke\r\n        ///     methods on server hubs and handle client method invocation requests from the server.\r\n        /// </summary>\r\n        /// <param name=\"hubName\" type=\"String\">\r\n        ///     The name of the hub on the server to create the proxy for.\r\n        /// </param>\r\n\r\n        // Normalize the name to lowercase\r\n        hubName = hubName.toLowerCase();\r\n\r\n        var proxy = this.proxies[hubName];\r\n        if (!proxy) {\r\n            proxy = hubProxy(this, hubName);\r\n            this.proxies[hubName] = proxy;\r\n        }\r\n\r\n        this._registerSubscribedHubs();\r\n\r\n        return proxy;\r\n    };\r\n\r\n    hubConnection.fn.init.prototype = hubConnection.fn;\r\n\r\n    $.hubConnection = hubConnection;\r\n})(jQueryShim, window);\r\n/* jquery.signalR.version.js */\r\n// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n\r\n\r\n/*global window:false */\r\n/// <reference path=\"jquery.signalR.core.js\" />\r\n(function ($, undefined) {\r\n    // This will be modified by the build script\r\n    $.signalR.version = \"2.4.1\";\r\n})(jQueryShim);\r\n\r\nvar hubConnection = exports.hubConnection = jQueryShim.hubConnection;\r\nvar signalR = exports.signalR = jQueryShim.signalR;","var si = typeof setImmediate === 'function', tick;\nif (si) {\n  tick = function (fn) { setImmediate(fn); };\n} else {\n  tick = function (fn) { setTimeout(fn, 0); };\n}\n\nmodule.exports = tick;","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction getDef(f, d) {\n    if (typeof f === 'undefined') {\n        return typeof d === 'undefined' ? f : d;\n    }\n\n    return f;\n}\nfunction boolean(func, def) {\n\n    func = getDef(func, def);\n\n    if (typeof func === 'function') {\n        return function f() {\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            return !!func.apply(this, args);\n        };\n    }\n\n    return !!func ? function () {\n        return true;\n    } : function () {\n        return false;\n    };\n}\n\nfunction integer(func, def) {\n\n    func = getDef(func, def);\n\n    if (typeof func === 'function') {\n        return function f() {\n            for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n            }\n\n            var n = parseInt(func.apply(this, args), 10);\n            return n != n ? 0 : n;\n        };\n    }\n\n    func = parseInt(func, 10);\n\n    return func != func ? function () {\n        return 0;\n    } : function () {\n        return func;\n    };\n}\n\nfunction string(func, def) {\n\n    func = getDef(func, def);\n\n    if (typeof func === 'function') {\n        return function f() {\n            for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                args[_key3] = arguments[_key3];\n            }\n\n            return '' + func.apply(this, args);\n        };\n    }\n\n    func = '' + func;\n\n    return function () {\n        return func;\n    };\n}\n\nexports.boolean = boolean;\nexports.integer = integer;\nexports.string = string;\n//# sourceMappingURL=bundle.js.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import Dragula, { Drake } from \"dragula\";\r\nimport { TinyEmitter } from \"tiny-emitter\";\r\nimport autoScroll from \"dom-autoscroller\";\r\n\r\ntype EventTypes = \"cardMoved\";\r\n\r\nexport interface Column {\r\n    id: string;\r\n    header?: string | Element;\r\n}\r\n\r\nexport interface Card {\r\n    id: string;\r\n    content: string | Element;\r\n}\r\n\r\ninterface InternalColumn extends Column {\r\n    node: HTMLElement;\r\n    cards: Array<InternalCard>;\r\n}\r\n\r\ninterface InternalCard extends Card {\r\n    node: HTMLElement;\r\n}\r\n\r\nexport interface KanbanBoardOptions {\r\n    /**\r\n     * True if the board should be considered read-only and not allow any\r\n     * changes initiated by the user.\r\n     */\r\n    readonly?: boolean;\r\n}\r\n\r\nexport class KanbanBoard {\r\n    private board: HTMLElement | null;\r\n    private drake?: Drake;\r\n    private emitter: TinyEmitter;\r\n    private currentColumns: Array<InternalColumn> = [];\r\n\r\n    /**\r\n     * Creates a new kanban board instance that handles dragging cards around.\r\n     * \r\n     * @param elementSelector The selector or element that will contain the board.\r\n     * @param options The initializiation options for the board.\r\n     */\r\n    constructor(elementSelector: string | HTMLElement, options?: KanbanBoardOptions) {\r\n        this.emitter = new TinyEmitter();\r\n\r\n        if (elementSelector instanceof HTMLElement) {\r\n            this.board = elementSelector;\r\n        }\r\n        else {\r\n            this.board = document.querySelector(elementSelector);\r\n        }\r\n\r\n        if (this.board === null) {\r\n            return;\r\n        }\r\n\r\n        while (this.board.firstChild !== null) {\r\n            this.board.removeChild(this.board.firstChild);\r\n        }\r\n\r\n        this.board.classList.add(\"kanban-board\");\r\n\r\n        if (options?.readonly !== true) {\r\n            this.setupDragula();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Configures the dragula instance to handle drag and drop.\r\n     */\r\n    private setupDragula() {\r\n        this.drake = Dragula({\r\n            revertOnSpill: true\r\n        });\r\n\r\n        this.drake.on(\"drop\", this.onDrop.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Handles the completion of a drag operation ending with a drop to the new\r\n     * location.\r\n     * \r\n     * @param element The element being dropped.\r\n     * @param target The container that the element was dropped on.\r\n     * @param source The container that the element was dragged from.\r\n     * @param sibling The first sibling after the element after it is dropped.\r\n     */\r\n    private onDrop(element: Element, target: Element, source: Element, sibling: Element) {\r\n        if (!(element instanceof HTMLElement)) {\r\n            return;\r\n        }\r\n\r\n        /* Get the source and destination column nodes. */\r\n        const toColumnNode = <HTMLElement>target.closest(\".kanban-column\");\r\n        const fromColumnNode = <HTMLElement>source.closest(\".kanban-column\");\r\n        if (toColumnNode === null || fromColumnNode === null) {\r\n            return;\r\n        }\r\n\r\n        /* Get the card and column identifiers. */\r\n        const cardId = element.dataset.id;\r\n        const toColumnId = toColumnNode.dataset.id;\r\n        const fromColumnId = fromColumnNode.dataset.id;\r\n        if (cardId === undefined || toColumnId === undefined || fromColumnId === undefined) {\r\n            return;\r\n        }\r\n\r\n        /* Get the card and column objects. */\r\n        const card = this.findCard(cardId);\r\n        const toColumn = this.findColumn(toColumnId);\r\n        const fromColumn = this.findColumn(fromColumnId);\r\n        if (card === null || toColumn === null || fromColumn === null) {\r\n            return;\r\n        }\r\n\r\n        /* Get the source and destination indexes for the card. */\r\n        const fromColumnIndex = fromColumn.cards.indexOf(card);\r\n        const toColumnIndex = Array.from(target.childNodes).indexOf(element);\r\n        if (fromColumnIndex === -1 || toColumnIndex === -1) {\r\n            return;\r\n        }\r\n\r\n        /* Remove the card from the old column and add to new. */\r\n        fromColumn.cards.splice(fromColumnIndex, 1);\r\n        toColumn.cards.splice(toColumnIndex, 0, card);\r\n\r\n        const afterCardId = toColumnIndex >= 1 ? toColumn.cards[toColumnIndex - 1].id : null;\r\n\r\n        this.emitter.emit(\"cardMoved\", cardId, toColumnId, afterCardId, true);\r\n    }\r\n\r\n    protected findColumn(columnId: string) {\r\n        const index = this.findColumnIndex(columnId);\r\n\r\n        return index !== null ? this.currentColumns[index] : null;\r\n    }\r\n\r\n    protected findColumnIndex(columnId: string) {\r\n        for (let i = 0; i < this.currentColumns.length; i++) {\r\n            if (this.currentColumns[i].id === columnId) {\r\n                return i;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    protected findColumnForCard(cardId: string) {\r\n        for (let index in this.currentColumns) {\r\n            const column = this.currentColumns[index];\r\n            const cardIndex = this.findCardIndex(column, cardId);\r\n\r\n            if (cardIndex !== null) {\r\n                return column;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    protected findCard(cardId: string) {\r\n        for (let index in this.currentColumns) {\r\n            const column = this.currentColumns[index];\r\n            const cardIndex = this.findCardIndex(column, cardId);\r\n\r\n            if (cardIndex !== null) {\r\n                return column.cards[cardIndex];\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    protected findCardIndex(column: InternalColumn, cardId: string) {\r\n        for (let i = 0; i < column.cards.length; i++) {\r\n            if (column.cards[i].id === cardId) {\r\n                return i;\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    public addColumn(column: Column) {\r\n        return this.insertColumnInternal(column, this.currentColumns.length);\r\n    }\r\n\r\n    public insertColumnBefore(column: Column, beforeColumnId: string) {\r\n        const columnIndex = this.findColumnIndex(beforeColumnId);\r\n\r\n        if (columnIndex === null) {\r\n            return false;\r\n        }\r\n\r\n        return this.insertColumnInternal(column, columnIndex);\r\n    }\r\n\r\n    public getElementForColumn(columnId: string): HTMLElement | null {\r\n        const column = this.findColumn(columnId);\r\n\r\n        if (column === null) {\r\n            return null;\r\n        }\r\n\r\n        return column.node;\r\n    }\r\n\r\n    /**\r\n     * Gets the HTML element that corresponds to the given card identifier.\r\n     * \r\n     * @param cardId The card identifier to find.\r\n     * @returns The HTMLElement object or null if the card was not found.\r\n     */\r\n    public getElementForCard(cardId: string): HTMLElement | null {\r\n        return this.findCard(cardId)?.node ?? null;\r\n    }\r\n\r\n    public getCardIdsForColumn(columnId: string): Array<string> {\r\n        const column = this.findColumn(columnId);\r\n\r\n        if (column === null) {\r\n            return [];\r\n        }\r\n\r\n        return column.cards.map((c) => c.id);\r\n    }\r\n\r\n    /**\r\n     * Inserts a new card in the column after the specified card.\r\n     * \r\n     * @param card The card to be inserted.\r\n     * @param columnId The column identifier that will contain the card.\r\n     * @param afterCardId The identifier of the existing card that the new card will be inserted after.\r\n     * @returns True if the card was inserted; otherwise false.\r\n     */\r\n    public insertCardAfter(card: Card, columnId: string, afterCardId: string | null): boolean {\r\n        const column = this.findColumn(columnId);\r\n\r\n        if (column === null) {\r\n            return false;\r\n        }\r\n\r\n        if (afterCardId === null) {\r\n            return this.insertCardInternal(column, card, 0);\r\n        }\r\n        else {\r\n            const cardIndex = this.findCardIndex(column, afterCardId);\r\n\r\n            if (cardIndex === null) {\r\n                return false;\r\n            }\r\n\r\n            return this.insertCardInternal(column, card, cardIndex + 1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Move a card to the specified location.\r\n     * \r\n     * @param cardId The identifier of the card to be moved.\r\n     * @param toColumnId The identifier of the column the card will be moved to.\r\n     * @param afterCardId The identifier of the existing card the card should be placed after or null if it should be placed at the beginning.\r\n     * @returns true if the move was successful; otherwise false.\r\n     */\r\n    public moveCard(cardId: string, toColumnId: string, afterCardId: string | null) {\r\n        const fromColumn = this.findColumnForCard(cardId);\r\n        const toColumn = this.findColumn(toColumnId);\r\n        const card = this.findCard(cardId);\r\n\r\n        if (toColumn === null || fromColumn === null || card === null) {\r\n            return false;\r\n        }\r\n\r\n        const cardsContainer = toColumn.node.querySelector(\".cards\");\r\n        if (cardsContainer === null) {\r\n            return false;\r\n        }\r\n\r\n        const fromColumnCardIndex = fromColumn.cards.indexOf(card);\r\n        if (fromColumnCardIndex === -1) {\r\n            return false;\r\n        }\r\n\r\n        let insertAfterCard: InternalCard | null = null;\r\n        if (afterCardId !== null) {\r\n            const afterCard = this.findCard(afterCardId);\r\n\r\n            if (afterCard === null) {\r\n                return false;\r\n            }\r\n\r\n            insertAfterCard = afterCard;\r\n        }\r\n\r\n        // Check if the card is already in the expected place, such as when\r\n        // we are being notified of a move we made ourselves.\r\n        if (fromColumn.id === toColumn.id) {\r\n            if (insertAfterCard === null && card.node.previousSibling === null) {\r\n                console.log('card did not move');\r\n                return true;\r\n            }\r\n            else if (insertAfterCard !== null && card.node.previousSibling === insertAfterCard.node) {\r\n                console.log('card did not move');\r\n                return true;\r\n            }\r\n        }\r\n\r\n        card.node.remove();\r\n        fromColumn.cards.splice(fromColumnCardIndex, 1);\r\n\r\n        if (insertAfterCard !== null) {\r\n            const index = toColumn.cards.indexOf(insertAfterCard);\r\n            insertAfterCard.node.after(card.node);\r\n            toColumn.cards.splice(index + 1, 0, card);\r\n        }\r\n        else {\r\n            cardsContainer.prepend(card.node);\r\n            toColumn.cards.splice(0, 0, card);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Update the content for an existing card with the new HTML content.\r\n     * \r\n     * @param cardId The identifier of the card to be updated.\r\n     * @param content The new HTML content of the card.\r\n     * @returns true if the card was found and updated; otherwise false.\r\n     */\r\n    public updateCardContent(cardId: string, content: string | Element): boolean {\r\n        const card = this.findCard(cardId);\r\n\r\n        if (card === null) {\r\n            return false;\r\n        }\r\n\r\n        while (card.node.firstChild) {\r\n            card.node.removeChild(card.node.firstChild);\r\n        }\r\n\r\n        if (content instanceof Element) {\r\n            card.node.appendChild(content);\r\n        }\r\n        else if (typeof content === \"string\") {\r\n            card.node.innerHTML = content;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Remove a single card from the board.\r\n     * \r\n     * @param cardId The identifier of the card to be removed.\r\n     * @returns true if the card was found and removed; otherwise false.\r\n     */\r\n    public removeCard(cardId: string): boolean {\r\n        const card = this.findCard(cardId);\r\n        const column = this.findColumnForCard(cardId);\r\n\r\n        if (card === null || column === null) {\r\n            return false;\r\n        }\r\n\r\n        const cardIndex = this.findCardIndex(column, cardId);\r\n\r\n        if (cardIndex === null) {\r\n            return false;\r\n        }\r\n\r\n        card.node.remove();\r\n        column.cards.splice(cardIndex, 1);\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Add a new column to the board.\r\n     * \r\n     * @param column The data that describes the new column.\r\n     * @param columnIndex The position to insert the column at.\r\n     * @returns true if the column was added; otherwise false.\r\n     */\r\n    protected insertColumnInternal(column: Column, columnIndex: number) {\r\n        if (columnIndex > this.currentColumns.length) {\r\n            return false;\r\n        }\r\n\r\n        const columnElement = document.createElement(\"div\");\r\n        columnElement.classList.add(\"kanban-column\");\r\n        columnElement.dataset.id = column.id;\r\n\r\n        /* Create the element that will hold the title. */\r\n        if (column.header !== undefined) {\r\n            if (typeof column.header === \"string\") {\r\n                columnElement.appendChild(new DOMParser().parseFromString(column.header, \"text/html\"));\r\n            }\r\n            else {\r\n                columnElement.appendChild(column.header);\r\n            }\r\n        }\r\n        else if (typeof column.header === \"string\") {\r\n            const titleElement = document.createElement(\"div\");\r\n            titleElement.classList.add(\"title\");\r\n            titleElement.innerText = column.header;\r\n            columnElement.appendChild(titleElement);\r\n        }\r\n\r\n        /* Create the scroll helper element. */\r\n        const scrollElement = document.createElement(\"div\");\r\n        scrollElement.classList.add(\"cards-container\");\r\n        columnElement.appendChild(scrollElement);\r\n\r\n        /* Create the element that will hold the cards. */\r\n        const cardsElement = document.createElement(\"div\");\r\n        cardsElement.classList.add(\"cards\");\r\n        scrollElement.appendChild(cardsElement);\r\n\r\n        if (columnIndex < this.currentColumns.length) {\r\n            const beforeColumn = this.currentColumns[columnIndex];\r\n            this.board!.insertBefore(columnElement, beforeColumn.node);\r\n        }\r\n        else {\r\n            this.board!.appendChild(columnElement);\r\n        }\r\n\r\n        const internalColumn: InternalColumn = {\r\n            ...column,\r\n            node: columnElement,\r\n            cards: []\r\n        };\r\n        this.currentColumns.splice(columnIndex, 0, internalColumn);\r\n\r\n        /* Handle automatic scrolling when they are near the edge. */\r\n        if (this.drake !== undefined) {\r\n            const drake = this.drake;\r\n\r\n            drake.containers.push(cardsElement);\r\n\r\n            autoScroll([scrollElement], {\r\n                margin: 30,\r\n                maxSpeed: 10,\r\n                autoScroll: function () {\r\n                    return this.down && drake.dragging;\r\n                }\r\n            });\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Adds a new card to the specified column.\r\n     * \r\n     * @param column The column to add the card to.\r\n     * @param card The data that describes the new card.\r\n     * @param cardIndex The position in the column to insert the card at.\r\n     * @returns true if the card was added; otherwise false.\r\n     */\r\n    protected insertCardInternal(column: InternalColumn, card: Card, cardIndex: number) {\r\n        const cardsContainer = column.node.querySelector(\".cards\");\r\n\r\n        if (cardsContainer === null || cardIndex > column.cards.length) {\r\n            return false;\r\n        }\r\n\r\n        /* Create the card element that will hold the user's content. */\r\n        const cardElement = document.createElement(\"div\");\r\n        cardElement.classList.add(\"kanban-card\");\r\n\r\n        if (card.id !== undefined) {\r\n            cardElement.dataset.id = card.id;\r\n        }\r\n\r\n        if (card.content instanceof Element) {\r\n            cardElement.appendChild(card.content);\r\n        }\r\n        else if (typeof card.content === \"string\") {\r\n            cardElement.innerHTML = card.content;\r\n        }\r\n\r\n        if (cardIndex < column.cards.length) {\r\n            const beforeCard = column.cards[cardIndex];\r\n            cardsContainer.insertBefore(cardElement, beforeCard.node);\r\n        }\r\n        else {\r\n            cardsContainer.appendChild(cardElement);\r\n        }\r\n\r\n        const internalCard: InternalCard = {\r\n            ...card,\r\n            node: cardElement\r\n        };\r\n\r\n        column.cards.splice(cardIndex, 0, internalCard);\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Adds a new event handler for the specified event.\r\n     * \r\n     * @param event The event to be handled.\r\n     * @param callback The function to call when the event happens.\r\n     * @returns This instance so that you can chain events.\r\n     */\r\n    public on(event: \"cardMoved\", callback: (cardId: string, columnId: string, afterCardId: string | null, userInitiated: boolean) => void): KanbanBoard;\r\n\r\n    /**\r\n     * Adds a new event handler for the specified event.\r\n     *\r\n     * @param event The event to be handled.\r\n     * @param callback The function to call when the event happens.\r\n     * @returns This instance so that you can chain events.\r\n     */\r\n    public on(event: string, callback: Function) {\r\n        this.emitter.on(event, callback);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Removes the event handler for the specified event.\r\n     * \r\n     * @param event The event to be turned off.\r\n     * @param callback The callback to turn off, or undefined to turn off all callbacks.\r\n     * @returns This instance so that you can chain events.\r\n     */\r\n    public off(event: EventTypes, callback: Function | undefined) {\r\n        this.emitter.off(event, callback);\r\n\r\n        return this;\r\n    }\r\n}\r\n","export default function getBoundingClientRect(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    right: rect.right,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    y: rect.top\n  };\n}","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\"; // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement);\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') !== -1;\n  var isIE = navigator.userAgent.indexOf('Trident') !== -1;\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(options) {\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update  it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update  it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","import { top, left, right, bottom } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(round(x * dpr) / dpr) || 0,\n    y: round(round(y * dpr) / dpr) || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets;\n\n  var _ref3 = roundOffsets === true ? roundOffsetsByDPR(offsets) : typeof roundOffsets === 'function' ? roundOffsets(offsets) : offsets,\n      _ref3$x = _ref3.x,\n      x = _ref3$x === void 0 ? 0 : _ref3$x,\n      _ref3$y = _ref3.y,\n      y = _ref3$y === void 0 ? 0 : _ref3$y;\n\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top) {\n      sideY = bottom; // $FlowFixMe[prop-missing]\n\n      y -= offsetParent[heightProp] - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left) {\n      sideX = right; // $FlowFixMe[prop-missing]\n\n      x -= offsetParent[widthProp] - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) < 2 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref4) {\n  var state = _ref4.state,\n      options = _ref4.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element) {\n  var rect = getBoundingClientRect(element);\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isHTMLElement(clippingParent) ? getInnerBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0; // NB: This isn't supported on iOS <= 12. If the keyboard is open, the popper\n  // can be obscured underneath it.\n  // Also, `html.clientHeight` adds the bottom bar height in Safari iOS, even\n  // if it isn't open, so if this isn't available, the popper will be detected\n  // to overflow the bottom of the screen too early.\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height; // Uses Layout Viewport (like Chrome; Safari does not currently)\n    // In Chrome, it returns a value very close to 0 (+/-) but contains rounding\n    // errors due to floating point numbers, so we need to check precision.\n    // Safari returns a number <= 0, usually < -1 when pinch-zoomed\n    // Feature detection fails in mobile emulation mode in Chrome.\n    // Math.abs(win.innerWidth / visualViewport.scale - visualViewport.width) <\n    // 0.001\n    // Fallback here: \"Not Safari\" userAgent\n\n    if (!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var referenceElement = state.elements.reference;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(referenceElement);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport default function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\";\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases  research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport within from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { max as mathMax, min as mathMin } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis || checkAltAxis) {\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = popperOffsets[mainAxis] + overflow[mainSide];\n    var max = popperOffsets[mainAxis] - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - tetherOffsetValue : minLen - arrowLen - arrowPaddingMin - tetherOffsetValue;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + tetherOffsetValue : maxLen + arrowLen + arrowPaddingMax + tetherOffsetValue;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = state.modifiersData.offset ? state.modifiersData.offset[state.placement][mainAxis] : 0;\n    var tetherMin = popperOffsets[mainAxis] + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = popperOffsets[mainAxis] + maxOffset - offsetModifierValue;\n\n    if (checkMainAxis) {\n      var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n      popperOffsets[mainAxis] = preventedOffset;\n      data[mainAxis] = preventedOffset - offset;\n    }\n\n    if (checkAltAxis) {\n      var _mainSide = mainAxis === 'x' ? top : left;\n\n      var _altSide = mainAxis === 'x' ? bottom : right;\n\n      var _offset = popperOffsets[altAxis];\n\n      var _min = _offset + overflow[_mainSide];\n\n      var _max = _offset - overflow[_altSide];\n\n      var _preventedOffset = within(tether ? mathMin(_min, tetherMin) : _min, _offset, tether ? mathMax(_max, tetherMax) : _max);\n\n      popperOffsets[altAxis] = _preventedOffset;\n      data[altAxis] = _preventedOffset - _offset;\n    }\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport within from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","/**!\n* tippy.js v6.3.1\n* (c) 2017-2021 atomiks\n* MIT License\n*/\nimport { createPopper, applyStyles } from '@popperjs/core';\n\nvar ROUND_ARROW = '<svg width=\"16\" height=\"6\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z\"></svg>';\nvar BOX_CLASS = \"tippy-box\";\nvar CONTENT_CLASS = \"tippy-content\";\nvar BACKDROP_CLASS = \"tippy-backdrop\";\nvar ARROW_CLASS = \"tippy-arrow\";\nvar SVG_ARROW_CLASS = \"tippy-svg-arrow\";\nvar TOUCH_OPTIONS = {\n  passive: true,\n  capture: true\n};\n\nfunction hasOwnProperty(obj, key) {\n  return {}.hasOwnProperty.call(obj, key);\n}\nfunction getValueAtIndexOrReturn(value, index, defaultValue) {\n  if (Array.isArray(value)) {\n    var v = value[index];\n    return v == null ? Array.isArray(defaultValue) ? defaultValue[index] : defaultValue : v;\n  }\n\n  return value;\n}\nfunction isType(value, type) {\n  var str = {}.toString.call(value);\n  return str.indexOf('[object') === 0 && str.indexOf(type + \"]\") > -1;\n}\nfunction invokeWithArgsOrReturn(value, args) {\n  return typeof value === 'function' ? value.apply(void 0, args) : value;\n}\nfunction debounce(fn, ms) {\n  // Avoid wrapping in `setTimeout` if ms is 0 anyway\n  if (ms === 0) {\n    return fn;\n  }\n\n  var timeout;\n  return function (arg) {\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      fn(arg);\n    }, ms);\n  };\n}\nfunction removeProperties(obj, keys) {\n  var clone = Object.assign({}, obj);\n  keys.forEach(function (key) {\n    delete clone[key];\n  });\n  return clone;\n}\nfunction splitBySpaces(value) {\n  return value.split(/\\s+/).filter(Boolean);\n}\nfunction normalizeToArray(value) {\n  return [].concat(value);\n}\nfunction pushIfUnique(arr, value) {\n  if (arr.indexOf(value) === -1) {\n    arr.push(value);\n  }\n}\nfunction unique(arr) {\n  return arr.filter(function (item, index) {\n    return arr.indexOf(item) === index;\n  });\n}\nfunction getBasePlacement(placement) {\n  return placement.split('-')[0];\n}\nfunction arrayFrom(value) {\n  return [].slice.call(value);\n}\nfunction removeUndefinedProps(obj) {\n  return Object.keys(obj).reduce(function (acc, key) {\n    if (obj[key] !== undefined) {\n      acc[key] = obj[key];\n    }\n\n    return acc;\n  }, {});\n}\n\nfunction div() {\n  return document.createElement('div');\n}\nfunction isElement(value) {\n  return ['Element', 'Fragment'].some(function (type) {\n    return isType(value, type);\n  });\n}\nfunction isNodeList(value) {\n  return isType(value, 'NodeList');\n}\nfunction isMouseEvent(value) {\n  return isType(value, 'MouseEvent');\n}\nfunction isReferenceElement(value) {\n  return !!(value && value._tippy && value._tippy.reference === value);\n}\nfunction getArrayOfElements(value) {\n  if (isElement(value)) {\n    return [value];\n  }\n\n  if (isNodeList(value)) {\n    return arrayFrom(value);\n  }\n\n  if (Array.isArray(value)) {\n    return value;\n  }\n\n  return arrayFrom(document.querySelectorAll(value));\n}\nfunction setTransitionDuration(els, value) {\n  els.forEach(function (el) {\n    if (el) {\n      el.style.transitionDuration = value + \"ms\";\n    }\n  });\n}\nfunction setVisibilityState(els, state) {\n  els.forEach(function (el) {\n    if (el) {\n      el.setAttribute('data-state', state);\n    }\n  });\n}\nfunction getOwnerDocument(elementOrElements) {\n  var _element$ownerDocumen;\n\n  var _normalizeToArray = normalizeToArray(elementOrElements),\n      element = _normalizeToArray[0]; // Elements created via a <template> have an ownerDocument with no reference to the body\n\n\n  return (element == null ? void 0 : (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body) ? element.ownerDocument : document;\n}\nfunction isCursorOutsideInteractiveBorder(popperTreeData, event) {\n  var clientX = event.clientX,\n      clientY = event.clientY;\n  return popperTreeData.every(function (_ref) {\n    var popperRect = _ref.popperRect,\n        popperState = _ref.popperState,\n        props = _ref.props;\n    var interactiveBorder = props.interactiveBorder;\n    var basePlacement = getBasePlacement(popperState.placement);\n    var offsetData = popperState.modifiersData.offset;\n\n    if (!offsetData) {\n      return true;\n    }\n\n    var topDistance = basePlacement === 'bottom' ? offsetData.top.y : 0;\n    var bottomDistance = basePlacement === 'top' ? offsetData.bottom.y : 0;\n    var leftDistance = basePlacement === 'right' ? offsetData.left.x : 0;\n    var rightDistance = basePlacement === 'left' ? offsetData.right.x : 0;\n    var exceedsTop = popperRect.top - clientY + topDistance > interactiveBorder;\n    var exceedsBottom = clientY - popperRect.bottom - bottomDistance > interactiveBorder;\n    var exceedsLeft = popperRect.left - clientX + leftDistance > interactiveBorder;\n    var exceedsRight = clientX - popperRect.right - rightDistance > interactiveBorder;\n    return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight;\n  });\n}\nfunction updateTransitionEndListener(box, action, listener) {\n  var method = action + \"EventListener\"; // some browsers apparently support `transition` (unprefixed) but only fire\n  // `webkitTransitionEnd`...\n\n  ['transitionend', 'webkitTransitionEnd'].forEach(function (event) {\n    box[method](event, listener);\n  });\n}\n\nvar currentInput = {\n  isTouch: false\n};\nvar lastMouseMoveTime = 0;\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\n\nfunction onDocumentTouchStart() {\n  if (currentInput.isTouch) {\n    return;\n  }\n\n  currentInput.isTouch = true;\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove);\n  }\n}\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\n\nfunction onDocumentMouseMove() {\n  var now = performance.now();\n\n  if (now - lastMouseMoveTime < 20) {\n    currentInput.isTouch = false;\n    document.removeEventListener('mousemove', onDocumentMouseMove);\n  }\n\n  lastMouseMoveTime = now;\n}\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\n\nfunction onWindowBlur() {\n  var activeElement = document.activeElement;\n\n  if (isReferenceElement(activeElement)) {\n    var instance = activeElement._tippy;\n\n    if (activeElement.blur && !instance.state.isVisible) {\n      activeElement.blur();\n    }\n  }\n}\nfunction bindGlobalEventListeners() {\n  document.addEventListener('touchstart', onDocumentTouchStart, TOUCH_OPTIONS);\n  window.addEventListener('blur', onWindowBlur);\n}\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\nvar ua = isBrowser ? navigator.userAgent : '';\nvar isIE = /MSIE |Trident\\//.test(ua);\n\nfunction createMemoryLeakWarning(method) {\n  var txt = method === 'destroy' ? 'n already-' : ' ';\n  return [method + \"() was called on a\" + txt + \"destroyed instance. This is a no-op but\", 'indicates a potential memory leak.'].join(' ');\n}\nfunction clean(value) {\n  var spacesAndTabs = /[ \\t]{2,}/g;\n  var lineStartWithSpaces = /^[ \\t]*/gm;\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n}\n\nfunction getDevMessage(message) {\n  return clean(\"\\n  %ctippy.js\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development-only message. It will be removed in production.\\n  \");\n}\n\nfunction getFormattedMessage(message) {\n  return [getDevMessage(message), // title\n  'color: #00C584; font-size: 1.3em; font-weight: bold;', // message\n  'line-height: 1.5', // footer\n  'color: #a6a095;'];\n} // Assume warnings and errors never have the same message\n\nvar visitedMessages;\n\nif (process.env.NODE_ENV !== \"production\") {\n  resetVisitedMessages();\n}\n\nfunction resetVisitedMessages() {\n  visitedMessages = new Set();\n}\nfunction warnWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console;\n\n    visitedMessages.add(message);\n\n    (_console = console).warn.apply(_console, getFormattedMessage(message));\n  }\n}\nfunction errorWhen(condition, message) {\n  if (condition && !visitedMessages.has(message)) {\n    var _console2;\n\n    visitedMessages.add(message);\n\n    (_console2 = console).error.apply(_console2, getFormattedMessage(message));\n  }\n}\nfunction validateTargets(targets) {\n  var didPassFalsyValue = !targets;\n  var didPassPlainObject = Object.prototype.toString.call(targets) === '[object Object]' && !targets.addEventListener;\n  errorWhen(didPassFalsyValue, ['tippy() was passed', '`' + String(targets) + '`', 'as its targets (first) argument. Valid types are: String, Element,', 'Element[], or NodeList.'].join(' '));\n  errorWhen(didPassPlainObject, ['tippy() was passed a plain object which is not supported as an argument', 'for virtual positioning. Use props.getReferenceClientRect instead.'].join(' '));\n}\n\nvar pluginProps = {\n  animateFill: false,\n  followCursor: false,\n  inlinePositioning: false,\n  sticky: false\n};\nvar renderProps = {\n  allowHTML: false,\n  animation: 'fade',\n  arrow: true,\n  content: '',\n  inertia: false,\n  maxWidth: 350,\n  role: 'tooltip',\n  theme: '',\n  zIndex: 9999\n};\nvar defaultProps = Object.assign({\n  appendTo: function appendTo() {\n    return document.body;\n  },\n  aria: {\n    content: 'auto',\n    expanded: 'auto'\n  },\n  delay: 0,\n  duration: [300, 250],\n  getReferenceClientRect: null,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  moveTransition: '',\n  offset: [0, 10],\n  onAfterUpdate: function onAfterUpdate() {},\n  onBeforeUpdate: function onBeforeUpdate() {},\n  onCreate: function onCreate() {},\n  onDestroy: function onDestroy() {},\n  onHidden: function onHidden() {},\n  onHide: function onHide() {},\n  onMount: function onMount() {},\n  onShow: function onShow() {},\n  onShown: function onShown() {},\n  onTrigger: function onTrigger() {},\n  onUntrigger: function onUntrigger() {},\n  onClickOutside: function onClickOutside() {},\n  placement: 'top',\n  plugins: [],\n  popperOptions: {},\n  render: null,\n  showOnCreate: false,\n  touch: true,\n  trigger: 'mouseenter focus',\n  triggerTarget: null\n}, pluginProps, {}, renderProps);\nvar defaultKeys = Object.keys(defaultProps);\nvar setDefaultProps = function setDefaultProps(partialProps) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    validateProps(partialProps, []);\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (key) {\n    defaultProps[key] = partialProps[key];\n  });\n};\nfunction getExtendedPassedProps(passedProps) {\n  var plugins = passedProps.plugins || [];\n  var pluginProps = plugins.reduce(function (acc, plugin) {\n    var name = plugin.name,\n        defaultValue = plugin.defaultValue;\n\n    if (name) {\n      acc[name] = passedProps[name] !== undefined ? passedProps[name] : defaultValue;\n    }\n\n    return acc;\n  }, {});\n  return Object.assign({}, passedProps, {}, pluginProps);\n}\nfunction getDataAttributeProps(reference, plugins) {\n  var propKeys = plugins ? Object.keys(getExtendedPassedProps(Object.assign({}, defaultProps, {\n    plugins: plugins\n  }))) : defaultKeys;\n  var props = propKeys.reduce(function (acc, key) {\n    var valueAsString = (reference.getAttribute(\"data-tippy-\" + key) || '').trim();\n\n    if (!valueAsString) {\n      return acc;\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString;\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString);\n      } catch (e) {\n        acc[key] = valueAsString;\n      }\n    }\n\n    return acc;\n  }, {});\n  return props;\n}\nfunction evaluateProps(reference, props) {\n  var out = Object.assign({}, props, {\n    content: invokeWithArgsOrReturn(props.content, [reference])\n  }, props.ignoreAttributes ? {} : getDataAttributeProps(reference, props.plugins));\n  out.aria = Object.assign({}, defaultProps.aria, {}, out.aria);\n  out.aria = {\n    expanded: out.aria.expanded === 'auto' ? props.interactive : out.aria.expanded,\n    content: out.aria.content === 'auto' ? props.interactive ? null : 'describedby' : out.aria.content\n  };\n  return out;\n}\nfunction validateProps(partialProps, plugins) {\n  if (partialProps === void 0) {\n    partialProps = {};\n  }\n\n  if (plugins === void 0) {\n    plugins = [];\n  }\n\n  var keys = Object.keys(partialProps);\n  keys.forEach(function (prop) {\n    var nonPluginProps = removeProperties(defaultProps, Object.keys(pluginProps));\n    var didPassUnknownProp = !hasOwnProperty(nonPluginProps, prop); // Check if the prop exists in `plugins`\n\n    if (didPassUnknownProp) {\n      didPassUnknownProp = plugins.filter(function (plugin) {\n        return plugin.name === prop;\n      }).length === 0;\n    }\n\n    warnWhen(didPassUnknownProp, [\"`\" + prop + \"`\", \"is not a valid prop. You may have spelled it incorrectly, or if it's\", 'a plugin, forgot to pass it in an array as props.plugins.', '\\n\\n', 'All props: https://atomiks.github.io/tippyjs/v6/all-props/\\n', 'Plugins: https://atomiks.github.io/tippyjs/v6/plugins/'].join(' '));\n  });\n}\n\nvar innerHTML = function innerHTML() {\n  return 'innerHTML';\n};\n\nfunction dangerouslySetInnerHTML(element, html) {\n  element[innerHTML()] = html;\n}\n\nfunction createArrowElement(value) {\n  var arrow = div();\n\n  if (value === true) {\n    arrow.className = ARROW_CLASS;\n  } else {\n    arrow.className = SVG_ARROW_CLASS;\n\n    if (isElement(value)) {\n      arrow.appendChild(value);\n    } else {\n      dangerouslySetInnerHTML(arrow, value);\n    }\n  }\n\n  return arrow;\n}\n\nfunction setContent(content, props) {\n  if (isElement(props.content)) {\n    dangerouslySetInnerHTML(content, '');\n    content.appendChild(props.content);\n  } else if (typeof props.content !== 'function') {\n    if (props.allowHTML) {\n      dangerouslySetInnerHTML(content, props.content);\n    } else {\n      content.textContent = props.content;\n    }\n  }\n}\nfunction getChildren(popper) {\n  var box = popper.firstElementChild;\n  var boxChildren = arrayFrom(box.children);\n  return {\n    box: box,\n    content: boxChildren.find(function (node) {\n      return node.classList.contains(CONTENT_CLASS);\n    }),\n    arrow: boxChildren.find(function (node) {\n      return node.classList.contains(ARROW_CLASS) || node.classList.contains(SVG_ARROW_CLASS);\n    }),\n    backdrop: boxChildren.find(function (node) {\n      return node.classList.contains(BACKDROP_CLASS);\n    })\n  };\n}\nfunction render(instance) {\n  var popper = div();\n  var box = div();\n  box.className = BOX_CLASS;\n  box.setAttribute('data-state', 'hidden');\n  box.setAttribute('tabindex', '-1');\n  var content = div();\n  content.className = CONTENT_CLASS;\n  content.setAttribute('data-state', 'hidden');\n  setContent(content, instance.props);\n  popper.appendChild(box);\n  box.appendChild(content);\n  onUpdate(instance.props, instance.props);\n\n  function onUpdate(prevProps, nextProps) {\n    var _getChildren = getChildren(popper),\n        box = _getChildren.box,\n        content = _getChildren.content,\n        arrow = _getChildren.arrow;\n\n    if (nextProps.theme) {\n      box.setAttribute('data-theme', nextProps.theme);\n    } else {\n      box.removeAttribute('data-theme');\n    }\n\n    if (typeof nextProps.animation === 'string') {\n      box.setAttribute('data-animation', nextProps.animation);\n    } else {\n      box.removeAttribute('data-animation');\n    }\n\n    if (nextProps.inertia) {\n      box.setAttribute('data-inertia', '');\n    } else {\n      box.removeAttribute('data-inertia');\n    }\n\n    box.style.maxWidth = typeof nextProps.maxWidth === 'number' ? nextProps.maxWidth + \"px\" : nextProps.maxWidth;\n\n    if (nextProps.role) {\n      box.setAttribute('role', nextProps.role);\n    } else {\n      box.removeAttribute('role');\n    }\n\n    if (prevProps.content !== nextProps.content || prevProps.allowHTML !== nextProps.allowHTML) {\n      setContent(content, instance.props);\n    }\n\n    if (nextProps.arrow) {\n      if (!arrow) {\n        box.appendChild(createArrowElement(nextProps.arrow));\n      } else if (prevProps.arrow !== nextProps.arrow) {\n        box.removeChild(arrow);\n        box.appendChild(createArrowElement(nextProps.arrow));\n      }\n    } else if (arrow) {\n      box.removeChild(arrow);\n    }\n  }\n\n  return {\n    popper: popper,\n    onUpdate: onUpdate\n  };\n} // Runtime check to identify if the render function is the default one; this\n// way we can apply default CSS transitions logic and it can be tree-shaken away\n\nrender.$$tippy = true;\n\nvar idCounter = 1;\nvar mouseMoveListeners = []; // Used by `hideAll()`\n\nvar mountedInstances = [];\nfunction createTippy(reference, passedProps) {\n  var props = evaluateProps(reference, Object.assign({}, defaultProps, {}, getExtendedPassedProps(removeUndefinedProps(passedProps)))); // ===========================================================================\n  //  Private members\n  // ===========================================================================\n\n  var showTimeout;\n  var hideTimeout;\n  var scheduleHideAnimationFrame;\n  var isVisibleFromClick = false;\n  var didHideDueToDocumentMouseDown = false;\n  var didTouchMove = false;\n  var ignoreOnFirstUpdate = false;\n  var lastTriggerEvent;\n  var currentTransitionEndListener;\n  var onFirstUpdate;\n  var listeners = [];\n  var debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce);\n  var currentTarget; // ===========================================================================\n  //  Public members\n  // ===========================================================================\n\n  var id = idCounter++;\n  var popperInstance = null;\n  var plugins = unique(props.plugins);\n  var state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false\n  };\n  var instance = {\n    // properties\n    id: id,\n    reference: reference,\n    popper: div(),\n    popperInstance: popperInstance,\n    props: props,\n    state: state,\n    plugins: plugins,\n    // methods\n    clearDelayTimeouts: clearDelayTimeouts,\n    setProps: setProps,\n    setContent: setContent,\n    show: show,\n    hide: hide,\n    hideWithInteractivity: hideWithInteractivity,\n    enable: enable,\n    disable: disable,\n    unmount: unmount,\n    destroy: destroy\n  }; // TODO: Investigate why this early return causes a TDZ error in the tests \n  // it doesn't seem to happen in the browser\n\n  /* istanbul ignore if */\n\n  if (!props.render) {\n    if (process.env.NODE_ENV !== \"production\") {\n      errorWhen(true, 'render() function has not been supplied.');\n    }\n\n    return instance;\n  } // ===========================================================================\n  // Initial mutations\n  // ===========================================================================\n\n\n  var _props$render = props.render(instance),\n      popper = _props$render.popper,\n      onUpdate = _props$render.onUpdate;\n\n  popper.setAttribute('data-tippy-root', '');\n  popper.id = \"tippy-\" + instance.id;\n  instance.popper = popper;\n  reference._tippy = instance;\n  popper._tippy = instance;\n  var pluginsHooks = plugins.map(function (plugin) {\n    return plugin.fn(instance);\n  });\n  var hasAriaExpanded = reference.hasAttribute('aria-expanded');\n  addListeners();\n  handleAriaExpandedAttribute();\n  handleStyles();\n  invokeHook('onCreate', [instance]);\n\n  if (props.showOnCreate) {\n    scheduleShow();\n  } // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n\n\n  popper.addEventListener('mouseenter', function () {\n    if (instance.props.interactive && instance.state.isVisible) {\n      instance.clearDelayTimeouts();\n    }\n  });\n  popper.addEventListener('mouseleave', function (event) {\n    if (instance.props.interactive && instance.props.trigger.indexOf('mouseenter') >= 0) {\n      getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n      debouncedOnMouseMove(event);\n    }\n  });\n  return instance; // ===========================================================================\n  //  Private methods\n  // ===========================================================================\n\n  function getNormalizedTouchSettings() {\n    var touch = instance.props.touch;\n    return Array.isArray(touch) ? touch : [touch, 0];\n  }\n\n  function getIsCustomTouchBehavior() {\n    return getNormalizedTouchSettings()[0] === 'hold';\n  }\n\n  function getIsDefaultRenderFn() {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    return !!((_instance$props$rende = instance.props.render) == null ? void 0 : _instance$props$rende.$$tippy);\n  }\n\n  function getCurrentTarget() {\n    return currentTarget || reference;\n  }\n\n  function getDocument() {\n    var parent = getCurrentTarget().parentNode;\n    return parent ? getOwnerDocument(parent) : document;\n  }\n\n  function getDefaultTemplateChildren() {\n    return getChildren(popper);\n  }\n\n  function getDelay(isShow) {\n    // For touch or keyboard input, force `0` delay for UX reasons\n    // Also if the instance is mounted but not visible (transitioning out),\n    // ignore delay\n    if (instance.state.isMounted && !instance.state.isVisible || currentInput.isTouch || lastTriggerEvent && lastTriggerEvent.type === 'focus') {\n      return 0;\n    }\n\n    return getValueAtIndexOrReturn(instance.props.delay, isShow ? 0 : 1, defaultProps.delay);\n  }\n\n  function handleStyles() {\n    popper.style.pointerEvents = instance.props.interactive && instance.state.isVisible ? '' : 'none';\n    popper.style.zIndex = \"\" + instance.props.zIndex;\n  }\n\n  function invokeHook(hook, args, shouldInvokePropsHook) {\n    if (shouldInvokePropsHook === void 0) {\n      shouldInvokePropsHook = true;\n    }\n\n    pluginsHooks.forEach(function (pluginHooks) {\n      if (pluginHooks[hook]) {\n        pluginHooks[hook].apply(void 0, args);\n      }\n    });\n\n    if (shouldInvokePropsHook) {\n      var _instance$props;\n\n      (_instance$props = instance.props)[hook].apply(_instance$props, args);\n    }\n  }\n\n  function handleAriaContentAttribute() {\n    var aria = instance.props.aria;\n\n    if (!aria.content) {\n      return;\n    }\n\n    var attr = \"aria-\" + aria.content;\n    var id = popper.id;\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      var currentValue = node.getAttribute(attr);\n\n      if (instance.state.isVisible) {\n        node.setAttribute(attr, currentValue ? currentValue + \" \" + id : id);\n      } else {\n        var nextValue = currentValue && currentValue.replace(id, '').trim();\n\n        if (nextValue) {\n          node.setAttribute(attr, nextValue);\n        } else {\n          node.removeAttribute(attr);\n        }\n      }\n    });\n  }\n\n  function handleAriaExpandedAttribute() {\n    if (hasAriaExpanded || !instance.props.aria.expanded) {\n      return;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      if (instance.props.interactive) {\n        node.setAttribute('aria-expanded', instance.state.isVisible && node === getCurrentTarget() ? 'true' : 'false');\n      } else {\n        node.removeAttribute('aria-expanded');\n      }\n    });\n  }\n\n  function cleanupInteractiveMouseListeners() {\n    getDocument().removeEventListener('mousemove', debouncedOnMouseMove);\n    mouseMoveListeners = mouseMoveListeners.filter(function (listener) {\n      return listener !== debouncedOnMouseMove;\n    });\n  }\n\n  function onDocumentPress(event) {\n    // Moved finger to scroll instead of an intentional tap outside\n    if (currentInput.isTouch) {\n      if (didTouchMove || event.type === 'mousedown') {\n        return;\n      }\n    } // Clicked on interactive popper\n\n\n    if (instance.props.interactive && popper.contains(event.target)) {\n      return;\n    } // Clicked on the event listeners target\n\n\n    if (getCurrentTarget().contains(event.target)) {\n      if (currentInput.isTouch) {\n        return;\n      }\n\n      if (instance.state.isVisible && instance.props.trigger.indexOf('click') >= 0) {\n        return;\n      }\n    } else {\n      invokeHook('onClickOutside', [instance, event]);\n    }\n\n    if (instance.props.hideOnClick === true) {\n      instance.clearDelayTimeouts();\n      instance.hide(); // `mousedown` event is fired right before `focus` if pressing the\n      // currentTarget. This lets a tippy with `focus` trigger know that it\n      // should not show\n\n      didHideDueToDocumentMouseDown = true;\n      setTimeout(function () {\n        didHideDueToDocumentMouseDown = false;\n      }); // The listener gets added in `scheduleShow()`, but this may be hiding it\n      // before it shows, and hide()'s early bail-out behavior can prevent it\n      // from being cleaned up\n\n      if (!instance.state.isMounted) {\n        removeDocumentPress();\n      }\n    }\n  }\n\n  function onTouchMove() {\n    didTouchMove = true;\n  }\n\n  function onTouchStart() {\n    didTouchMove = false;\n  }\n\n  function addDocumentPress() {\n    var doc = getDocument();\n    doc.addEventListener('mousedown', onDocumentPress, true);\n    doc.addEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.addEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.addEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function removeDocumentPress() {\n    var doc = getDocument();\n    doc.removeEventListener('mousedown', onDocumentPress, true);\n    doc.removeEventListener('touchend', onDocumentPress, TOUCH_OPTIONS);\n    doc.removeEventListener('touchstart', onTouchStart, TOUCH_OPTIONS);\n    doc.removeEventListener('touchmove', onTouchMove, TOUCH_OPTIONS);\n  }\n\n  function onTransitionedOut(duration, callback) {\n    onTransitionEnd(duration, function () {\n      if (!instance.state.isVisible && popper.parentNode && popper.parentNode.contains(popper)) {\n        callback();\n      }\n    });\n  }\n\n  function onTransitionedIn(duration, callback) {\n    onTransitionEnd(duration, callback);\n  }\n\n  function onTransitionEnd(duration, callback) {\n    var box = getDefaultTemplateChildren().box;\n\n    function listener(event) {\n      if (event.target === box) {\n        updateTransitionEndListener(box, 'remove', listener);\n        callback();\n      }\n    } // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n\n\n    if (duration === 0) {\n      return callback();\n    }\n\n    updateTransitionEndListener(box, 'remove', currentTransitionEndListener);\n    updateTransitionEndListener(box, 'add', listener);\n    currentTransitionEndListener = listener;\n  }\n\n  function on(eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    var nodes = normalizeToArray(instance.props.triggerTarget || reference);\n    nodes.forEach(function (node) {\n      node.addEventListener(eventType, handler, options);\n      listeners.push({\n        node: node,\n        eventType: eventType,\n        handler: handler,\n        options: options\n      });\n    });\n  }\n\n  function addListeners() {\n    if (getIsCustomTouchBehavior()) {\n      on('touchstart', onTrigger, {\n        passive: true\n      });\n      on('touchend', onMouseLeave, {\n        passive: true\n      });\n    }\n\n    splitBySpaces(instance.props.trigger).forEach(function (eventType) {\n      if (eventType === 'manual') {\n        return;\n      }\n\n      on(eventType, onTrigger);\n\n      switch (eventType) {\n        case 'mouseenter':\n          on('mouseleave', onMouseLeave);\n          break;\n\n        case 'focus':\n          on(isIE ? 'focusout' : 'blur', onBlurOrFocusOut);\n          break;\n\n        case 'focusin':\n          on('focusout', onBlurOrFocusOut);\n          break;\n      }\n    });\n  }\n\n  function removeListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function onTrigger(event) {\n    var _lastTriggerEvent;\n\n    var shouldScheduleClickHide = false;\n\n    if (!instance.state.isEnabled || isEventListenerStopped(event) || didHideDueToDocumentMouseDown) {\n      return;\n    }\n\n    var wasFocused = ((_lastTriggerEvent = lastTriggerEvent) == null ? void 0 : _lastTriggerEvent.type) === 'focus';\n    lastTriggerEvent = event;\n    currentTarget = event.currentTarget;\n    handleAriaExpandedAttribute();\n\n    if (!instance.state.isVisible && isMouseEvent(event)) {\n      // If scrolling, `mouseenter` events can be fired if the cursor lands\n      // over a new target, but `mousemove` events don't get fired. This\n      // causes interactive tooltips to get stuck open until the cursor is\n      // moved\n      mouseMoveListeners.forEach(function (listener) {\n        return listener(event);\n      });\n    } // Toggle show/hide when clicking click-triggered tooltips\n\n\n    if (event.type === 'click' && (instance.props.trigger.indexOf('mouseenter') < 0 || isVisibleFromClick) && instance.props.hideOnClick !== false && instance.state.isVisible) {\n      shouldScheduleClickHide = true;\n    } else {\n      scheduleShow(event);\n    }\n\n    if (event.type === 'click') {\n      isVisibleFromClick = !shouldScheduleClickHide;\n    }\n\n    if (shouldScheduleClickHide && !wasFocused) {\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseMove(event) {\n    var target = event.target;\n    var isCursorOverReferenceOrPopper = getCurrentTarget().contains(target) || popper.contains(target);\n\n    if (event.type === 'mousemove' && isCursorOverReferenceOrPopper) {\n      return;\n    }\n\n    var popperTreeData = getNestedPopperTree().concat(popper).map(function (popper) {\n      var _instance$popperInsta;\n\n      var instance = popper._tippy;\n      var state = (_instance$popperInsta = instance.popperInstance) == null ? void 0 : _instance$popperInsta.state;\n\n      if (state) {\n        return {\n          popperRect: popper.getBoundingClientRect(),\n          popperState: state,\n          props: props\n        };\n      }\n\n      return null;\n    }).filter(Boolean);\n\n    if (isCursorOutsideInteractiveBorder(popperTreeData, event)) {\n      cleanupInteractiveMouseListeners();\n      scheduleHide(event);\n    }\n  }\n\n  function onMouseLeave(event) {\n    var shouldBail = isEventListenerStopped(event) || instance.props.trigger.indexOf('click') >= 0 && isVisibleFromClick;\n\n    if (shouldBail) {\n      return;\n    }\n\n    if (instance.props.interactive) {\n      instance.hideWithInteractivity(event);\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function onBlurOrFocusOut(event) {\n    if (instance.props.trigger.indexOf('focusin') < 0 && event.target !== getCurrentTarget()) {\n      return;\n    } // If focus was moved to within the popper\n\n\n    if (instance.props.interactive && event.relatedTarget && popper.contains(event.relatedTarget)) {\n      return;\n    }\n\n    scheduleHide(event);\n  }\n\n  function isEventListenerStopped(event) {\n    return currentInput.isTouch ? getIsCustomTouchBehavior() !== event.type.indexOf('touch') >= 0 : false;\n  }\n\n  function createPopperInstance() {\n    destroyPopperInstance();\n    var _instance$props2 = instance.props,\n        popperOptions = _instance$props2.popperOptions,\n        placement = _instance$props2.placement,\n        offset = _instance$props2.offset,\n        getReferenceClientRect = _instance$props2.getReferenceClientRect,\n        moveTransition = _instance$props2.moveTransition;\n    var arrow = getIsDefaultRenderFn() ? getChildren(popper).arrow : null;\n    var computedReference = getReferenceClientRect ? {\n      getBoundingClientRect: getReferenceClientRect,\n      contextElement: getReferenceClientRect.contextElement || getCurrentTarget()\n    } : reference;\n    var tippyModifier = {\n      name: '$$tippy',\n      enabled: true,\n      phase: 'beforeWrite',\n      requires: ['computeStyles'],\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (getIsDefaultRenderFn()) {\n          var _getDefaultTemplateCh = getDefaultTemplateChildren(),\n              box = _getDefaultTemplateCh.box;\n\n          ['placement', 'reference-hidden', 'escaped'].forEach(function (attr) {\n            if (attr === 'placement') {\n              box.setAttribute('data-placement', state.placement);\n            } else {\n              if (state.attributes.popper[\"data-popper-\" + attr]) {\n                box.setAttribute(\"data-\" + attr, '');\n              } else {\n                box.removeAttribute(\"data-\" + attr);\n              }\n            }\n          });\n          state.attributes.popper = {};\n        }\n      }\n    };\n    var modifiers = [{\n      name: 'offset',\n      options: {\n        offset: offset\n      }\n    }, {\n      name: 'preventOverflow',\n      options: {\n        padding: {\n          top: 2,\n          bottom: 2,\n          left: 5,\n          right: 5\n        }\n      }\n    }, {\n      name: 'flip',\n      options: {\n        padding: 5\n      }\n    }, {\n      name: 'computeStyles',\n      options: {\n        adaptive: !moveTransition\n      }\n    }, tippyModifier];\n\n    if (getIsDefaultRenderFn() && arrow) {\n      modifiers.push({\n        name: 'arrow',\n        options: {\n          element: arrow,\n          padding: 3\n        }\n      });\n    }\n\n    modifiers.push.apply(modifiers, (popperOptions == null ? void 0 : popperOptions.modifiers) || []);\n    instance.popperInstance = createPopper(computedReference, popper, Object.assign({}, popperOptions, {\n      placement: placement,\n      onFirstUpdate: onFirstUpdate,\n      modifiers: modifiers\n    }));\n  }\n\n  function destroyPopperInstance() {\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy();\n      instance.popperInstance = null;\n    }\n  }\n\n  function mount() {\n    var appendTo = instance.props.appendTo;\n    var parentNode; // By default, we'll append the popper to the triggerTargets's parentNode so\n    // it's directly after the reference element so the elements inside the\n    // tippy can be tabbed to\n    // If there are clipping issues, the user can specify a different appendTo\n    // and ensure focus management is handled correctly manually\n\n    var node = getCurrentTarget();\n\n    if (instance.props.interactive && appendTo === defaultProps.appendTo || appendTo === 'parent') {\n      parentNode = node.parentNode;\n    } else {\n      parentNode = invokeWithArgsOrReturn(appendTo, [node]);\n    } // The popper element needs to exist on the DOM before its position can be\n    // updated as Popper needs to read its dimensions\n\n\n    if (!parentNode.contains(popper)) {\n      parentNode.appendChild(popper);\n    }\n\n    createPopperInstance();\n    /* istanbul ignore else */\n\n    if (process.env.NODE_ENV !== \"production\") {\n      // Accessibility check\n      warnWhen(instance.props.interactive && appendTo === defaultProps.appendTo && node.nextElementSibling !== popper, ['Interactive tippy element may not be accessible via keyboard', 'navigation because it is not directly after the reference element', 'in the DOM source order.', '\\n\\n', 'Using a wrapper <div> or <span> tag around the reference element', 'solves this by creating a new parentNode context.', '\\n\\n', 'Specifying `appendTo: document.body` silences this warning, but it', 'assumes you are using a focus management solution to handle', 'keyboard navigation.', '\\n\\n', 'See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity'].join(' '));\n    }\n  }\n\n  function getNestedPopperTree() {\n    return arrayFrom(popper.querySelectorAll('[data-tippy-root]'));\n  }\n\n  function scheduleShow(event) {\n    instance.clearDelayTimeouts();\n\n    if (event) {\n      invokeHook('onTrigger', [instance, event]);\n    }\n\n    addDocumentPress();\n    var delay = getDelay(true);\n\n    var _getNormalizedTouchSe = getNormalizedTouchSettings(),\n        touchValue = _getNormalizedTouchSe[0],\n        touchDelay = _getNormalizedTouchSe[1];\n\n    if (currentInput.isTouch && touchValue === 'hold' && touchDelay) {\n      delay = touchDelay;\n    }\n\n    if (delay) {\n      showTimeout = setTimeout(function () {\n        instance.show();\n      }, delay);\n    } else {\n      instance.show();\n    }\n  }\n\n  function scheduleHide(event) {\n    instance.clearDelayTimeouts();\n    invokeHook('onUntrigger', [instance, event]);\n\n    if (!instance.state.isVisible) {\n      removeDocumentPress();\n      return;\n    } // For interactive tippies, scheduleHide is added to a document.body handler\n    // from onMouseLeave so must intercept scheduled hides from mousemove/leave\n    // events when trigger contains mouseenter and click, and the tip is\n    // currently shown as a result of a click.\n\n\n    if (instance.props.trigger.indexOf('mouseenter') >= 0 && instance.props.trigger.indexOf('click') >= 0 && ['mouseleave', 'mousemove'].indexOf(event.type) >= 0 && isVisibleFromClick) {\n      return;\n    }\n\n    var delay = getDelay(false);\n\n    if (delay) {\n      hideTimeout = setTimeout(function () {\n        if (instance.state.isVisible) {\n          instance.hide();\n        }\n      }, delay);\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      scheduleHideAnimationFrame = requestAnimationFrame(function () {\n        instance.hide();\n      });\n    }\n  } // ===========================================================================\n  //  Public methods\n  // ===========================================================================\n\n\n  function enable() {\n    instance.state.isEnabled = true;\n  }\n\n  function disable() {\n    // Disabling the instance should also hide it\n    // https://github.com/atomiks/tippy.js-react/issues/106\n    instance.hide();\n    instance.state.isEnabled = false;\n  }\n\n  function clearDelayTimeouts() {\n    clearTimeout(showTimeout);\n    clearTimeout(hideTimeout);\n    cancelAnimationFrame(scheduleHideAnimationFrame);\n  }\n\n  function setProps(partialProps) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('setProps'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    invokeHook('onBeforeUpdate', [instance, partialProps]);\n    removeListeners();\n    var prevProps = instance.props;\n    var nextProps = evaluateProps(reference, Object.assign({}, instance.props, {}, partialProps, {\n      ignoreAttributes: true\n    }));\n    instance.props = nextProps;\n    addListeners();\n\n    if (prevProps.interactiveDebounce !== nextProps.interactiveDebounce) {\n      cleanupInteractiveMouseListeners();\n      debouncedOnMouseMove = debounce(onMouseMove, nextProps.interactiveDebounce);\n    } // Ensure stale aria-expanded attributes are removed\n\n\n    if (prevProps.triggerTarget && !nextProps.triggerTarget) {\n      normalizeToArray(prevProps.triggerTarget).forEach(function (node) {\n        node.removeAttribute('aria-expanded');\n      });\n    } else if (nextProps.triggerTarget) {\n      reference.removeAttribute('aria-expanded');\n    }\n\n    handleAriaExpandedAttribute();\n    handleStyles();\n\n    if (onUpdate) {\n      onUpdate(prevProps, nextProps);\n    }\n\n    if (instance.popperInstance) {\n      createPopperInstance(); // Fixes an issue with nested tippies if they are all getting re-rendered,\n      // and the nested ones get re-rendered first.\n      // https://github.com/atomiks/tippyjs-react/issues/177\n      // TODO: find a cleaner / more efficient solution(!)\n\n      getNestedPopperTree().forEach(function (nestedPopper) {\n        // React (and other UI libs likely) requires a rAF wrapper as it flushes\n        // its work in one\n        requestAnimationFrame(nestedPopper._tippy.popperInstance.forceUpdate);\n      });\n    }\n\n    invokeHook('onAfterUpdate', [instance, partialProps]);\n  }\n\n  function setContent(content) {\n    instance.setProps({\n      content: content\n    });\n  }\n\n  function show() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('show'));\n    } // Early bail-out\n\n\n    var isAlreadyVisible = instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var isTouchAndTouchDisabled = currentInput.isTouch && !instance.props.touch;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 0, defaultProps.duration);\n\n    if (isAlreadyVisible || isDestroyed || isDisabled || isTouchAndTouchDisabled) {\n      return;\n    } // Normalize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n\n\n    if (getCurrentTarget().hasAttribute('disabled')) {\n      return;\n    }\n\n    invokeHook('onShow', [instance], false);\n\n    if (instance.props.onShow(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = true;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'visible';\n    }\n\n    handleStyles();\n    addDocumentPress();\n\n    if (!instance.state.isMounted) {\n      popper.style.transition = 'none';\n    } // If flipping to the opposite side after hiding at least once, the\n    // animation will use the wrong placement without resetting the duration\n\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh2 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh2.box,\n          content = _getDefaultTemplateCh2.content;\n\n      setTransitionDuration([box, content], 0);\n    }\n\n    onFirstUpdate = function onFirstUpdate() {\n      var _instance$popperInsta2;\n\n      if (!instance.state.isVisible || ignoreOnFirstUpdate) {\n        return;\n      }\n\n      ignoreOnFirstUpdate = true; // reflow\n\n      void popper.offsetHeight;\n      popper.style.transition = instance.props.moveTransition;\n\n      if (getIsDefaultRenderFn() && instance.props.animation) {\n        var _getDefaultTemplateCh3 = getDefaultTemplateChildren(),\n            _box = _getDefaultTemplateCh3.box,\n            _content = _getDefaultTemplateCh3.content;\n\n        setTransitionDuration([_box, _content], duration);\n        setVisibilityState([_box, _content], 'visible');\n      }\n\n      handleAriaContentAttribute();\n      handleAriaExpandedAttribute();\n      pushIfUnique(mountedInstances, instance); // certain modifiers (e.g. `maxSize`) require a second update after the\n      // popper has been positioned for the first time\n\n      (_instance$popperInsta2 = instance.popperInstance) == null ? void 0 : _instance$popperInsta2.forceUpdate();\n      instance.state.isMounted = true;\n      invokeHook('onMount', [instance]);\n\n      if (instance.props.animation && getIsDefaultRenderFn()) {\n        onTransitionedIn(duration, function () {\n          instance.state.isShown = true;\n          invokeHook('onShown', [instance]);\n        });\n      }\n    };\n\n    mount();\n  }\n\n  function hide() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hide'));\n    } // Early bail-out\n\n\n    var isAlreadyHidden = !instance.state.isVisible;\n    var isDestroyed = instance.state.isDestroyed;\n    var isDisabled = !instance.state.isEnabled;\n    var duration = getValueAtIndexOrReturn(instance.props.duration, 1, defaultProps.duration);\n\n    if (isAlreadyHidden || isDestroyed || isDisabled) {\n      return;\n    }\n\n    invokeHook('onHide', [instance], false);\n\n    if (instance.props.onHide(instance) === false) {\n      return;\n    }\n\n    instance.state.isVisible = false;\n    instance.state.isShown = false;\n    ignoreOnFirstUpdate = false;\n    isVisibleFromClick = false;\n\n    if (getIsDefaultRenderFn()) {\n      popper.style.visibility = 'hidden';\n    }\n\n    cleanupInteractiveMouseListeners();\n    removeDocumentPress();\n    handleStyles();\n\n    if (getIsDefaultRenderFn()) {\n      var _getDefaultTemplateCh4 = getDefaultTemplateChildren(),\n          box = _getDefaultTemplateCh4.box,\n          content = _getDefaultTemplateCh4.content;\n\n      if (instance.props.animation) {\n        setTransitionDuration([box, content], duration);\n        setVisibilityState([box, content], 'hidden');\n      }\n    }\n\n    handleAriaContentAttribute();\n    handleAriaExpandedAttribute();\n\n    if (instance.props.animation) {\n      if (getIsDefaultRenderFn()) {\n        onTransitionedOut(duration, instance.unmount);\n      }\n    } else {\n      instance.unmount();\n    }\n  }\n\n  function hideWithInteractivity(event) {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('hideWithInteractivity'));\n    }\n\n    getDocument().addEventListener('mousemove', debouncedOnMouseMove);\n    pushIfUnique(mouseMoveListeners, debouncedOnMouseMove);\n    debouncedOnMouseMove(event);\n  }\n\n  function unmount() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('unmount'));\n    }\n\n    if (instance.state.isVisible) {\n      instance.hide();\n    }\n\n    if (!instance.state.isMounted) {\n      return;\n    }\n\n    destroyPopperInstance(); // If a popper is not interactive, it will be appended outside the popper\n    // tree by default. This seems mainly for interactive tippies, but we should\n    // find a workaround if possible\n\n    getNestedPopperTree().forEach(function (nestedPopper) {\n      nestedPopper._tippy.unmount();\n    });\n\n    if (popper.parentNode) {\n      popper.parentNode.removeChild(popper);\n    }\n\n    mountedInstances = mountedInstances.filter(function (i) {\n      return i !== instance;\n    });\n    instance.state.isMounted = false;\n    invokeHook('onHidden', [instance]);\n  }\n\n  function destroy() {\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== \"production\") {\n      warnWhen(instance.state.isDestroyed, createMemoryLeakWarning('destroy'));\n    }\n\n    if (instance.state.isDestroyed) {\n      return;\n    }\n\n    instance.clearDelayTimeouts();\n    instance.unmount();\n    removeListeners();\n    delete reference._tippy;\n    instance.state.isDestroyed = true;\n    invokeHook('onDestroy', [instance]);\n  }\n}\n\nfunction tippy(targets, optionalProps) {\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  var plugins = defaultProps.plugins.concat(optionalProps.plugins || []);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    validateTargets(targets);\n    validateProps(optionalProps, plugins);\n  }\n\n  bindGlobalEventListeners();\n  var passedProps = Object.assign({}, optionalProps, {\n    plugins: plugins\n  });\n  var elements = getArrayOfElements(targets);\n  /* istanbul ignore else */\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var isSingleContentElement = isElement(passedProps.content);\n    var isMoreThanOneReferenceElement = elements.length > 1;\n    warnWhen(isSingleContentElement && isMoreThanOneReferenceElement, ['tippy() was passed an Element as the `content` prop, but more than', 'one tippy instance was created by this invocation. This means the', 'content element will only be appended to the last tippy instance.', '\\n\\n', 'Instead, pass the .innerHTML of the element, or use a function that', 'returns a cloned version of the element instead.', '\\n\\n', '1) content: element.innerHTML\\n', '2) content: () => element.cloneNode(true)'].join(' '));\n  }\n\n  var instances = elements.reduce(function (acc, reference) {\n    var instance = reference && createTippy(reference, passedProps);\n\n    if (instance) {\n      acc.push(instance);\n    }\n\n    return acc;\n  }, []);\n  return isElement(targets) ? instances[0] : instances;\n}\n\ntippy.defaultProps = defaultProps;\ntippy.setDefaultProps = setDefaultProps;\ntippy.currentInput = currentInput;\nvar hideAll = function hideAll(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      excludedReferenceOrInstance = _ref.exclude,\n      duration = _ref.duration;\n\n  mountedInstances.forEach(function (instance) {\n    var isExcluded = false;\n\n    if (excludedReferenceOrInstance) {\n      isExcluded = isReferenceElement(excludedReferenceOrInstance) ? instance.reference === excludedReferenceOrInstance : instance.popper === excludedReferenceOrInstance.popper;\n    }\n\n    if (!isExcluded) {\n      var originalDuration = instance.props.duration;\n      instance.setProps({\n        duration: duration\n      });\n      instance.hide();\n\n      if (!instance.state.isDestroyed) {\n        instance.setProps({\n          duration: originalDuration\n        });\n      }\n    }\n  });\n};\n\n// every time the popper is destroyed (i.e. a new target), removing the styles\n// and causing transitions to break for singletons when the console is open, but\n// most notably for non-transform styles being used, `gpuAcceleration: false`.\n\nvar applyStylesModifier = Object.assign({}, applyStyles, {\n  effect: function effect(_ref) {\n    var state = _ref.state;\n    var initialStyles = {\n      popper: {\n        position: state.options.strategy,\n        left: '0',\n        top: '0',\n        margin: '0'\n      },\n      arrow: {\n        position: 'absolute'\n      },\n      reference: {}\n    };\n    Object.assign(state.elements.popper.style, initialStyles.popper);\n    state.styles = initialStyles;\n\n    if (state.elements.arrow) {\n      Object.assign(state.elements.arrow.style, initialStyles.arrow);\n    } // intentionally return no cleanup function\n    // return () => { ... }\n\n  }\n});\n\nvar createSingleton = function createSingleton(tippyInstances, optionalProps) {\n  var _optionalProps$popper;\n\n  if (optionalProps === void 0) {\n    optionalProps = {};\n  }\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!Array.isArray(tippyInstances), ['The first argument passed to createSingleton() must be an array of', 'tippy instances. The passed value was', String(tippyInstances)].join(' '));\n  }\n\n  var individualInstances = tippyInstances;\n  var references = [];\n  var currentTarget;\n  var overrides = optionalProps.overrides;\n  var interceptSetPropsCleanups = [];\n  var shownOnCreate = false;\n\n  function setReferences() {\n    references = individualInstances.map(function (instance) {\n      return instance.reference;\n    });\n  }\n\n  function enableInstances(isEnabled) {\n    individualInstances.forEach(function (instance) {\n      if (isEnabled) {\n        instance.enable();\n      } else {\n        instance.disable();\n      }\n    });\n  }\n\n  function interceptSetProps(singleton) {\n    return individualInstances.map(function (instance) {\n      var originalSetProps = instance.setProps;\n\n      instance.setProps = function (props) {\n        originalSetProps(props);\n\n        if (instance.reference === currentTarget) {\n          singleton.setProps(props);\n        }\n      };\n\n      return function () {\n        instance.setProps = originalSetProps;\n      };\n    });\n  } // have to pass singleton, as it maybe undefined on first call\n\n\n  function prepareInstance(singleton, target) {\n    var index = references.indexOf(target); // bail-out\n\n    if (target === currentTarget) {\n      return;\n    }\n\n    currentTarget = target;\n    var overrideProps = (overrides || []).concat('content').reduce(function (acc, prop) {\n      acc[prop] = individualInstances[index].props[prop];\n      return acc;\n    }, {});\n    singleton.setProps(Object.assign({}, overrideProps, {\n      getReferenceClientRect: typeof overrideProps.getReferenceClientRect === 'function' ? overrideProps.getReferenceClientRect : function () {\n        return target.getBoundingClientRect();\n      }\n    }));\n  }\n\n  enableInstances(false);\n  setReferences();\n  var plugin = {\n    fn: function fn() {\n      return {\n        onDestroy: function onDestroy() {\n          enableInstances(true);\n        },\n        onHidden: function onHidden() {\n          currentTarget = null;\n        },\n        onClickOutside: function onClickOutside(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            currentTarget = null;\n          }\n        },\n        onShow: function onShow(instance) {\n          if (instance.props.showOnCreate && !shownOnCreate) {\n            shownOnCreate = true;\n            prepareInstance(instance, references[0]);\n          }\n        },\n        onTrigger: function onTrigger(instance, event) {\n          prepareInstance(instance, event.currentTarget);\n        }\n      };\n    }\n  };\n  var singleton = tippy(div(), Object.assign({}, removeProperties(optionalProps, ['overrides']), {\n    plugins: [plugin].concat(optionalProps.plugins || []),\n    triggerTarget: references,\n    popperOptions: Object.assign({}, optionalProps.popperOptions, {\n      modifiers: [].concat(((_optionalProps$popper = optionalProps.popperOptions) == null ? void 0 : _optionalProps$popper.modifiers) || [], [applyStylesModifier])\n    })\n  }));\n  var originalShow = singleton.show;\n\n  singleton.show = function (target) {\n    originalShow(); // first time, showOnCreate or programmatic call with no params\n    // default to showing first instance\n\n    if (!currentTarget && target == null) {\n      return prepareInstance(singleton, references[0]);\n    } // triggered from event (do nothing as prepareInstance already called by onTrigger)\n    // programmatic call with no params when already visible (do nothing again)\n\n\n    if (currentTarget && target == null) {\n      return;\n    } // target is index of instance\n\n\n    if (typeof target === 'number') {\n      return references[target] && prepareInstance(singleton, references[target]);\n    } // target is a child tippy instance\n\n\n    if (individualInstances.includes(target)) {\n      var ref = target.reference;\n      return prepareInstance(singleton, ref);\n    } // target is a ReferenceElement\n\n\n    if (references.includes(target)) {\n      return prepareInstance(singleton, target);\n    }\n  };\n\n  singleton.showNext = function () {\n    var first = references[0];\n\n    if (!currentTarget) {\n      return singleton.show(0);\n    }\n\n    var index = references.indexOf(currentTarget);\n    singleton.show(references[index + 1] || first);\n  };\n\n  singleton.showPrevious = function () {\n    var last = references[references.length - 1];\n\n    if (!currentTarget) {\n      return singleton.show(last);\n    }\n\n    var index = references.indexOf(currentTarget);\n    var target = references[index - 1] || last;\n    singleton.show(target);\n  };\n\n  var originalSetProps = singleton.setProps;\n\n  singleton.setProps = function (props) {\n    overrides = props.overrides || overrides;\n    originalSetProps(props);\n  };\n\n  singleton.setInstances = function (nextInstances) {\n    enableInstances(true);\n    interceptSetPropsCleanups.forEach(function (fn) {\n      return fn();\n    });\n    individualInstances = nextInstances;\n    enableInstances(false);\n    setReferences();\n    interceptSetProps(singleton);\n    singleton.setProps({\n      triggerTarget: references\n    });\n  };\n\n  interceptSetPropsCleanups = interceptSetProps(singleton);\n  return singleton;\n};\n\nvar BUBBLING_EVENTS_MAP = {\n  mouseover: 'mouseenter',\n  focusin: 'focus',\n  click: 'click'\n};\n/**\n * Creates a delegate instance that controls the creation of tippy instances\n * for child elements (`target` CSS selector).\n */\n\nfunction delegate(targets, props) {\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== \"production\") {\n    errorWhen(!(props && props.target), ['You must specity a `target` prop indicating a CSS selector string matching', 'the target elements that should receive a tippy.'].join(' '));\n  }\n\n  var listeners = [];\n  var childTippyInstances = [];\n  var disabled = false;\n  var target = props.target;\n  var nativeProps = removeProperties(props, ['target']);\n  var parentProps = Object.assign({}, nativeProps, {\n    trigger: 'manual',\n    touch: false\n  });\n  var childProps = Object.assign({}, nativeProps, {\n    showOnCreate: true\n  });\n  var returnValue = tippy(targets, parentProps);\n  var normalizedReturnValue = normalizeToArray(returnValue);\n\n  function onTrigger(event) {\n    if (!event.target || disabled) {\n      return;\n    }\n\n    var targetNode = event.target.closest(target);\n\n    if (!targetNode) {\n      return;\n    } // Get relevant trigger with fallbacks:\n    // 1. Check `data-tippy-trigger` attribute on target node\n    // 2. Fallback to `trigger` passed to `delegate()`\n    // 3. Fallback to `defaultProps.trigger`\n\n\n    var trigger = targetNode.getAttribute('data-tippy-trigger') || props.trigger || defaultProps.trigger; // @ts-ignore\n\n    if (targetNode._tippy) {\n      return;\n    }\n\n    if (event.type === 'touchstart' && typeof childProps.touch === 'boolean') {\n      return;\n    }\n\n    if (event.type !== 'touchstart' && trigger.indexOf(BUBBLING_EVENTS_MAP[event.type]) < 0) {\n      return;\n    }\n\n    var instance = tippy(targetNode, childProps);\n\n    if (instance) {\n      childTippyInstances = childTippyInstances.concat(instance);\n    }\n  }\n\n  function on(node, eventType, handler, options) {\n    if (options === void 0) {\n      options = false;\n    }\n\n    node.addEventListener(eventType, handler, options);\n    listeners.push({\n      node: node,\n      eventType: eventType,\n      handler: handler,\n      options: options\n    });\n  }\n\n  function addEventListeners(instance) {\n    var reference = instance.reference;\n    on(reference, 'touchstart', onTrigger, TOUCH_OPTIONS);\n    on(reference, 'mouseover', onTrigger);\n    on(reference, 'focusin', onTrigger);\n    on(reference, 'click', onTrigger);\n  }\n\n  function removeEventListeners() {\n    listeners.forEach(function (_ref) {\n      var node = _ref.node,\n          eventType = _ref.eventType,\n          handler = _ref.handler,\n          options = _ref.options;\n      node.removeEventListener(eventType, handler, options);\n    });\n    listeners = [];\n  }\n\n  function applyMutations(instance) {\n    var originalDestroy = instance.destroy;\n    var originalEnable = instance.enable;\n    var originalDisable = instance.disable;\n\n    instance.destroy = function (shouldDestroyChildInstances) {\n      if (shouldDestroyChildInstances === void 0) {\n        shouldDestroyChildInstances = true;\n      }\n\n      if (shouldDestroyChildInstances) {\n        childTippyInstances.forEach(function (instance) {\n          instance.destroy();\n        });\n      }\n\n      childTippyInstances = [];\n      removeEventListeners();\n      originalDestroy();\n    };\n\n    instance.enable = function () {\n      originalEnable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.enable();\n      });\n      disabled = false;\n    };\n\n    instance.disable = function () {\n      originalDisable();\n      childTippyInstances.forEach(function (instance) {\n        return instance.disable();\n      });\n      disabled = true;\n    };\n\n    addEventListeners(instance);\n  }\n\n  normalizedReturnValue.forEach(applyMutations);\n  return returnValue;\n}\n\nvar animateFill = {\n  name: 'animateFill',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var _instance$props$rende;\n\n    // @ts-ignore\n    if (!((_instance$props$rende = instance.props.render) == null ? void 0 : _instance$props$rende.$$tippy)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        errorWhen(instance.props.animateFill, 'The `animateFill` plugin requires the default render function.');\n      }\n\n      return {};\n    }\n\n    var _getChildren = getChildren(instance.popper),\n        box = _getChildren.box,\n        content = _getChildren.content;\n\n    var backdrop = instance.props.animateFill ? createBackdropElement() : null;\n    return {\n      onCreate: function onCreate() {\n        if (backdrop) {\n          box.insertBefore(backdrop, box.firstElementChild);\n          box.setAttribute('data-animatefill', '');\n          box.style.overflow = 'hidden';\n          instance.setProps({\n            arrow: false,\n            animation: 'shift-away'\n          });\n        }\n      },\n      onMount: function onMount() {\n        if (backdrop) {\n          var transitionDuration = box.style.transitionDuration;\n          var duration = Number(transitionDuration.replace('ms', '')); // The content should fade in after the backdrop has mostly filled the\n          // tooltip element. `clip-path` is the other alternative but is not\n          // well-supported and is buggy on some devices.\n\n          content.style.transitionDelay = Math.round(duration / 10) + \"ms\";\n          backdrop.style.transitionDuration = transitionDuration;\n          setVisibilityState([backdrop], 'visible');\n        }\n      },\n      onShow: function onShow() {\n        if (backdrop) {\n          backdrop.style.transitionDuration = '0ms';\n        }\n      },\n      onHide: function onHide() {\n        if (backdrop) {\n          setVisibilityState([backdrop], 'hidden');\n        }\n      }\n    };\n  }\n};\n\nfunction createBackdropElement() {\n  var backdrop = div();\n  backdrop.className = BACKDROP_CLASS;\n  setVisibilityState([backdrop], 'hidden');\n  return backdrop;\n}\n\nvar mouseCoords = {\n  clientX: 0,\n  clientY: 0\n};\nvar activeInstances = [];\n\nfunction storeMouseCoords(_ref) {\n  var clientX = _ref.clientX,\n      clientY = _ref.clientY;\n  mouseCoords = {\n    clientX: clientX,\n    clientY: clientY\n  };\n}\n\nfunction addMouseCoordsListener(doc) {\n  doc.addEventListener('mousemove', storeMouseCoords);\n}\n\nfunction removeMouseCoordsListener(doc) {\n  doc.removeEventListener('mousemove', storeMouseCoords);\n}\n\nvar followCursor = {\n  name: 'followCursor',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n    var doc = getOwnerDocument(instance.props.triggerTarget || reference);\n    var isInternalUpdate = false;\n    var wasFocusEvent = false;\n    var isUnmounted = true;\n    var prevProps = instance.props;\n\n    function getIsInitialBehavior() {\n      return instance.props.followCursor === 'initial' && instance.state.isVisible;\n    }\n\n    function addListener() {\n      doc.addEventListener('mousemove', onMouseMove);\n    }\n\n    function removeListener() {\n      doc.removeEventListener('mousemove', onMouseMove);\n    }\n\n    function unsetGetReferenceClientRect() {\n      isInternalUpdate = true;\n      instance.setProps({\n        getReferenceClientRect: null\n      });\n      isInternalUpdate = false;\n    }\n\n    function onMouseMove(event) {\n      // If the instance is interactive, avoid updating the position unless it's\n      // over the reference element\n      var isCursorOverReference = event.target ? reference.contains(event.target) : true;\n      var followCursor = instance.props.followCursor;\n      var clientX = event.clientX,\n          clientY = event.clientY;\n      var rect = reference.getBoundingClientRect();\n      var relativeX = clientX - rect.left;\n      var relativeY = clientY - rect.top;\n\n      if (isCursorOverReference || !instance.props.interactive) {\n        instance.setProps({\n          getReferenceClientRect: function getReferenceClientRect() {\n            var rect = reference.getBoundingClientRect();\n            var x = clientX;\n            var y = clientY;\n\n            if (followCursor === 'initial') {\n              x = rect.left + relativeX;\n              y = rect.top + relativeY;\n            }\n\n            var top = followCursor === 'horizontal' ? rect.top : y;\n            var right = followCursor === 'vertical' ? rect.right : x;\n            var bottom = followCursor === 'horizontal' ? rect.bottom : y;\n            var left = followCursor === 'vertical' ? rect.left : x;\n            return {\n              width: right - left,\n              height: bottom - top,\n              top: top,\n              right: right,\n              bottom: bottom,\n              left: left\n            };\n          }\n        });\n      }\n    }\n\n    function create() {\n      if (instance.props.followCursor) {\n        activeInstances.push({\n          instance: instance,\n          doc: doc\n        });\n        addMouseCoordsListener(doc);\n      }\n    }\n\n    function destroy() {\n      activeInstances = activeInstances.filter(function (data) {\n        return data.instance !== instance;\n      });\n\n      if (activeInstances.filter(function (data) {\n        return data.doc === doc;\n      }).length === 0) {\n        removeMouseCoordsListener(doc);\n      }\n    }\n\n    return {\n      onCreate: create,\n      onDestroy: destroy,\n      onBeforeUpdate: function onBeforeUpdate() {\n        prevProps = instance.props;\n      },\n      onAfterUpdate: function onAfterUpdate(_, _ref2) {\n        var followCursor = _ref2.followCursor;\n\n        if (isInternalUpdate) {\n          return;\n        }\n\n        if (followCursor !== undefined && prevProps.followCursor !== followCursor) {\n          destroy();\n\n          if (followCursor) {\n            create();\n\n            if (instance.state.isMounted && !wasFocusEvent && !getIsInitialBehavior()) {\n              addListener();\n            }\n          } else {\n            removeListener();\n            unsetGetReferenceClientRect();\n          }\n        }\n      },\n      onMount: function onMount() {\n        if (instance.props.followCursor && !wasFocusEvent) {\n          if (isUnmounted) {\n            onMouseMove(mouseCoords);\n            isUnmounted = false;\n          }\n\n          if (!getIsInitialBehavior()) {\n            addListener();\n          }\n        }\n      },\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          mouseCoords = {\n            clientX: event.clientX,\n            clientY: event.clientY\n          };\n        }\n\n        wasFocusEvent = event.type === 'focus';\n      },\n      onHidden: function onHidden() {\n        if (instance.props.followCursor) {\n          unsetGetReferenceClientRect();\n          removeListener();\n          isUnmounted = true;\n        }\n      }\n    };\n  }\n};\n\nfunction getProps(props, modifier) {\n  var _props$popperOptions;\n\n  return {\n    popperOptions: Object.assign({}, props.popperOptions, {\n      modifiers: [].concat((((_props$popperOptions = props.popperOptions) == null ? void 0 : _props$popperOptions.modifiers) || []).filter(function (_ref) {\n        var name = _ref.name;\n        return name !== modifier.name;\n      }), [modifier])\n    })\n  };\n}\n\nvar inlinePositioning = {\n  name: 'inlinePositioning',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference;\n\n    function isEnabled() {\n      return !!instance.props.inlinePositioning;\n    }\n\n    var placement;\n    var cursorRectIndex = -1;\n    var isInternalUpdate = false;\n    var modifier = {\n      name: 'tippyInlinePositioning',\n      enabled: true,\n      phase: 'afterWrite',\n      fn: function fn(_ref2) {\n        var state = _ref2.state;\n\n        if (isEnabled()) {\n          if (placement !== state.placement) {\n            instance.setProps({\n              getReferenceClientRect: function getReferenceClientRect() {\n                return _getReferenceClientRect(state.placement);\n              }\n            });\n          }\n\n          placement = state.placement;\n        }\n      }\n    };\n\n    function _getReferenceClientRect(placement) {\n      return getInlineBoundingClientRect(getBasePlacement(placement), reference.getBoundingClientRect(), arrayFrom(reference.getClientRects()), cursorRectIndex);\n    }\n\n    function setInternalProps(partialProps) {\n      isInternalUpdate = true;\n      instance.setProps(partialProps);\n      isInternalUpdate = false;\n    }\n\n    function addModifier() {\n      if (!isInternalUpdate) {\n        setInternalProps(getProps(instance.props, modifier));\n      }\n    }\n\n    return {\n      onCreate: addModifier,\n      onAfterUpdate: addModifier,\n      onTrigger: function onTrigger(_, event) {\n        if (isMouseEvent(event)) {\n          var rects = arrayFrom(instance.reference.getClientRects());\n          var cursorRect = rects.find(function (rect) {\n            return rect.left - 2 <= event.clientX && rect.right + 2 >= event.clientX && rect.top - 2 <= event.clientY && rect.bottom + 2 >= event.clientY;\n          });\n          cursorRectIndex = rects.indexOf(cursorRect);\n        }\n      },\n      onUntrigger: function onUntrigger() {\n        cursorRectIndex = -1;\n      }\n    };\n  }\n};\nfunction getInlineBoundingClientRect(currentBasePlacement, boundingRect, clientRects, cursorRectIndex) {\n  // Not an inline element, or placement is not yet known\n  if (clientRects.length < 2 || currentBasePlacement === null) {\n    return boundingRect;\n  } // There are two rects and they are disjoined\n\n\n  if (clientRects.length === 2 && cursorRectIndex >= 0 && clientRects[0].left > clientRects[1].right) {\n    return clientRects[cursorRectIndex] || boundingRect;\n  }\n\n  switch (currentBasePlacement) {\n    case 'top':\n    case 'bottom':\n      {\n        var firstRect = clientRects[0];\n        var lastRect = clientRects[clientRects.length - 1];\n        var isTop = currentBasePlacement === 'top';\n        var top = firstRect.top;\n        var bottom = lastRect.bottom;\n        var left = isTop ? firstRect.left : lastRect.left;\n        var right = isTop ? firstRect.right : lastRect.right;\n        var width = right - left;\n        var height = bottom - top;\n        return {\n          top: top,\n          bottom: bottom,\n          left: left,\n          right: right,\n          width: width,\n          height: height\n        };\n      }\n\n    case 'left':\n    case 'right':\n      {\n        var minLeft = Math.min.apply(Math, clientRects.map(function (rects) {\n          return rects.left;\n        }));\n        var maxRight = Math.max.apply(Math, clientRects.map(function (rects) {\n          return rects.right;\n        }));\n        var measureRects = clientRects.filter(function (rect) {\n          return currentBasePlacement === 'left' ? rect.left === minLeft : rect.right === maxRight;\n        });\n        var _top = measureRects[0].top;\n        var _bottom = measureRects[measureRects.length - 1].bottom;\n        var _left = minLeft;\n        var _right = maxRight;\n\n        var _width = _right - _left;\n\n        var _height = _bottom - _top;\n\n        return {\n          top: _top,\n          bottom: _bottom,\n          left: _left,\n          right: _right,\n          width: _width,\n          height: _height\n        };\n      }\n\n    default:\n      {\n        return boundingRect;\n      }\n  }\n}\n\nvar sticky = {\n  name: 'sticky',\n  defaultValue: false,\n  fn: function fn(instance) {\n    var reference = instance.reference,\n        popper = instance.popper;\n\n    function getReference() {\n      return instance.popperInstance ? instance.popperInstance.state.elements.reference : reference;\n    }\n\n    function shouldCheck(value) {\n      return instance.props.sticky === true || instance.props.sticky === value;\n    }\n\n    var prevRefRect = null;\n    var prevPopRect = null;\n\n    function updatePosition() {\n      var currentRefRect = shouldCheck('reference') ? getReference().getBoundingClientRect() : null;\n      var currentPopRect = shouldCheck('popper') ? popper.getBoundingClientRect() : null;\n\n      if (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect) || currentPopRect && areRectsDifferent(prevPopRect, currentPopRect)) {\n        if (instance.popperInstance) {\n          instance.popperInstance.update();\n        }\n      }\n\n      prevRefRect = currentRefRect;\n      prevPopRect = currentPopRect;\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition);\n      }\n    }\n\n    return {\n      onMount: function onMount() {\n        if (instance.props.sticky) {\n          updatePosition();\n        }\n      }\n    };\n  }\n};\n\nfunction areRectsDifferent(rectA, rectB) {\n  if (rectA && rectB) {\n    return rectA.top !== rectB.top || rectA.right !== rectB.right || rectA.bottom !== rectB.bottom || rectA.left !== rectB.left;\n  }\n\n  return true;\n}\n\ntippy.setDefaultProps({\n  render: render\n});\n\nexport default tippy;\nexport { animateFill, createSingleton, delegate, followCursor, hideAll, inlinePositioning, ROUND_ARROW as roundArrow, sticky };\n//# sourceMappingURL=tippy.esm.js.map\n","import { KanbanBoard } from \"./kanban-board\";\r\nimport { hubConnection, Proxy } from \"signalr-no-jquery\";\r\nimport { ProjectProxy, BoardData, CardData, ColumnData } from \"./interfaces\";\r\nimport tippy from \"tippy.js\";\r\n\r\nimport \"./project-board.scss\";\r\nimport \"tippy.js/dist/tippy.css\";\r\nimport \"tippy.js/themes/light.css\";\r\n\r\ntype AddProjectCallback = (columnId: string) => void;\r\ntype AddTaskCallback = (columnId: string) => void;\r\n\r\n/**\r\n * The options to initialize the board with.\r\n */\r\nexport interface ProjectBoardOptions {\r\n    /** The board identifier to be displayed. */\r\n    boardId: string;\r\n\r\n    /** The element to be used to initialize the board in. */\r\n    elementSelector: string;\r\n\r\n    /** The function to be called when the user wants to add a project. */\r\n    onAddProject?: AddProjectCallback;\r\n\r\n    /** The function to be called when the user wants to add a task. */\r\n    onAddTask?: AddTaskCallback;\r\n}\r\n\r\n/**\r\n * A project board handles displaying all the project and task cards on a board.\r\n * This includes allowing the user to drag and drop cards as well as add new\r\n * projects or tasks.\r\n */\r\nexport class ProjectBoard {\r\n    // #region Private Properties\r\n\r\n    /** The options we were initialized with. */\r\n    private options: ProjectBoardOptions;\r\n\r\n    /** The HTML Element that contains all our elements. */\r\n    private boardContainer: HTMLElement | null;\r\n\r\n    /** The KanbanBoard that we created and is tracking the user interaction. */\r\n    private kanban?: KanbanBoard;\r\n\r\n    /** The SignalR proxy we use to communicate to the server with. */\r\n    private proxy?: ProjectProxy;\r\n\r\n    /** True if we are in an error state and cannot take new requests. */\r\n    private hasError: boolean = false;\r\n\r\n    /** True if the board is in read-only state and should not allow user changes. */\r\n    private readonly: boolean = false;\r\n\r\n    /** Values will be true if we are currently in the process of loading cards. */\r\n    private loadingCardsForColumn: Record<string, boolean> = {};\r\n\r\n    // #endregion\r\n\r\n    // #region Constructors\r\n\r\n    /**\r\n     * Create a new instance of the project board and prepare it for use.\r\n     * \r\n     * @param elementSelector The DOM selector for the element to initialize.\r\n     * @param options The configuration options that define how this board works.\r\n     */\r\n    constructor(options?: ProjectBoardOptions) {\r\n        if (options == undefined) {\r\n            throw \"Configuration options are missing.\";\r\n        }\r\n\r\n        if (options.boardId === undefined) {\r\n            throw \"Board identifier is required.\";\r\n        }\r\n        \r\n        if (options.elementSelector === undefined || options.elementSelector === \"\") {\r\n            throw \"Element selector is required.\";\r\n        }\r\n\r\n        this.options = options;\r\n        this.boardContainer = document.querySelector(this.options.elementSelector);\r\n\r\n        if (this.boardContainer === null) {\r\n            throw \"Element was not found to initialize board in.\";\r\n        }\r\n\r\n        this.boardContainer.classList.add(\"project-board\");\r\n\r\n        /* Clear out any existing child elements. */\r\n        while (this.boardContainer.firstChild !== null) {\r\n            this.boardContainer.removeChild(this.boardContainer.firstChild);\r\n        }\r\n\r\n        const signalrConnection = hubConnection();\r\n        this.proxy = this.getHubProxy(signalrConnection.createHubProxy('com.blueboxmoon.ProjectManagement.MessageHub'));\r\n\r\n        this.proxy.on(\"boardUpdated\", this.serverBoardUpdated.bind(this));\r\n        this.proxy.on(\"cardMoved\", this.serverCardMoved.bind(this));\r\n        this.proxy.on(\"cardUpdated\", this.serverCardUpdated.bind(this));\r\n        this.proxy.on(\"cardRemoved\", this.serverCardRemoved.bind(this));\r\n        this.proxy.on(\"cardAdded\", this.serverCardAdded.bind(this));\r\n\r\n        signalrConnection.start().then(async () => {\r\n            await this.setupInitialBoardAsync();\r\n        });\r\n    }\r\n\r\n    // #endregion\r\n\r\n    // #region Methods\r\n\r\n    /**\r\n     * Setup the initial board with data provided from the server over the\r\n     * signalR connection.\r\n     */\r\n    private async setupInitialBoardAsync() {\r\n        try {\r\n            let board = await this.proxy!.server.getBoardDataAsync(this.options.boardId);\r\n\r\n            if (board === null) {\r\n                this.showError(\"Failed to get board data from the server.\");\r\n                return;\r\n            }\r\n\r\n            this.readonly = board.readonly;\r\n\r\n            /* Create a new child element to contain the actual kanban board. */\r\n            const kanbanElement = document.createElement(\"div\");\r\n            this.boardContainer!.appendChild(kanbanElement);\r\n\r\n            this.kanban = new KanbanBoard(kanbanElement, {\r\n                readonly: this.readonly\r\n            });\r\n\r\n            /* Create all the columns on the board. */\r\n            for (let columnIndex in board.columns) {\r\n                const column = board.columns[columnIndex];\r\n\r\n                this.kanban.addColumn({\r\n                    id: column.id,\r\n                    header: this.getColumnHeader(column)\r\n                });\r\n\r\n                var columnDom = this.kanban.getElementForColumn(column.id)?.querySelector(\".cards-container\");\r\n                if (columnDom != null && columnDom !== undefined) {\r\n                    columnDom.addEventListener(\"scroll\", () => this.onColumnScroll(column.id));\r\n                }\r\n\r\n                this.loadMoreCardsForColumn(column.id);\r\n            }\r\n\r\n            this.configureForFixedHeight();\r\n\r\n            this.kanban.on(\"cardMoved\", this.kanbanCardMoved.bind(this));\r\n        }\r\n        catch (ex) {\r\n            console.log(ex);\r\n            throw ex;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called when a column has been scrolled by the user. This is used\r\n     * for detection of infinite scroll data loading.\r\n     * \r\n     * @param columnId The column identifer that was scrolled.\r\n     */\r\n    private onColumnScroll(columnId: string) {\r\n        if (!this.isValid()) {\r\n            return;\r\n        }\r\n\r\n        const columnElement = this.kanban!.getElementForColumn(columnId)?.querySelector(\".cards-container\");\r\n\r\n        if (columnElement === null || columnElement === undefined) {\r\n            return;\r\n        }\r\n\r\n        if (this.shouldLoadMoreCardsForScroll(columnId) === true) {\r\n            this.loadMoreCardsForColumn(columnId);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Determines if more cards should be loaded automatically to keep ahead\r\n     * of the user if they scroll down.\r\n\r\n      * @param columnId The columne identifer to be checked.\r\n     */\r\n    private shouldLoadMoreCardsForScroll(columnId: string) {\r\n        const columnElement = this.kanban!.getElementForColumn(columnId)?.querySelector(\".cards-container\");\r\n\r\n        if (columnElement === null || columnElement === undefined) {\r\n            return false;\r\n        }\r\n\r\n        const scrollTop = columnElement.scrollTop;\r\n        const scrollHeight = columnElement.scrollHeight;\r\n        const height = columnElement.getBoundingClientRect().height;\r\n\r\n        return scrollHeight - scrollTop - height - 100 <= 0;\r\n    }\r\n\r\n    /**\r\n     * Attempt to load more cards from the server for the specified column.\r\n     * \r\n     * @param columnId The column identifier to load more cards for.\r\n     */\r\n    private async loadMoreCardsForColumn(columnId: string): Promise<void> {\r\n        if (this.loadingCardsForColumn[columnId] === true) {\r\n            return;\r\n        }\r\n\r\n        this.loadingCardsForColumn[columnId] = true;\r\n\r\n        /* Don't load more than 10 chunks in a single scroll event. */\r\n        for (let loopCount = 0; loopCount < 10; loopCount++) {\r\n            try {\r\n                const existingCards = this.kanban!.getCardIdsForColumn(columnId);\r\n                let lastCardId = existingCards.length > 0 ? existingCards[existingCards.length - 1] : null;\r\n\r\n                const url = `/api/BBM_ProjectManagement_Utility/LoadCards?columnId=${columnId}&lastCardId=${lastCardId ?? ''}&count=20`;\r\n                const response = await fetch(url);\r\n\r\n                if (!response.ok) {\r\n                    this.syncError();\r\n                    return;\r\n                }\r\n\r\n                const cards = <CardData[]>await response.json();\r\n\r\n                if (cards === null) {\r\n                    this.syncError();\r\n                    return;\r\n                }\r\n\r\n                for (let cardIndex in cards) {\r\n                    const card = cards[cardIndex];\r\n\r\n                    this.kanban!.insertCardAfter({\r\n                        id: card.id,\r\n                        content: this.getElementForCard(card)\r\n                    }, columnId, lastCardId);\r\n\r\n                    lastCardId = card.id;\r\n                }\r\n\r\n                if (cards.length === 0) {\r\n                    // Return instead of break so we don't re-enable and then\r\n                    // download more later.\r\n                    return;\r\n                }\r\n\r\n                // If we don't need to load more to fill the scroll buffer then stop.\r\n                if (!this.shouldLoadMoreCardsForScroll(columnId)) {\r\n                    break;\r\n                }\r\n            }\r\n            catch {\r\n                this.loadingCardsForColumn[columnId] = false;\r\n                this.syncError();\r\n\r\n                // Return instead of break so we don't re-enable and then\r\n                // download more later.\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.loadingCardsForColumn[columnId] = false;\r\n    }\r\n\r\n    /**\r\n     * Get the header element for the defined column.\r\n     * \r\n     * @param column The column that needs the header build.\r\n     * @returns The HTML element that should be placed in the header position.\r\n     */\r\n    private getColumnHeader(column: ColumnData): Element {\r\n        const header = document.createElement(\"div\");\r\n        header.classList.add(\"header\");\r\n\r\n        const title = document.createElement(\"span\");\r\n        title.classList.add(\"title\");\r\n        title.innerText = column.name;\r\n\r\n        const menu = document.createElement(\"span\");\r\n        menu.classList.add(\"menu\");\r\n        menu.innerHTML = `<i class=\"fa fa-ellipsis-h\"></i>`;\r\n\r\n        const menuContent = document.createElement(\"div\");\r\n        menuContent.classList.add(\"list-group\", \"margin-b-none\");\r\n\r\n        const menuAddProject = document.createElement(\"a\");\r\n        menuAddProject.href = \"#\";\r\n        menuAddProject.innerText = \"Add Project...\";\r\n        menuAddProject.classList.add(\"list-group-item\");\r\n\r\n        const menuAddTask = document.createElement(\"a\");\r\n        menuAddTask.href = \"#\";\r\n        menuAddTask.innerText = \"Add Task...\";\r\n        menuAddTask.classList.add(\"list-group-item\");\r\n\r\n        menuContent.append(menuAddProject, menuAddTask);\r\n\r\n        if (this.readonly) {\r\n            menuAddProject.classList.add(\"disabled\");\r\n            menuAddTask.classList.add(\"disabled\");\r\n        }\r\n\r\n        const menuTippy = tippy(menu, {\r\n            interactive: true,\r\n            trigger: \"click\",\r\n            arrow: true,\r\n            content: menuContent,\r\n            theme: \"light\"\r\n        });\r\n\r\n        menuAddProject.addEventListener(\"click\", ev => {\r\n            ev.preventDefault();\r\n\r\n            if (menuAddProject.classList.contains(\"disabled\")) {\r\n                return;\r\n            }\r\n\r\n            menuTippy.hide();\r\n\r\n            if (this.options.onAddProject !== undefined) {\r\n                this.options.onAddProject(column.id);\r\n            }\r\n        });\r\n\r\n        menuAddTask.addEventListener(\"click\", ev => {\r\n            ev.preventDefault();\r\n\r\n            if (menuAddProject.classList.contains(\"disabled\")) {\r\n                return;\r\n            }\r\n\r\n            menuTippy.hide();\r\n\r\n            if (this.options.onAddTask !== undefined) {\r\n                this.options.onAddTask(column.id);\r\n            }\r\n        });\r\n\r\n        header.append(title, menu);\r\n\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     * Get the element that will be make up the content of an individual card.\r\n     * \r\n     * @param card The card to be displayed.\r\n     * @returns An element that can be added to the DOM.\r\n     */\r\n    private getElementForCard(card: CardData): Element {\r\n       \r\n        const container = document.createElement(\"div\");\r\n        container.innerHTML = card.content;\r\n\r\n        // Initialize Bootstrap tooltips.\r\n        (<any>window[<any>\"$\"])(container.querySelectorAll(\"[data-toggle='tooltip']\"))\r\n            .tooltip({\r\n                container: 'body',\r\n                delay: {\r\n                    show: 250,\r\n                    hide: 100\r\n                }\r\n            });\r\n\r\n        const menu = document.createElement(\"span\");\r\n        menu.classList.add(\"menu\");\r\n        menu.innerHTML = `<i class=\"fa fa-ellipsis-h\"></i>`;\r\n\r\n        const menuContent = document.createElement(\"div\");\r\n        menuContent.classList.add(\"list-group\", \"margin-b-none\");\r\n\r\n        const menuRemove = document.createElement(\"a\");\r\n        menuRemove.href = \"#\";\r\n        menuRemove.innerText = \"Remove...\";\r\n        menuRemove.classList.add(\"list-group-item\");\r\n\r\n        if (this.readonly) {\r\n            menuRemove.classList.add(\"disabled\");\r\n        }\r\n\r\n        menuContent.append(menuRemove);\r\n\r\n        const menuTippy = tippy(menu, {\r\n            interactive: true,\r\n            appendTo(ref: Element) {\r\n                return ref.closest(\".kanban-column\") ?? document.body;\r\n            },\r\n            trigger: \"click\",\r\n            arrow: true,\r\n            content: menuContent,\r\n            theme: \"light\"\r\n        });\r\n\r\n        menuRemove.addEventListener(\"click\", ev => {\r\n            ev.preventDefault();\r\n\r\n            if (menuRemove.classList.contains(\"disabled\")) {\r\n                return;\r\n            }\r\n\r\n            menuTippy.hide();\r\n\r\n            bootbox.dialog({\r\n                message: \"Are you sure you want to delete this card?\",\r\n                buttons: {\r\n                    ok: {\r\n                        label: \"OK\",\r\n                        className: \"btn-primary\",\r\n                        callback: async () => {\r\n                            try {\r\n                                this.kanban!.removeCard(card.id);\r\n                                const result = await this.proxy!.server.removeCardAsync(card.id);\r\n                                if (!result) {\r\n                                    this.syncError();\r\n                                }\r\n                            }\r\n                            catch {\r\n                                this.syncError();\r\n                            }\r\n                        }\r\n                    },\r\n                    cancel: {\r\n                        label: \"Cancel\",\r\n                        className: \"btn-default\"\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        const cardContent = container.querySelector(\".card-content\");\r\n        if (cardContent !== null && cardContent.firstChild !== null) {\r\n            cardContent.firstChild.before(menu);\r\n        }\r\n        else {\r\n            container.append(menu);\r\n        }\r\n\r\n        return container;\r\n    }\r\n\r\n    /**\r\n     * Get a proxy that we can use to talk to the Project Management system.\r\n     * \r\n     * @param proxy The generic proxy for the server connection.\r\n     * @returns A ProjectProxy that can be used to talk to the server.\r\n     */\r\n    private getHubProxy(proxy: Proxy): ProjectProxy {\r\n        const hubProxy = <ProjectProxy>proxy;\r\n\r\n        hubProxy.server = {\r\n            getBoardDataAsync: function (boardId: string) {\r\n                return <Promise<BoardData>>hubProxy.invoke(\"getBoardData\", boardId);\r\n            },\r\n\r\n            moveCardAsync: function (cardId: string, columnId: string, afterCardId: string | null) {\r\n                return <Promise<boolean>>hubProxy.invoke(\"moveCard\", cardId, columnId, afterCardId);\r\n            },\r\n\r\n            removeCardAsync: function (cardId: string) {\r\n                return <Promise<boolean>>hubProxy.invoke(\"removeCard\", cardId);\r\n            }\r\n        };\r\n\r\n        return hubProxy;\r\n    }\r\n\r\n    /**\r\n     * Determines if this project board is in a valid state for futher\r\n     * processing.\r\n     * \r\n     * @returns True if this instance is valid; otherwise false.\r\n     */\r\n    private isValid() {\r\n        return this.kanban !== undefined && this.proxy !== undefined && this.hasError === false;\r\n    }\r\n\r\n    /**\r\n     * A synchronization error with the server occurred.\r\n     */\r\n    private syncError() {\r\n        this.showError(\"Looks like we need to reload and get everything all synced up again.\");\r\n    }\r\n\r\n    /**\r\n     * Display an error message and require the user to reload the page.\r\n     * \r\n     * @param message The message to be displayed.\r\n     */\r\n    private showError(message: string) {\r\n        this.hasError = true;\r\n\r\n        const backdropNode = document.createElement(\"div\");\r\n        backdropNode.classList.add(\"alert-backdrop\");\r\n        this.boardContainer?.appendChild(backdropNode);\r\n\r\n        const alertNode = document.createElement(\"div\");\r\n        alertNode.classList.add(\"alert-message\");\r\n        backdropNode.appendChild(alertNode);\r\n\r\n        const contentNode = document.createElement(\"div\");\r\n        contentNode.classList.add(\"alert-content\");\r\n        alertNode.appendChild(contentNode);\r\n\r\n        const alertTitleNode = document.createElement(\"div\");\r\n        alertTitleNode.classList.add(\"alert-title\");\r\n        alertTitleNode.innerText = \"Error\";\r\n        contentNode.appendChild(alertTitleNode);\r\n\r\n        const alertBodyNode = document.createElement(\"div\");\r\n        alertBodyNode.classList.add(\"alert-body\");\r\n        contentNode.appendChild(alertBodyNode);\r\n\r\n        const alertTextNode = document.createElement(\"p\");\r\n        alertTextNode.innerText = message;\r\n        alertBodyNode.appendChild(alertTextNode);\r\n\r\n        const buttonContainerNode = document.createElement(\"div\");\r\n        buttonContainerNode.classList.add(\"text-center\");\r\n        alertBodyNode.appendChild(buttonContainerNode);\r\n\r\n        const reloadButtonNode = document.createElement(\"span\");\r\n        reloadButtonNode.classList.add(\"btn\", \"btn-primary\");\r\n        reloadButtonNode.innerText = \"Reload\";\r\n        buttonContainerNode.appendChild(reloadButtonNode);\r\n\r\n        reloadButtonNode.addEventListener(\"click\", () => {\r\n            window.location.reload();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Resize the project board to fill the available height of the page.\r\n     */\r\n    private fixedHeightResize() {\r\n        const mainFooter = document.querySelector(\".main-footer\");\r\n        const mainFooterHeight = mainFooter !== null ? mainFooter.getBoundingClientRect().height : 0;\r\n        const board = this.boardContainer!.querySelector(\".kanban-board\")! as HTMLElement;\r\n        const clientHeight = document.documentElement.clientHeight;\r\n\r\n        board.style.height = (clientHeight - board.getBoundingClientRect().top - mainFooterHeight - 5) + \"px\";\r\n    }\r\n\r\n    /**\r\n     * Configures the project board and other elements on the page so that it\r\n     * can operate in fixed height mode where the page doesn't scroll but the\r\n     * individual columns do.\r\n     */\r\n    private configureForFixedHeight() {\r\n        const mainContent = <HTMLElement>document.querySelector(\"#page-content\");\r\n\r\n        if (mainContent !== null) {\r\n            mainContent.style.minHeight = \"auto\";\r\n        }\r\n\r\n        window.addEventListener(\"resize\", this.fixedHeightResize.bind(this));\r\n\r\n        /* \r\n         * Check status of the page load and either resize now or wait\r\n         * for the page to finish loading before doing a resize.\r\n         */\r\n        if (/complete|interactive|loaded/.test(document.readyState)) {\r\n            this.fixedHeightResize();\r\n        } else {\r\n            window.addEventListener(\"DOMContentLoaded\", this.fixedHeightResize.bind(this));\r\n        }\r\n    }\r\n\r\n    // #endregion\r\n\r\n    // #region Event Handlers\r\n\r\n    /**\r\n     * One of the cards has moved inside the Kanban board. If this was a user\r\n     * initiated action then we need to pass along the change to the server.\r\n     * \r\n     * @param cardId The identifier of the card that was moved.\r\n     * @param columnId The identifier of the column that the card was moved to.\r\n     * @param afterCardId The identifier of the card that preceeds this card, or null if this is the first card in the column now.\r\n     * @param userInitiated True if the user initiated this action; otherwise false.\r\n     */\r\n    private async kanbanCardMoved(cardId: string, columnId: string, afterCardId: string | null, userInitiated: boolean) {\r\n        if (!this.isValid()) {\r\n            return;\r\n        }\r\n\r\n        if (userInitiated) {\r\n            try {\r\n                const status = await this.proxy!.server.moveCardAsync(cardId, columnId, afterCardId);\r\n\r\n                if (status === false) {\r\n                    this.syncError();\r\n                }\r\n            }\r\n            catch {\r\n                this.syncError();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * The server has notified us that the board has been updated. Since this\r\n     * is fairly rare and who knows exactly what happened to the board, just\r\n     * force a reload situation.\r\n     * \r\n     * @param boardId The board identifier that is being modified.\r\n     */\r\n    private serverBoardUpdated(boardId: string): void {\r\n        if (!this.isValid() || this.options.boardId !== boardId) {\r\n            return;\r\n        }\r\n\r\n        this.syncError();\r\n    }\r\n\r\n    /**\r\n     * The server has notified us that a card has moved from one column to another.\r\n     * \r\n     * @param boardId The board identifier that is being modified.\r\n     * @param cardId The card identifier that is being moved.\r\n     * @param toColumnGuid The column to which the card is being moved to.\r\n     * @param afterCardGuid The card that the card is being placed after or null if it should be placed at the beginning.\r\n     */\r\n    private serverCardMoved(boardId: string, cardId: string, toColumnGuid: string, afterCardGuid: string | null): void {\r\n        if (!this.isValid() || this.options.boardId !== boardId) {\r\n            return;\r\n        }\r\n\r\n        if (this.kanban!.getElementForColumn(toColumnGuid) === null) {\r\n            return this.syncError();\r\n        }\r\n\r\n        this.kanban!.moveCard(cardId, toColumnGuid, afterCardGuid);\r\n    }\r\n\r\n    /**\r\n     * The server has notified us that a card has had it's content updated.\r\n     * \r\n     * @param boardId The board identifier that is being modified.\r\n     * @param card The card that was updated.\r\n     */\r\n    private serverCardUpdated(boardId: string, card: CardData) {\r\n        if (!this.isValid() || this.options.boardId !== boardId) {\r\n            return;\r\n        }\r\n\r\n        const content = this.getElementForCard(card);\r\n        this.kanban!.updateCardContent(card.id, content);\r\n    }\r\n\r\n    /**\r\n     * The server has notified us that a card has been removed from the system.\r\n     * \r\n     * @param boardId The board identifier that is being modified.\r\n     * @param cardId The identifier of the card that was removed.\r\n     */\r\n    private serverCardRemoved(boardId: string, cardId: string) {\r\n        if (!this.isValid() || this.options.boardId !== boardId) {\r\n            return;\r\n        }\r\n\r\n        this.kanban!.removeCard(cardId);\r\n    }\r\n\r\n    /**\r\n     * A card has been added by way of something that happened on the server.\r\n     * \r\n     * @param boardId The board identifier that is being modified.\r\n     * @param card The card that was added to the board.\r\n     * @param toColumnId The column the card was added it.\r\n     * @param afterCardId The card that preceeds the new card.\r\n     */\r\n    private serverCardAdded(boardId: string, card: CardData, toColumnId: string, afterCardId: string | null) {\r\n        if (!this.isValid() || this.options.boardId !== boardId) {\r\n            return;\r\n        }\r\n\r\n        this.kanban!.insertCardAfter({\r\n            id: card.id,\r\n            content: this.getElementForCard(card)\r\n        }, toColumnId, afterCardId);\r\n    }\r\n\r\n    // #endregion\r\n}\r\n"],"names":["prefix","requestAnimationFrame","i","limit","length","window","lastTime","callback","now","Date","getTime","ttc","Math","max","timer","setTimeout","bind","cancelAnimationFrame","clearTimeout","module","exports","Array","from","isCallable","maxSafeInteger","toLength","iteratorProp","getMethod","iteratorStep","fn","pow","value","len","number","Number","isNaN","isFinite","floor","abs","toInteger","min","indexOf","Symbol","iterator","O","P","func","TypeError","result","next","Boolean","done","items","T","A","k","C","this","mapFn","arguments","usingIterator","Object","nextValue","call","arrayLike","kValue","a","n","prototype","slice","ticky","args","ctx","apply","atoa","debounce","thing","options","opts","evt","undefined","on","type","push","once","_once","off","c","et","splice","emit","emitterSnapshot","shift","throws","forEach","listen","async","typeFunc","object","allowUpdate","boolean","event","target","srcElement","originalTarget","element","targetTouches","x","clientX","y","clientY","pageX","pageY","screenX","screenY","eventDoc","ownerDocument","document","doc","documentElement","body","scrollLeft","clientLeft","scrollTop","clientTop","customEvent","eventmap","g","addEvent","el","capturing","addEventListener","removeEvent","removeEventListener","hardCache","unwrap","item","find","wrapper","attachEvent","originalEvent","e","preventDefault","returnValue","stopPropagation","cancelBubble","which","keyCode","wrapperFactory","wrap","listener","detachEvent","add","remove","fabricate","model","detail","createEvent","initEvent","createEventObject","makeClassicEvent","dispatchEvent","fireEvent","eventname","ron","test","NativeCustomEvent","CustomEvent","p","foo","useNative","params","initCustomEvent","bubbles","cancelable","ex","animationFramePolyfill","domSet","domPlane","mousemoveDispatcher","AutoScroller","elements","self","maxSpeed","scrolling","margin","scrollWhenOutside","point","pointCB","createPointCB","dispatcher","down","autoScroll","syncMove","destroy","forceCleanAnimation","onDown","onUp","onMouseOut","onMove","setScroll","cleanAnimation","addElements","concat","removeElements","windowAnimationFrame","temp","hasWindow","toString","defineProperties","get","animationFrame","current","getElementUnderPoint","underPoint","inside","parentNode","hasElement","getTarget","scrollWindow","scrollTick","scrollx","scrolly","rect","getClientRect","left","right","ceil","top","bottom","dispatch","amount","scrollTo","pageXOffset","pageYOffset","scrollY","scrollX","pointInside","Temp","objectCreate","create","propertiesObject","__proto__","objectCreate$1","mouseEventProps","createMoveInit","defaultSettings","initMove","settings","setSpecial","data","console","log","dispatched","ctrlKey","shiftKey","altKey","metaKey","button","buttons","relatedTarget","region","MouseEvent","initMouseEvent","name","defineProperty","createPointCb","props","enumerable","innerWidth","innerHeight","width","height","createWindowRect","getBoundingClientRect","_interopDefault","arrayFrom","isArray","isElement","_typeof","obj","constructor","isElement$1","input","nodeType","style","select","selector","querySelector","indexOfElement","resolveElement","domListOf","arr","querySelectorAll","map","Error","pushElements","toAdd","noThrow","concatElementLists","lists","reduce","last","list","toRemove","index","selectAll","cache","lookupClass","className","cached","lastIndex","RegExp","rm","replace","trim","emitter","crossvent","classes","touchy","op","navigator","pointerEnabled","mouseup","mousedown","mousemove","msPointerEnabled","whichMouseButton","touches","getOffset","getScroll","scrollProp","offsetProp","clientHeight","getElementBehindPoint","state","elementFromPoint","never","always","getRectWidth","getRectHeight","getParent","isInput","tagName","isEditable","contentEditable","nextEl","nextElementSibling","sibling","nextSibling","manually","getCoord","coord","host","changedTouches","getEventHost","missMap","initialContainers","_mirror","_source","_item","_offsetX","_offsetY","_moveX","_moveY","_initialSibling","_currentSibling","_copy","_renderTimer","_grabbed","_lastDropTarget","o","moves","accepts","invalid","invalidTarget","containers","isContainer","copy","copySortSource","revertOnSpill","removeOnSpill","direction","ignoreInputTextSelection","mirrorContainer","drake","start","manualStart","end","cancel","canMove","dragging","spillOver","spillOut","events","grab","release","eventualMovements","startBecauseMouseMoved","movements","preventGrabbed","context","canStart","focus","slideFactorX","slideFactorY","grabbed","offset","renderMirrorImage","drag","handle","source","isCopy","cloneNode","drop","ungrab","dropTarget","findDropTarget","parent","removeChild","isInitialPlacement","cleanup","revert","reverts","initial","insertBefore","removeMirrorImage","s","elementBehindCursor","accepted","immediate","getImmediateChild","reference","getReference","changed","moved","appendChild","horizontal","resolve","children","outside","after","container","str","val","jQuery","core_rspace","optionsCache","Callbacks","each","split","_","flag","createOptions","extend","memory","fired","firing","firingStart","firingLength","firingIndex","stack","fire","stopOnFalse","disable","arg","unique","has","inArray","empty","disabled","lock","locked","fireWith","String","class2type","isFunction","isPlainObject","isObj","src","copyIsArray","clone","deep","noop","toLowerCase","core_slice","Deferred","tuples","promise","deferred","fail","then","fns","newDefer","tuple","action","returned","reject","progress","notify","pipe","stateString","when","subordinate","progressValues","progressContexts","resolveContexts","resolveValues","remaining","updateFunc","contexts","values","notifyWith","resolveWith","global","param","rbracket","v","encodeURIComponent","buildParams","key","join","xhrObj","jQueryDeferred","jQueryParam","xhr","XMLHttpRequest","subject","load","handler","unbind","handlers","idx","triggerHandler","_this","defaultAjaxHeaders","ajax","request","xhrFields","withCredentials","onreadystatechange","readyState","status","_hasError","error","success","JSON","parse","responseText","cacheBuster","url","open","setRequestHeader","contentType","headers","keys","send","abort","reason","isEmptyObject","makeArray","support","cors","jQueryShim","$","resources","nojQuery","noTransportOnInit","errorOnNegotiate","stoppedWhileLoading","stoppedWhileNegotiating","errorParsingNegotiateResponse","errorRedirectionExceedsLimit","errorDuringStartRequest","errorFromServer","stoppedDuringStartRequest","errorParsingStartResponse","invalidStartResponse","protocolIncompatible","aspnetCoreSignalrServer","sendFailed","parseFailed","longPollFailed","eventSourceFailedToConnect","eventSourceError","webSocketClosed","pingServerFailedInvalidResponse","pingServerFailed","pingServerFailedStatusCode","pingServerFailedParse","noConnectionTransport","webSocketsInvalidState","reconnectTimeout","reconnectWindowTimeout","jsonpNotSupportedWithAccessToken","_signalR","_connection","version","matches","_pageLoaded","_pageWindow","_negotiateAbortText","onStart","onStarting","onReceived","onError","onConnectionSlow","onReconnecting","onReconnect","onStateChanged","onDisconnect","changeState","connection","expectedState","newState","oldState","supportsKeepAlive","keepAliveData","activated","transport","addDefaultPort","protocol","match","getDefaultPort","ConnectingMessageBuffer","drainCallback","that","buffer","tryBuffer","message","signalR","connectionState","connecting","drain","connected","clear","qs","logging","init","defaultContentType","ieVersion","appName","exec","userAgent","parseFloat","transportError","format","firefoxMajorVersion","parseInt","configurePingInterval","config","onFail","pingIntervalId","pingInterval","setInterval","transports","_logic","pingServer","ajaxDefaults","processData","timeout","isDisconnecting","disconnected","reconnecting","hub","$connection","lastError","connectingMessageBuffer","lastMessageAt","lastActiveAt","beatInterval","beatHandle","totalTransportConnectTimeout","redirectQs","_parseResponse","response","json","_originalJson","isCrossDomain","against","link","location","createElement","href","ajaxDataType","clientProtocol","supportedProtocols","negotiateRedirectSupportedProtocols","reconnectDelay","transportConnectTimeout","disconnectTimeout","reconnectWindow","keepAliveWarnAt","_initialize","waitForPageLoad","jsonp","_deferral","parser","setConnectionUrl","baseUrl","wsProtocol","requestedTransport","validateTransport","deferredStartHandler","stopReconnectingTimeout","onReconnectTimeout","configuredStopReconnectingTimeout","stop","stateChanged","configureStopReconnectingTimeout","_originalUrl","initHandler","noTransportError","transportName","onFallback","isFirefox11OrGreater","monitorKeepAlive","startHeartbeat","res","protocolError","redirects","supportedTransports","negotiate","onFailed","err","negotiateRequest","prepareQueryString","onSuccess","_error","statusText","accessToken","availableTransports","ProtocolVersion","RedirectUrl","AccessToken","splitUrlAndQs","appRelativeUrl","Url","id","ConnectionId","token","ConnectionToken","webSocketServerUrl","WebSocketServerUrl","pollTimeout","ConnectionTimeout","DisconnectTimeout","TransportConnectTimeout","KeepAliveTimeout","timeoutWarning","TryWebSockets","starting","received","errorData","sendData","connectionSlow","reconnected","notifyServer","deferral","clearInterval","stopMonitoringKeepAlive","messageId","groupsToken","msg","m","toTimeString","debug","_log","noConflict","transportLogic","startAbortText","beat","monitoring","timeElapsed","lostConnection","userNotified","checkIfAlive","markActive","getAjaxUrl","path","InitHandler","startRequested","startCompleted","connectionStopped","failCalled","initReceived","transportFailed","transportTimeoutHandle","tryAbortStartRequest","ajaxStart","wrappedError","dataType","addQs","Response","_error2","preparedUrl","firstChar","appender","charAt","getUrl","poll","ajaxPost","random","maximizePersistentResponse","minPersistentResponse","MessageId","Messages","M","Initialized","S","ShouldReconnect","LongPollDelay","L","GroupsToken","G","E","updateGroups","stringifySend","stringify","ajaxSend","payload","triggerReceived","_error3","textStatus","ajaxAbort","rejectDeferred","triggerStartError","startRequest","_error4","tryInitialize","persistentResponse","onInitialized","processMessages","minData","I","markLastMessage","reconnectKeepAliveUpdate","verifyLastActive","isConnectedOrReconnecting","ensureReconnectingState","clearReconnectTimeout","reconnect","handleParseFailure","foreverFrame","count","connections","webSockets","socket","opened","WebSocket","onopen","onclose","wasClean","onmessage","close","clearReconnectAttemptTimeout","reconnectAttemptTimeoutHandle","serverSentEvents","timeOut","eventSource","EventSource","Message","OPEN","eventPhase","CLOSED","loadingFixIntervalId","attachedTo","createFrame","frame","setAttribute","loadPreventer","prevent","tempFrame","iframeClearThreshold","frameId","frameLoadHandler","receive","cw","frameMessageCount","contentWindow","contentDocument","firstChild","execCommand","getConnection","started","longPolling","_fireConnect","tryFailConnect","privateData","reconnectErrors","fireReconnected","instance","reconnectTimeoutId","pollXhr","pollTimeoutId","raiseReconnect","polling","postData","onprogress","shouldReconnect","delay","nextGuid","makeEventName","fun","thisp","hasOwnProperty","getArgValue","hasMembers","clearInvocationCallbacks","callbacks","invocationCallbacks","callbackId","invocationCallbackId","method","scope","isCallbackFromGeneratedHubProxy","hubProxy","hubConnection","hubName","useDefaultPath","callbackMap","hasSubscriptions","eventName","callbackIdentity","isFromOldGeneratedHubProxy","_signalRGuid","registration","callbackSpace","guid","eventHandlers","callbackRegistration","j","invoke","methodName","argValues","H","d","minResult","_maximizeHubResponse","State","Progress","Data","progressjQueryVersionLogged","jquery","StackTrace","IsHubException","ErrorData","rejectWith","Result","minHubResponse","R","Id","D","proxies","proxy","dataCallbackId","_maximizeClientHubInvocation","Method","Hub","Args","errData","origData","minClientHubInvocation","_registerSubscribedHubs","_subscribedToHubs","subscribedHubs","createHubProxy","tick","setImmediate","evtArr","evts","liveEvents","TinyEmitter","getDef","f","def","_len","_key","integer","_len2","_key2","string","_len3","_key3","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","globalThis","Function","prop","r","toStringTag","__assign","assign","t","__awaiter","thisArg","_arguments","generator","Promise","fulfilled","step","rejected","__generator","label","sent","trys","ops","verb","pop","elementSelector","currentColumns","HTMLElement","board","classList","readonly","setupDragula","onDrop","toColumnNode","closest","fromColumnNode","cardId","dataset","toColumnId","fromColumnId","card","findCard","toColumn","findColumn","fromColumn","fromColumnIndex","cards","toColumnIndex","childNodes","afterCardId","columnId","findColumnIndex","findColumnForCard","column","findCardIndex","cardIndex","addColumn","insertColumnInternal","insertColumnBefore","beforeColumnId","columnIndex","getElementForColumn","node","getElementForCard","getCardIdsForColumn","insertCardAfter","insertCardInternal","moveCard","cardsContainer","fromColumnCardIndex","insertAfterCard","afterCard","previousSibling","prepend","updateCardContent","content","Element","innerHTML","removeCard","columnElement","header","DOMParser","parseFromString","titleElement","innerText","scrollElement","cardsElement","beforeColumn","internalColumn","cardElement","beforeCard","internalCard","getWindow","defaultView","getWindowScroll","win","isHTMLElement","isShadowRoot","ShadowRoot","getNodeName","nodeName","getDocumentElement","getWindowScrollBarX","getComputedStyle","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","scroll","offsets","getLayoutRect","clientRect","offsetWidth","offsetHeight","offsetLeft","offsetTop","getParentNode","assignedSlot","getScrollParent","listScrollParents","_element$ownerDocumen","scrollParent","isBody","visualViewport","updatedList","isTableElement","getTrueOffsetParent","position","getOffsetParent","isFirefox","currentNode","css","transform","perspective","contain","willChange","filter","getContainingBlock","auto","basePlacements","viewport","popper","variationPlacements","acc","placement","modifierPhases","order","modifiers","Map","visited","Set","sort","modifier","requires","requiresIfExists","dep","depModifier","set","DEFAULT_OPTIONS","strategy","areValidElements","some","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","pending","orderedModifiers","modifiersData","attributes","styles","effectCleanupFns","isDestroyed","setOptions","cleanupModifierEffects","scrollParents","contextElement","phase","orderModifiers","merged","existing","mergeByName","enabled","_ref3","_ref3$options","effect","cleanupFn","noopFn","update","forceUpdate","_state$elements","rects","reset","_state$orderedModifie","_state$orderedModifie2","_options","onFirstUpdate","passive","_ref","_options$scroll","_options$resize","resize","getBasePlacement","getVariation","getMainAxisFromPlacement","computeOffsets","basePlacement","variation","commonX","commonY","mainAxis","round","unsetSides","mapToStyles","_ref2","_Object$assign2","popperRect","gpuAcceleration","adaptive","roundOffsets","dpr","devicePixelRatio","roundOffsetsByDPR","_ref3$x","_ref3$y","hasX","hasY","sideX","sideY","heightProp","widthProp","_Object$assign","commonStyles","removeAttribute","initialStyles","arrow","property","attribute","hash","getOppositePlacement","matched","getOppositeVariationPlacement","contains","child","rootNode","getRootNode","isSameNode","rectToClientRect","getClientRectFromMixedType","clippingParent","html","clientWidth","getViewportRect","getInnerBoundingClientRect","winScroll","scrollWidth","scrollHeight","getDocumentRect","getClippingRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","getClippingParents","firstClippingParent","clippingRect","accRect","mergePaddingObject","paddingObject","expandToHashMap","hashMap","detectOverflow","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","padding","altContext","referenceElement","clippingClientRect","referenceClientRect","popperOffsets","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","axis","within","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","eventListeners","_ref4","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","_options$offset","invertDistance","skidding","distance","distanceAndSkiddingToXY","_data$state$placement","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","placements","_options$allowedAutoP","allowedPlacements","overflows","b","computeAutoPlacement","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","_loop","_i","fittingPlacement","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","mainSide","altSide","additive","minLen","maxLen","arrowElement","arrowRect","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","arrowOffsetParent","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_mainSide","_altSide","_offset","_min","_max","_preventedOffset","_state$modifiersData$","toPaddingObject","minProp","maxProp","endDiff","startDiff","clientSize","centerToReference","center","axisProp","centerOffset","_options$element","preventOverflow","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","CONTENT_CLASS","BACKDROP_CLASS","ARROW_CLASS","SVG_ARROW_CLASS","TOUCH_OPTIONS","capture","getValueAtIndexOrReturn","defaultValue","isType","invokeWithArgsOrReturn","ms","normalizeToArray","pushIfUnique","div","isMouseEvent","isReferenceElement","_tippy","getArrayOfElements","isNodeList","setTransitionDuration","els","transitionDuration","setVisibilityState","getOwnerDocument","elementOrElements","updateTransitionEndListener","box","currentInput","isTouch","lastMouseMoveTime","onDocumentTouchStart","performance","onDocumentMouseMove","onWindowBlur","activeElement","blur","isVisible","ua","isIE","pluginProps","animateFill","followCursor","inlinePositioning","sticky","defaultProps","appendTo","aria","expanded","duration","getReferenceClientRect","hideOnClick","ignoreAttributes","interactive","interactiveBorder","interactiveDebounce","moveTransition","onAfterUpdate","onBeforeUpdate","onCreate","onDestroy","onHidden","onHide","onMount","onShow","onShown","onTrigger","onUntrigger","onClickOutside","plugins","popperOptions","render","showOnCreate","touch","trigger","triggerTarget","allowHTML","animation","inertia","maxWidth","role","theme","zIndex","defaultKeys","getExtendedPassedProps","passedProps","plugin","evaluateProps","out","valueAsString","getAttribute","getDataAttributeProps","dangerouslySetInnerHTML","createArrowElement","setContent","textContent","getChildren","firstElementChild","boxChildren","backdrop","onUpdate","prevProps","nextProps","_getChildren","$$tippy","idCounter","mouseMoveListeners","mountedInstances","createTippy","showTimeout","hideTimeout","scheduleHideAnimationFrame","lastTriggerEvent","currentTransitionEndListener","currentTarget","isVisibleFromClick","didHideDueToDocumentMouseDown","didTouchMove","ignoreOnFirstUpdate","listeners","debouncedOnMouseMove","onMouseMove","popperInstance","isEnabled","isMounted","isShown","clearDelayTimeouts","setProps","partialProps","invokeHook","removeListeners","addListeners","cleanupInteractiveMouseListeners","handleAriaExpandedAttribute","handleStyles","createPopperInstance","getNestedPopperTree","nestedPopper","show","isAlreadyVisible","isDisabled","isTouchAndTouchDisabled","getCurrentTarget","hasAttribute","getIsDefaultRenderFn","visibility","addDocumentPress","transition","_getDefaultTemplateCh2","getDefaultTemplateChildren","_instance$popperInsta2","_getDefaultTemplateCh3","_box","_content","handleAriaContentAttribute","onTransitionEnd","onTransitionedIn","mount","hide","isAlreadyHidden","removeDocumentPress","_getDefaultTemplateCh4","onTransitionedOut","unmount","hideWithInteractivity","getDocument","enable","destroyPopperInstance","_props$render","pluginsHooks","hasAriaExpanded","scheduleShow","getNormalizedTouchSettings","getIsCustomTouchBehavior","_instance$props$rende","getDelay","isShow","pointerEvents","hook","shouldInvokePropsHook","_instance$props","pluginHooks","attr","currentValue","onDocumentPress","onTouchMove","onTouchStart","eventType","onMouseLeave","onBlurOrFocusOut","_lastTriggerEvent","shouldScheduleClickHide","isEventListenerStopped","wasFocused","scheduleHide","isCursorOverReferenceOrPopper","popperTreeData","popperState","topDistance","bottomDistance","leftDistance","rightDistance","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","isCursorOutsideInteractiveBorder","_instance$popperInsta","_instance$props2","computedReference","_getNormalizedTouchSe","touchValue","touchDelay","tippy","targets","optionalProps","instances","setDefaultProps","hasError","loadingCardsForColumn","boardId","boardContainer","signalrConnection","getHubProxy","serverBoardUpdated","serverCardMoved","serverCardUpdated","serverCardRemoved","serverCardAdded","setupInitialBoardAsync","server","getBoardDataAsync","showError","kanbanElement","kanban","KanbanBoard","columns","getColumnHeader","columnDom","onColumnScroll","loadMoreCardsForColumn","configureForFixedHeight","kanbanCardMoved","isValid","shouldLoadMoreCardsForScroll","loopCount","existingCards","lastCardId","fetch","ok","syncError","title","menu","menuContent","menuAddProject","menuAddTask","append","menuTippy","ev","onAddProject","onAddTask","tooltip","menuRemove","ref","bootbox","dialog","removeCardAsync","cardContent","before","moveCardAsync","backdropNode","alertNode","contentNode","alertTitleNode","alertBodyNode","alertTextNode","buttonContainerNode","reloadButtonNode","reload","fixedHeightResize","mainFooter","mainFooterHeight","mainContent","minHeight","userInitiated","toColumnGuid","afterCardGuid"],"sourceRoot":""}